/*! For license information please see main.b307d7ca.js.LICENSE.txt */
(()=>{"use strict";var e={700:(e,t,n)=>{n.d(t,{Am:()=>N,FA:()=>A,Fy:()=>m,I9:()=>D,Im:()=>_,Ku:()=>L,T9:()=>h,Tj:()=>u,Uj:()=>s,XA:()=>f,ZQ:()=>g,bD:()=>I,c1:()=>y,cY:()=>p,eX:()=>k,g:()=>C,hp:()=>R,jZ:()=>v,lT:()=>x,lV:()=>w,nr:()=>S,sr:()=>b,tD:()=>O,u:()=>a,yU:()=>d,zW:()=>E});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==l)throw new o;const c=t<<2|s>>4;if(r.push(c),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==l){const e=a<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const l=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return l()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&a(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},u=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},d=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=c())||void 0===t?void 0:t["_".concat(e)]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function y(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function b(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function x(){const e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function S(){return!function(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E(){try{return"object"===typeof indexedDB}catch(e){return!1}}function k(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class C extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,C.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A.prototype.create)}}class A{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(T,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new C(n,o,t)}}const T=/\{\$([^}]+)}/g;function _(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function I(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(P(n)&&P(o)){if(!I(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function P(e){return null!==e&&"object"===typeof e}function N(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function D(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function R(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function O(e,t){const n=new j(e,t);return n.subscribe.bind(n)}class j{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=M),void 0===r.error&&(r.error=M),void 0===r.complete&&(r.complete=M);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function M(){}function L(e){return e&&e._delegate?e._delegate:e}},191:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler");Symbol.for("react.provider");var a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case a:return e;default:return t}}case r:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===s||e===o||e===u||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===h||e.$$typeof===l||e.$$typeof===a||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)}},219:(e,t,n)=>{var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},983:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||x(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===a},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=x},763:(e,t,n)=>{e.exports=n(983)},730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,L=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case C:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,ke=null;function Ce(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Se(e.stateNode,e.type,t))}}function Ae(e){Ee?ke?ke.push(e):ke=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=ke;if(ke=Ee=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function _e(e,t){return e(t)}function Ie(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return _e(e,t,n)}finally{Pe=!1,(null!==Ee||null!==ke)&&(Ie(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Re=!1}function je(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Le=null,Fe=!1,Ve=null,Ue={onError:function(e){Me=!0,Le=e}};function Be(e,t,n,r,i,o,s,a,l){Me=!1,Le=null,je.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return He(i),e;if(s===r)return He(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,Et,kt,Ct,At=!1,Tt=[],_t=null,It=null,Pt=null,Nt=new Map,Dt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Ct(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){At=!1,null!==_t&&Ft(_t)&&(_t=null),null!==It&&Ft(It)&&(It=null),null!==Pt&&Ft(Pt)&&(Pt=null),Nt.forEach(Vt),Dt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Bt(_t,e),null!==It&&Bt(It,e),null!==Pt&&Bt(Pt,e),Nt.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=Mt(_t,e,t,n,r,i),!0;case"dragenter":return It=Mt(It,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Mt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,Mt(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(L({},fn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),vn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return kn}var An=L({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(An),_n=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(Nn),Rn=[9,13,27,32],On=u&&"CompositionEvent"in window,jn=null;u&&"documentMode"in document&&(jn=document.documentMode);var Mn=u&&"TextEvent"in window&&!jn,Ln=u&&(!On||jn&&8<jn&&11>=jn),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ae(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,xe(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Er={},kr={};function Cr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Er[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Ar=Cr("animationend"),Tr=Cr("animationiteration"),_r=Cr("animationstart"),Ir=Cr("transitionend"),Pr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Pr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Nr.length;Rr++){var Or=Nr[Rr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Ar,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(_r,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Le;Me=!1,Le=null,Fe||(Fe=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,a,c),o=l}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Ne((function(){var r=o,i=xe(n),s=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Ar:case Tr:case _r:l=vn;break;case Ir:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=De(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Hn(a))if(Jn)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),$t=Zt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Fr(s,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=De(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=De(n,o))&&s.unshift(Wr(n,l,a)):i||null!=(l=De(n,o))&&s.push(Wr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var Si=[],Ei=-1;function ki(e){return{current:e}}function Ci(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function Ai(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ti={},_i=ki(Ti),Ii=ki(!1),Pi=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ci(Ii),Ci(_i)}function Oi(e,t,n){if(_i.current!==Ti)throw Error(o(168));Ai(_i,t),Ai(Ii,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return L({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=_i.current,Ai(_i,e),Ai(Ii,Ii.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ji(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ii),Ci(_i),Ai(_i,e)):Ci(Ii),Ai(Ii,n)}var Fi=null,Vi=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge($e,zi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,Ji="";function Zi(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function $i(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xi=1<<32-st(t)+i|n<<i|r,Ji=o+e}else Xi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function to(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=jc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=jc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),io&&Zi(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Zi(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Zi(i,m),c}function g(i,a,l,c){var u=j(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Zi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return io&&Zi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Zi(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===E&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===E){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&bo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=vo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===E?((o=jc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Oc(s.type,s.key,s.props,null,r.mode,l)).ref=vo(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(s,r.mode,l)).return=r,r=o}return a(r);case D:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(j(s))return g(r,o,s,l);yo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Lc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var xo=wo(!0),So=wo(!1),Eo=ki(null),ko=null,Co=null,Ao=null;function To(){Ao=Co=ko=null}function _o(e){var t=Eo.current;Ci(Eo),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Po(e,t){ko=e,Ao=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function No(e){var t=e._currentValue;if(Ao!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===ko)throw Error(o(308));Co=e,ko.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Do=null;function Ro(e){null===Do?Do=[e]:Do.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ro(t)):(n.next=i.next,i.next=n),t.interleaved=n,jo(e,r)}function jo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_l)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,jo(e,n)}return null===(i=r.interleaved)?(t.next=t,Ro(r)):(t.next=i.next,i.next=t),r.interleaved=t,jo(e,n)}function Bo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Mo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Wo={},Ko=ki(Wo),Go=ki(Wo),Qo=ki(Wo);function Yo(e){if(e===Wo)throw Error(o(174));return e}function Xo(e,t){switch(Ai(Qo,t),Ai(Go,e),Ai(Ko,Wo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Ko),Ai(Ko,t)}function Jo(){Ci(Ko),Ci(Go),Ci(Qo)}function Zo(e){Yo(Qo.current);var t=Yo(Ko.current),n=le(t,e.type);t!==n&&(Ai(Go,e),Ai(Ko,n))}function $o(e){Go.current===e&&(Ci(Ko),Ci(Go))}var es=ki(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=w.ReactCurrentDispatcher,os=w.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,fs=0;function ps(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?$s:ea,e=n(r,i),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(ds)}if(is.current=Zs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function ws(e,t){return"function"===typeof t?t(e):t}function xs(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Ml|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Es(){}function ks(e,t){var n=as,r=bs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,Ms(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ns(9,As.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(o(349));0!==(30&ss)||Cs(n,t,i)}return i}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,r){t.value=n,t.getSnapshot=r,_s(t)&&Is(e)}function Ts(e,t,n){return n((function(){_s(t)&&Is(e)}))}function _s(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Is(e){var t=jo(e,1);null!==t&&nc(t,e,1,-1)}function Ps(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,as,e),[t.memoizedState,e]}function Ns(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ds(){return bs().memoizedState}function Rs(e,t,n,r){var i=ys();as.flags|=e,i.memoizedState=Ns(1|t,n,void 0,void 0===r?null:r)}function Os(e,t,n,r){var i=bs();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&ms(r,s.deps))return void(i.memoizedState=Ns(t,n,o,r))}as.flags|=e,i.memoizedState=Ns(1|t,n,o,r)}function js(e,t){return Rs(8390656,8,e,t)}function Ms(e,t){return Os(2048,8,e,t)}function Ls(e,t){return Os(4,2,e,t)}function Fs(e,t){return Os(4,4,e,t)}function Vs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Us(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,Vs.bind(null,t,e),n)}function Bs(){}function zs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ws(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{bt=n,os.transition=r}}function Ks(){return bs().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Xs(t,n);else if(null!==(n=Oo(e,t,n,r))){nc(n,e,r,ec()),Js(n,t,r)}}function Qs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Xs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Ro(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oo(e,t,i,r))&&(nc(n,e,r,i=ec()),Js(n,t,r))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function Xs(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zs={readContext:No,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},$s={readContext:No,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:js,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4194308,4,Vs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Ps,useDebugValue:Bs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Ps(!1),t=e[0];return e=Ws.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=ys();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Il)throw Error(o(349));0!==(30&ss)||Cs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,js(Ts.bind(null,r,s,e),[e]),r.flags|=2048,Ns(9,As.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Il.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-st(Xi)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:No,useCallback:zs,useContext:No,useEffect:Ms,useImperativeHandle:Us,useInsertionEffect:Ls,useLayoutEffect:Fs,useMemo:qs,useReducer:xs,useRef:Ds,useState:function(){return xs(ws)},useDebugValue:Bs,useDeferredValue:function(e){return Hs(bs(),ls.memoizedState,e)},useTransition:function(){return[xs(ws)[0],bs().memoizedState]},useMutableSource:Es,useSyncExternalStore:ks,useId:Ks,unstable_isNewReconciler:!1},ta={readContext:No,useCallback:zs,useContext:No,useEffect:Ms,useImperativeHandle:Us,useInsertionEffect:Ls,useLayoutEffect:Fs,useMemo:qs,useReducer:Ss,useRef:Ds,useState:function(){return Ss(ws)},useDebugValue:Bs,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Hs(t,ls.memoizedState,e)},useTransition:function(){return[Ss(ws)[0],bs().memoizedState]},useMutableSource:Es,useSyncExternalStore:ks,useId:Ks,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Vo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(nc(t,e,i,r),Bo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Vo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(nc(t,e,i,r),Bo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Vo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Uo(e,i,r))&&(nc(t,e,r,n),Bo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=No(o):(i=Di(t)?Pi:_i.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=No(o):(o=Di(t)?Pi:_i.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Vo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),da(0,t)},n}function pa(e,t,n){(n=Vo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Vo(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?So(t,null,n,r):xo(t,e.child,n,r)}function xa(e,t,n,r,i){n=n.render;var o=t.ref;return Po(t,i),r=gs(e,t,n,r,o,i),n=vs(),null===e||ba?(io&&n&&eo(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ea(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Rc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Aa(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ai(Rl,Dl),Dl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ai(Rl,Dl),Dl|=r;return wa(e,t,i,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Aa(e,t,n,r,i){var o=Di(n)?Pi:_i.current;return o=Ni(t,o),Po(t,i),n=gs(e,t,n,r,o,i),r=vs(),null===e||ba?(io&&r&&eo(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ta(e,t,n,r,i){if(Di(n)){var o=!0;Mi(t)}else o=!1;if(Po(t,i),null===t.stateNode)qa(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=No(c):c=Ni(t,c=Di(n)?Pi:_i.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Mo=!1;var h=t.memoizedState;s.state=h,qo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ii.current||Mo?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Mo||oa(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=No(l):l=Ni(t,l=Di(n)?Pi:_i.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),Mo=!1,h=t.memoizedState,s.state=h,qo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ii.current||Mo?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Mo||oa(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _a(e,t,n,r,o,i)}function _a(e,t,n,r,i,o){Ca(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Li(t,n,!1),Ha(e,t,o);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,a,o)):wa(e,t,a,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Xo(e,t.containerInfo)}function Pa(e,t,n,r,i){return po(),mo(i),t.flags|=256,wa(e,t,n,r),t.child}var Na,Da,Ra,Oa,ja={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ai(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,i,0,null),e=jc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=ja,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(s=jc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=ja,s);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Il)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,jo(e,i),nc(r,e,i,-1))}return mc(),Va(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Rc(r,a):(a=jc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=ja,i}return e=(a=e.child).sibling,i=Rc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Ba(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,o);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Di(t.type)&&Ri(),Ka(t),null;case 3:return r=t.stateNode,Jo(),Ci(Ii),Ci(_i),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Da(e,t),Ka(t),null;case 5:$o(t);var i=Yo(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=Yo(Ko.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Vr(jr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,s),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Vr("invalid",r);break;case"textarea":ie(r,s),Vr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":K(r),$(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Vr(jr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Vr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Qo.current),Yo(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ka(t),null;case 13:if(Ci(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Jo(),Da(e,t),null===e&&zr(t.stateNode.containerInfo),Ka(t),null;case 10:return _o(t.type._context),Ka(t),null;case 19:if(Ci(es),null===(s=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Wa(s,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Wa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>zl&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ka(t),null}else 2*Je()-s.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=es.current,Ai(es,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),Ci(Ii),Ci(_i),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $o(t),null;case 13:if(Ci(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(es),null;case 4:return Jo(),null;case 10:return _o(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Ra=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(Ko.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function $a(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||$a(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Xa&&($a(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,hl(e,t,n),Xa=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(s,a,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&$a(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&$a(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(i,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":Z(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Je())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||d,ml(t,e),Xa=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Za=e,d=e.child;null!==d;){for(h=Za=d;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:$a(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:$a(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Za=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ya;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ya;var c=Xa;if(Ya=s,(Xa=l)&&!c)for(Za=i;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?Sl(i):null!==l?(l.return=s,Za=l):Sl(i);for(;null!==o;)Za=o,bl(o,t,n),o=o.sibling;Za=i,Ya=a,Xa=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):wl(e)}}function wl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ho(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(o(163))}Xa||512&t.flags&&il(t)}catch(f){kc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function xl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{il(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var El,kl=Math.ceil,Cl=w.ReactCurrentDispatcher,Al=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,_l=0,Il=null,Pl=null,Nl=0,Dl=0,Rl=ki(0),Ol=0,jl=null,Ml=0,Ll=0,Fl=0,Vl=null,Ul=null,Bl=0,zl=1/0,ql=null,Hl=!1,Wl=null,Kl=null,Gl=!1,Ql=null,Yl=0,Xl=0,Jl=null,Zl=-1,$l=0;function ec(){return 0!==(6&_l)?Je():-1!==Zl?Zl:Zl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==Nl?Nl&-Nl:null!==go.transition?(0===$l&&($l=mt()),$l):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(o(185));vt(e,n,r),0!==(2&_l)&&e===Il||(e===Il&&(0===(2&_l)&&(Ll|=n),4===Ol&&ac(e,Nl)),rc(e,r),1===n&&0===_l&&0===(1&t.mode)&&(zl=Je()+500,Vi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Il?Nl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),si((function(){0===(6&_l)&&zi()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zl=-1,$l=0,0!==(6&_l))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=_l;_l|=2;var s=pc();for(Il===e&&Nl===t||(ql=null,zl=Je()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}To(),Cl.current=s,_l=i,null!==Pl?t=0:(Il=null,Nl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=jl,hc(e,0),ac(e,r),rc(e,Je()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=pt(e))&&(r=s,t=oc(e,s))),1===t))throw n=jl,hc(e,0),ac(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Ul,ql);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Bl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Ul,ql),t);break}xc(e,Ul,ql);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Ul,ql),r);break}xc(e,Ul,ql);break;default:throw Error(o(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ac(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&_l))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=jl,hc(e,0),ac(e,t),rc(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Ul,ql),rc(e,Je()),null}function cc(e,t){var n=_l;_l|=1;try{return e(t)}finally{0===(_l=n)&&(zl=Je()+500,Vi&&zi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&_l)&&Sc();var t=_l;_l|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(_l=t))&&zi()}}function dc(){Dl=Rl.current,Ci(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Jo(),Ci(Ii),Ci(_i),rs();break;case 5:$o(r);break;case 4:Jo();break;case 13:case 19:Ci(es);break;case 10:_o(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=e,Pl=e=Rc(e.current,null),Nl=Dl=t,Ol=0,jl=null,Fl=Ll=Ml=0,Ul=Vl=null,null!==Do){for(t=0;t<Do.length;t++)if(null!==(r=(n=Do[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Do=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(To(),is.current=Zs,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,Al.current=null,null===n||null===n.return){Ol=1,jl=t,Pl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mo(ca(c,l));break e}}s=c=ca(c,l),4!==Ol&&(Ol=2),null===Vl?Vl=[s]:Vl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,zo(s,fa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,zo(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pc(){var e=Cl.current;return Cl.current=Zs,null===e?Zs:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Il||0===(268435455&Ml)&&0===(268435455&Ll)||ac(Il,Nl)}function gc(e,t){var n=_l;_l|=2;var r=pc();for(Il===e&&Nl===t||(ql=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(To(),_l=n,Cl.current=r,null!==Pl)throw Error(o(261));return Il=null,Nl=0,Ol}function vc(){for(;null!==Pl;)bc(Pl)}function yc(){for(;null!==Pl&&!Ye();)bc(Pl)}function bc(e){var t=El(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,Al.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Dl)))return void(Pl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ol=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ol&&(Ol=5)}function xc(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&_l))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Il&&(Pl=Il=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ic(tt,(function(){return Sc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=_l;_l|=4,Al.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){kc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Xe(),_l=l,bt=a,Tl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Yl=i),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Yl)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,zi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function Sc(){if(null!==Ql){var e=wt(Yl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&_l))throw Error(o(331));var i=_l;for(_l|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Za=h;else for(;null!==Za;){var f=(d=Za).sibling,p=d.return;if(ol(d),d===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Za=y;break e}Za=s.return}}var b=e.current;for(Za=b;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=b;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){kc(l,l.return,S)}if(l===a){Za=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Za=x;break e}Za=l.return}}if(_l=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Ec(e,t,n){e=Uo(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Uo(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Nl&n)===n&&(4===Ol||3===Ol&&(130023424&Nl)===Nl&&500>Je()-Bl?hc(e,0):Fl|=n),rc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=jo(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ac(e,n)}function Ic(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Pc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Dc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return jc(n.children,i,s,t);case k:a=8,i|=8;break;case C:return(e=Nc(12,n,t,2|i)).elementType=C,e.lanes=s,e;case I:return(e=Nc(13,n,t,i)).elementType=I,e.lanes=s,e;case P:return(e=Nc(19,n,t,i)).elementType=P,e.lanes=s,e;case R:return Mc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:a=10;break e;case T:a=9;break e;case _:a=11;break e;case N:a=14;break e;case D:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function jc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,o,s,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Bc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Di(n))return ji(e,n,t)}return t}function zc(e,t,n,r,i,o,s,a,l){return(e=Uc(n,r,!0,e,0,o,0,a,l)).context=Bc(null),n=e.current,(o=Vo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Uo(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Vo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Uo(i,t,s))&&(nc(e,i,s,o),Bo(e,i,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ia(t),po();break;case 5:Zo(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(Eo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?La(e,t,n):(Ai(es,1&es.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ai(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,io&&0!==(1048576&t.flags)&&$i(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Ni(t,_i.current);Po(t,n),i=gs(null,t,r,e,i,n);var s=vs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=_a(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===N)return 14}return 2}(r),e=na(r,e),i){case 0:t=Aa(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Ia(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Fo(e,t),qo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Pa(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ha(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Zo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ca(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return La(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ai(Eo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ii.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Vo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Io(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Io(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Po(t,n),r=r(i=No(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Sa(e,t,r,i=na(r.type,i),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),qa(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Po(t,n),sa(t,r,i),la(t,r,i,n),_a(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function $c(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Hc(s);a.call(e)}}qc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(s);o.call(e)}}var s=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(s)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Je()),0===(6&_l)&&(zl=Je()+500,zi()))}break;case 13:uc((function(){var t=jo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},St=function(e){if(13===e.tag){var t=jo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=jo(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},kt=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));G(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ae,Te,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){$c(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return $c(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:E.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+_(l,0):o,x(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(s,t,i,"",(function(e){return e}))):null!=s&&(A(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+_(a=e[c],c);l+=I(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,i,u=o+_(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};function j(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=j,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(S);else{var t=r(u);null!==t&&O(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(A),A=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(x,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,C=null,A=-1,T=5,_=-1;function I(){return!(t.unstable_now()-_<T)}function P(){if(null!==C){var e=t.unstable_now();_=e;var n=!0;try{n=C(!0,e)}finally{n?E():(k=!1,C=null)}}else k=!1}if("function"===typeof b)E=function(){b(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,D=N.port2;N.port1.onmessage=P,E=function(){D.postMessage(null)}}else E=function(){v(P,0)};function R(e){C=e,k||(k=!0,E())}function O(e,n){A=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(A),A=-1):g=!0,O(x,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)},353:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVeSURBVHgBvZi/bxt1FMDfe1/bNIDa81CkDjRntQJVQqqzICEk6nRjSvkHIF2QOiCHgdlxRpYkXZgqGrExNQMrcScGJJqIAQkU+UyQkMpgowYljX3fx3vve+c0VaIkTexnne5r3933+7n3+2uEU0p369caIc544CoSxsxpDMiw8+AmoIMEEBJEWGcHq1e+wtZp5saT3NRttyMq7daB/Zw8cYnBy3MMiMgylhGjwZDcTPI7YZiZOBHwVpGgWf4SkzPBKEShtFdn9nV5+0h/Y/v48JywiCD3CZ5/955qRkjkY0AKg3q23+Ta/OUvsPlKMDvt3+J+Eddk+dhW3QcwnBzLvm8X4fn3N2TxMCO6oJ0AwgKizzMSQeIcTpfvHa6lQ2G2//q9Km+8JktFulgQ04i8InTl2oqMNsDttWAXeuXKVE/vePo1VwcMsQN/Bwp0S6wYg8sA9VBYBz1POP3W57h+LIyCeFaN+AgzhHAXC4S/7wevL5UrlR6cQJ4u8qyYrCEQsWoNaQjWTRFvvwx0AGan3Y7TQvqLLBypWnN9iKMuDfrF5kkhXpS/Fzl2RT9PhJ+a7wQo9aN/xXxT5bv7JjsAs/3nZpvVRywYxBhy8uCbl95+dx7OKP98kypQI3doXUCOjryoAtlLUn7zf1ubDTlNYnZnxnkuICqX77l5SQLN4fRkWlLz1fN7bEUzD3E78w1Tiyhm5c2r1+/COUv3QbooIa/5ShxBlQM9uEiV8ifYM814Bw1R175GGDv91DVhFELUFG10NUrJcpFE7LYkU8jN5LGm/mpOEoDUWRMYgah/UAGXNfeECJMVHZqp8NnWVo28l1AWHFUKc+eNybgCI5TutxxhybcF5JIuq7HuOZ0mHPg7QRuWZjVttmDEotpxjh5adibVEHOBaKbgkG5yFm0qnMIqjEGY0g1CYs8BSDykSpZX2JzXkm0R0gTGIGnqWhpN4j+siVBcZ7Igpxiz1KcRVYqvrsM45AL0QqMRap/oo0IhtSBnIQ3jEs0rFlHZ0qYd64bUZXyW8qSHgXGJsqiZtLKTRjpDB/aTnXQEF8YCs/3DXlUAhoVTXKStKScZggbl1GAM4pFisvbUgJCJOyTFawMh5GXD8VyFMUixgDNmJg1rKw24rpp5BHkptWToPuN2d+SmEk3UQhdoeUZOfpUmKldaoJUz6y6FNdqDQR1GKDtrg1kBmLTa5ND8ZeLjYssKpZhpKe9jgoZgblTa2VnbiTE0WWhVW81B/FhH9rUEhWVB6mXmUmNFfT9owAjEFUsNWSK2ji/TjLUVOQxWymqmZTWVFcvQis31N7vnCtT/KW2IFmZxP15kPb8wMR0iephy1Sx77J8IUJxtkELThzhfvFY+c6PV/1lAPDd8qo1T1lKm2HntIzdsV17aHXRjx6xAUX45M9uKo1ITKxMJnFL4CUfS1Dc45Tp7DRoI5chjLyWamvjgiN2Byl67WxUrrom5IhzWMW2KIRGfaxauX3wIJ4Fos7aTdW8QXA4QMo+3yz0Y+OnSh6Wj900HgfBHqVflMHMoF9p/yDiR4WPtexwWE3wnTGiL6w50t18Tr7zpB35Wno8CAKsmwubHY1d2prdL75eO31HmYibzuEZAk1ZIhxV9GP62NdTsLeDWPttmKJjAzCvAAPumEV+FjiM3jVOH77XpKJiJSjkpXYsq8lYLmaXsLxA9AtMQiq0r4xfeEDH8O6G9SVBqT8rOgoBMHQWSLXG8SKTF/T7NE7hb8kSMw94nb1bzqh/GmPsGi0k836dBYUkgjt0an7qb6v/xrCZQM9qzyt5XukSMtRkJO2L1Jzk8b8j4Ed4otk4xNfwP6OhpQz96pGYAAAAASUVORK5CYII="},618:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWvSURBVHgBvVhNaFxVFD73vjf5aaN9g7QSsORlIRQ3nUAFUbCTrtzYxKILN3UqFUo3yUJFBJkZkdBdJ3VTdNEWRQUREnAhLpopbly1ya6gkBddVGphpr8ZZt67x+/cO28mlcYmNjMHHu+9mfvz3e9859xzn6JtWuvQSF4TTXES57TikE0cKjL017GEFMcRMUVMZlkRL46WhqvbGVttpRHnw8A8uDPDxswqTvYQG/STyQ0TJ2hhlAODZzbyTvZ3TiLNpmo8Ko+WstETgXEgGjNM8YxiDuxE7cnljsmZAYz9p+jm0Vt4Z4CLFbVBCWNkABjt8Vx69rO95f8FZv2lMByg5hLGDzE4OwCmvfr0kgkTSob309+v/S5MEXNs7+226J4AiIC098gkPDl6ZjTaMpjmi2FO+WYJAIJ0YHfFstoani+xaa54hqpEQ3W1XK9Lv5ulZi6mFjTE02SSw+gbdtkUJllYrWPSyX1zzy0/Fkzz5edziuIlDBJgFHLusGBqTMk5f1dcUVU3+ePsxie3CsqYIjqHKYvuzjVS5si+ufHlTcGs5w+Efiu+SqIPYpUKUZOp6MFMWVWjLYF4CNBHN0LyqKSNOQ52lCxQOR3dTpSeGD0zHj0STPOVA6uyCis8dsID3eXMr3+U6Antxsd/CqCiRCCLoEXslKzd3zUwMV4at4vUaePWqy8USekxXNS5tLcjQMRG5/aXDMVlbgdCm6Vw5F5jJm1jmVnP50KdJKuASyJ8QY/nS/4v10/QDtvND387C8ZnO0FBXM+M7B7Pgh3LjMdUVNoDNM8ywlqvtZCoqAeWafplhHytmxxN0Lx3Z1b+s2CM0nnGo1wWEGfKw9XrEfXAshXog3leclCaGJGlratUK38oDzktSaZUVuu8Nli9Ok49tNrstSDWhGChPTZIxLSZ1In2pi0b2lesPAV3VanHlq1MIHrMRZuVJaok1A1N+Zr9gyzClQvWMski9cGUSVYk+8HsdgGP5XyjKRTpCEKBlCEVUR+sRUk1Y2w4SwiLWsd8Un7onIaQBsaBy1eWqQ82RI16Qn4n6QLRuGQ2wcWiG1aa+mXZymTd6aVbAcA/Gl7TykC8yDjYb6cD6pOhSiRXXrT3QETQmkt2woxHjUajL2Bqp3/O2S3BVQWIIbOqEctRdz8CKMrkqQ+WaGzIrhiT6gCxbNY0PLWSMmO3AsU56oMpE0+RqwqtblDMLwszCykQx4z/Tl90Y+J8u16yxb1JkkU9/NOPVQi4bvcm566g0fRnqId269QPBYhlzDGC+CGzuvf861W3a5OuUGfXtiE+W+sRO7VT34aak6KI1xZxuOMIdEX+s2AeDJh5MFN3r8g52gsGk91F6oWxKiKUQ1t6upqG4ZNyB0x2YaEORubZChj5ps3O/aPHdxRQ7eRXRbimsPGgh03p0+z5N6IOGLGmP1RJw5xtAWgzc+n+0ZM7Auj2uxeEkSK7Q6A7dZCJnvnirVLa5uHTwXQhNGyugZbARpcttqzbLumBofLwd5WItmm1woVA67iIQWYk09spXeTWydMT2fNvR48EI3ZvupBDYYMDnA5c3umAitC5PPL95xdpC1YrnA00DeBorHDprLhe6XY1KfpEMZX98sTm56YuoPdwkKPLGCi7EZBSnmyocKV3BdXhovb9aOSbOTsgF0pBozEYtDJeHgXawYR1Ae0Cl7s0peNACjXU2Ef+DWRTMGLr06dCBN2SIm8MnRV18lA7/O0e67tJyIJU6e+SJgQ4fsczPpy0F4IyYY15YDJ78UT0qDkf+0nk7rHTJQxU7OjHRZraAIrbGbwLRvks713wCknVm0cVUwGQTU+lW/o+sz49G+LoUsIqD4OpMN1Y3cpTN6SsOJdKBYBF1FD/nyP99H+C2BaYjXb3zfdFE1NYdQ5HHFSJPsB5tkwEgEjSA9yxYshbyH79QXU7Y/8DfhL311TqcrUAAAAASUVORK5CYII="},734:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAXXSURBVHgBvZg9bFtVFMfPvfc9Ny0VtYWQCCr0eeBjq7OVqUkHBFPaDQkJEiYWFFtIiM02YmpV2SkDA0NTJD7E0kQMRUIi7oKYiLOgSh38QlsFIZCNCLVrv3cP/3Of7aSiIYka+0RX9yV+eff3zvexogPKJ71Pp5XmWeYox9oGiuKAlKUF+pAUe6FHfqjZqxvrrWz5f9QO8my1n5uu8tX0VhQtMNm8UvYEc6wEQGnLRBZPiZXAaPbJyCIf1x5p8kJtvdqEf6z8m7oVPhZMBRBeVwMiWsBrpwFCAuFgdExKMSRSHf0PUMoCwx6nlIAMoBR5+JuvlPJLv/u/lP/vPL0rSPurwHTMmmUu4bY0M3D6y93AClCMQxS1qePeSwOPhlfyaM2ajZIdyis928k1gvaZgA6imcrWFzmtaVW0IWYYaoRi0to2mfgaqe66b+LaBFFrXhVa8n8+P5HzYz8wNnVek38WmgkSkyVmM+RM19LamwlTP9b3hKlsfZOD+lcBMTSL8w/FgOhdsSmvWlDzLdqHPNV9Yc6wKQqU8yGBAhJW0zPeudupWn1XmEr7eqBt/DNsIBpRO0Cq8ZFeeb8QO+WZ9suBpomSVt5bxvownmjHwHzeX0Z7U7eOfhc+Eqa6db0BiAAwzjkFyFJULjzxZokeU55vnynBqYt9EDgXdjIbnW5qKswsu5ccOvDi398WifUpYuMcENfwFn0oICK/Hv2ppNiUAdSPNk/24HgKKaovTjOV9o2AulEjiQUxCwJF2Wv54xfm6ZDlpa3XK3DkvOq/NH5aOoqydWjHaUb1qAi1UaIoIyQb3KMyjUCO9o6U4TdNiSzJRUiKaa2P5al/OrHV02IW5sQ8TKZcyFwIaQQiGkASXJQEKWFvVAoQvjOVqjS/n4a+VsUyzmhsN/Lp17I0Qsk159JG2wbMdAJLibGU9Wbgpfq8OC0jU0JDCGevRiOWemYJ/pFaMlI6kCrhP6y0mkXQm9OiFOfLShQTr9AYBFl6XSN/IHuIIF50zoOzBkp8RexkWUpKSGOQCUrVIpZjAeR2fcqDigL3KSdxXsicrdN4BI58pF90SdJJVsNX8IvBrx656zFJLVNtIZp40Gq4MId6XCfAVlKdpkpzLU1jEvgNQFIOKCmkVm2Q006SY9CajAXmfPNiTkpDopkUa+U3cLoOeZDwYCpraJrGIDH6Ho9SlAB5ChV9AwRmXQ3LAJJPpHM0BoGJZrV1jRf3e526VjEtC8jAVKz125VGY+SmQk2aThwXWnFlwVvRhcmpGupAa+gzbNI00V2gEcobm5/PwUSn9MBf2G8sP/1ezRVKVNGqq5lJmJO1Kj8q7cxtopskvyi+4iVRJN3fzYRD5H5nEf7S6rcQyDkmbX1bpNEIQDwBgh2kJ0ausbo8hClkp1ooCYtJVEmL5dqI/OU7dw4V6J17N4rwlblkwBvkFvXR15Pz4RDGXXS9KqIqfKivYSpdvrN5KEDv3rsppimqIYhxE+eXk9tt7cPTwWYjsLFeg3bS1O+DZQDDfg15oFzIZkI6oOQba+nYPCjGKlqwqofgjdz8ZVXcsro7tTS53cT9Z266ePcuMiOtDoAGWkJBDTGqlt/PPrlE+5ASAmBLdxZieoDVy1gVkSyBEZAe2Zmlk6/uPjftBIJtfwBQRg2zs3JzMwsU65sx6xVlVfjBi6l6cjinj1ArfT/uTFsTn47owVxM3TRrAejtAImakYrPfXZyZu+JciCVxmYQK4MR12B8kSlKb9cvydY22WXhAI64q2LdxYFY6PCtjliu8Znqw7Cl3obxeaY6+Ur4qDP3/ErkUuPPEsxV7OchdqaT7qyftVlqLd44Ul0MfD1cdR2IJcAJFFCwt3DPIqagahWRu9tZ+/p+ptJoBhHrEsL9LEwUbEeccY+InT8ISM/tApVoJ25a7l05RqlqKZvdczTeF8xOuXS7PY2+eRan5ljASAV4e3xj05VICa3uhZa76wBZ/jj7XO0Aj6Z/AZNf6BWju6ZtAAAAAElFTkSuQmCC"},119:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAW2SURBVHgBvZhNaFxVFMfP/XhvYhE73QkKeVlY0YWdWVgqLjopFFwoSTcubbIRSitJN0Kpbd5IdaFok7roQiQNLqpu2iykfqBJC6VgwaaI1IU4L6suXGS0CDN5797r/9z3Jp2AbZKamRPu3Pl4mft7/3PuOeeOoC3ak/eermWqPZKKtJKqNMpkhpHSydOGpKNECEqkoKXA0fyJM2JxK98tNnNRtBKVieREJsxkptKdABGAoEynLgUIYISHwbXdw4MRLZYU1Y/HItloHfmwDyuNSvn5P1+Y0mbHH9KqKUlyp3B4xJ/w94HhSJRa5c6dOdF1l1AqwjhsDDU+Ou2maAN7oDL77u6LWs4sZAKuUJmDEoLdAddQ6ufVtXnHvafo2Me/kyq+UBVD5nBCiXzG68QpGn6QSv8J82KjViGVLRiZltkdRmVYmMcqwU0rLdWesy67bYJ0kQao2RTNJv9fHLsKZRRpolEA7GdlMOcuozX3NSWAjsZiaUOYWuNgBdGwkElTNhwXAoNh1OoKnp/LdGs62ZU0aRP2wSk3BoXgXriL1kGtaEMH3nx/PdA6mFcao1Hbtn42AiACfwzDQ6XTzXZaT4aWNgXRbWdjF0GtGFBvYJcJKXwsOQT3X1ZS9UiXy9bD/DbSgCKRFYbVcAyEvVL/aehaTP/TPnnHxUpCpRxECMwAW8Z71fFY+Jtc202v/vo6LlSD2mrSDgNzYPW2gLC9dUbEwlKdAxkgxCrheUSWJjrXeGVG74xBynbDSovPDALWOCvs3LfPzo/TNtunp9xZUEwWiYFHE5IMsTpemVKbpgIbkDasSECBCZaFfaxOPTCNBIj4WeGFi+1fhgaTRIWblFU1ZQuQHKr+zXNfJNQDKxSYURwzvLbwUN5VYuzmsZoV2QLc4hyciXn5YvWzIeqhzcaurC01ALOT8tjhh2GpjBwNvCKhCEwoQltapB4bqxMIusBB7BXiHeZoRGsX7HHGQa78HZvSPPXBECe3oYpzeZnARBWNWIlYJoCwCRFQQn0wo2gxsEyFpXkWNKhDE0R5uXWeb2bve0vUBxvAlnZc+p0HISw/JDnBKRM4xAvx6JcdQtxwNZeuqwfSJgSIFkEWIIADihfiMvXJEDekZb7F/UCOWQ6K/IIdRdQq9QXma7QbvnDiuRY+ShoSAIn2iS7wbgroiRr1wdDz+F4HEMI3XiiaMsj07U7mZTcFmapQHwxZd4TjxccNeTctSWn05aCjDM82PHz20qWeuwqK1DrKFGVhXp547cgialFT3wcqD1Brgnpo12J0gJIGOZso6fubxsFYLPpCGbhwOlclV0dlenK2R+rc4M4PrahXpFAGJeEqf+ZhMpvNSMvq+MrtMMqirTY8WjyiTak8eJ0/ReRpr74Gc/zQeBOBO5P3M8g5UCc04eSXn3+/rUA3624KLhnrnBR8GXL07nDRB6+1nTrU08jGiQIQcg9xf4MRz89d3xagWwySu6f7lJDsj0XcuWZdQ37x4pVIWHVLWFnWNodCVWe3zZWUrA+PVxPaojXQu/yNRtw6mkDCRddEZPOVm3hefelBpwO2r2a/q2gZLuA4W87rVt6cAygJbVh/+ejuC7RJiJaiCcMQjnYxAAcHw7gcZHhv/JBzU8cuzV6vaCt+VE7v8goVvXHoQoftnyCmrqLaz2s7kOx++/GlzuIDJSr/k1INX7oHEGMG/S0DGMrVcPlYQfo9UD25iRNlx67M3ohEGi6gng/CXcKrY+5nahRYCm1RQmzocKeCFzWFG3D3zuYQuWv4taNlVqS6lbN2t/1w/pcY56cpf45iZfKG3Vd4LqwA9O9hV/geydxfWBQw/JrdMpM5mq4WB7ZHgmG7cf5ORKtBDDftVzaIulUq4PiXEQ/i8sU7UCuAODcAiKGHQGwJpttufXi3VqIQRU5V4KIIvVDEO65QIgFAYtDf4vXlZ+Kt/XL1L3Khuwh3N4VIAAAAAElFTkSuQmCC"},784:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWFSURBVHgBvZhNaFxVFMfPOW/6hUKnC3EjdLJQq7V2qq2WojgpCqULMwUXpYJOoULRxWThwoU4b7qoSyd1U/CDVGsNKjJxoQWreREss9B2Cq2EWswbEMEPyAilpMm8ezzn3juTtDQ2aTJzyPuc9+793f8599zzgrBEO/T62zkIaICBsoSUYeAMIcKZT98HQIyRZGOqA/HolSsXo6W0jYt5qBCGabi6poiAg4i4Xt8Tkx0x2CPgdyMf2Mb0PiDpPQsnuygIsDwxUY+XBVMYFAhaU5TRF6WTtAXQVyyHnikMYDI7C+NffqSnjES2TbRA9tTeY8bw8uVz5TuCEZAMY2pMTjNgO0GvhnvFKwMKNX3tKvz41WfQ+X3uOUb7oh7tzRh4df/ERC2+VZ+0AEjWMJ1nZgFRT7BrmVkPUzKEioz0YApbfXetCTZ8PBTib5O/IAWwTZ7eJ92ekBdixM4AnJyAGaLW+c2bd2QXpYyCJAZEEXELtVUg3U3J4Ri0ZivDlbAJi7BNm7IFgS4JS6atmG9vCiG1+9Kls/UFYdQ1rRack7tpPyjwAVJBaJUXC3ETUEbaCMWfL+Fco+r2f1cFtK1en3PZDTAvvvbWpNxxo5DgVIWZoHyyUgphmbbp4e2hRE8JfBzpEQgbq2itAEV2kEH74QOvvlkSkAHvZWCHeuTkUBjCCtg/f/8R3XPvfcJBOTshyYZ/2nBr+q8/fx933YkVDoeZ69Sa9B7VP52OJz55t3wQVti2bHnyHZFm0KcI7a8Z4Oo+VcfOpmmYLclUcWronqGRSKKCLlgQrJN2caoz/SU+DbQG9Tc/tTlnp60xdvoaSMojlTCGLphVgHAIXM6QsLHZuqi/4f7Db+TEKWOqh0+djZHjR/ugi5bN5kSNWZksuL4zvwz3Eyecd8nMsugWQZfNqRMMk+NgGxhEAym52Mru0qLI6Sj0xOgCoGEfxrpcZImNS/kCxEZiJsW60vbAjHrABjH77LxR+hYYbj+BcOq9o3XojYmraH7S7SM7pY1RYeTUQK/MZl1RBXykqjpkMeSW7HSDfEFqmB6Z844uO2SBSAAaLtHpZmAtNHsCs2PXc1lf67i4AZrUEixuu0h5ZoBy0AMzbDKy5LhFyi2HDRKEC36mOyBjstADS2FqQI9aGDh/UV2KM6jqTaeOVejlfGGw666SsefcUuBkSbEZpS+GK5FI1nSJz2bitGm1itBF2/n03oJ4Z6MrU+yMmqzVzkTtGrjiEp+vc5kHu6XOzlw+I52XbPAStpWx9YyDIRoSiCY4V2ktkU5mr5egC0ZSrmhhDu6LwdVOq8CWK7bSm6jXph989Il1WkoIjcuKDDsfeGQ7XL740ziskO3KPS8D1A9Bd+0+/+BIbfybagdG7aHHdtU5SfaLMNY9PqBz929+HH699POygZ7anS9JiyWATomnh0bth6/3tZ+5oSDP7z+cMYTnZXVI+8Wz7bYTq4OgXB05HsMSLZfPp81VKskiXNTFmX1FKWHbTGBmWy06Hd8SxgIdeCWbMI3JAp6G9nTX140kR+Ly6c8/HIbFQlxLFeX9oiSvDf4DENzaA00pHvrPRtWFv5vatleAMMHv5cUNHSCXGLUojeWRccmPowwz8bfVU7bBfL6QbsJ0mmZA425rkpiCpgk7FGNThmvH8JSE5e6bQRaEUdsjLsMkGZMWNtoqcB7UHJzrRFygfaLr2PjPYK2P3D8pFMaXBY0g4f4oqsa36vO2/xLZ88KhUBxd8h05sdnDdUCsavNhXFi0gcUtgjZEd5tKVK0u+FV6WxgLlC9IXsBQunpGLjPzlbnBDQriYL16MIVojsHa1v9CLAlmvj2bL+SkIhuQJSQrUiiYbMYpoUGOHEtpe0ECtBqdHomW0vZ/OET7LLhNUJ4AAAAASUVORK5CYII="},51:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(526);function i(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},526:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{A:()=>i})},150:(e,t,n)=>{n.d(t,{MF:()=>he,j6:()=>se,xZ:()=>le,om:()=>oe,Us:()=>ae,Sx:()=>pe,Wp:()=>fe,KO:()=>me});var r=n(812),i=n(443),o=n(700),s=n(51);let a,l;const c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return v(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(y(this),n),v(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(e.apply(y(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(y(this),t,...r);return d.set(o,t.sort?t.sort():[t]),v(o)}}function g(e){return"function"===typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));u.set(e,t)}(e),t=e,(a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,p):e);var t}function v(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(v(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&c.set(t,e)})).catch((()=>{})),f.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=g(e);return t!==e&&(h.set(e,t),f.set(t,e)),t}const y=e=>f.get(e);const b=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],x=new Map;function S(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(x.get(t))return x.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return x.set(t,o),o}p=(e=>(0,s.A)((0,s.A)({},e),{},{get:(t,n,r)=>S(t,n)||e.get(t,n,r),has:(t,n)=>!!S(t,n)||e.has(t,n)}))(p);class E{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const k="@firebase/app",C="0.10.17",A=new i.Vy("@firebase/app"),T="@firebase/app-compat",_="@firebase/analytics-compat",I="@firebase/analytics",P="@firebase/app-check-compat",N="@firebase/app-check",D="@firebase/auth",R="@firebase/auth-compat",O="@firebase/database",j="@firebase/data-connect",M="@firebase/database-compat",L="@firebase/functions",F="@firebase/functions-compat",V="@firebase/installations",U="@firebase/installations-compat",B="@firebase/messaging",z="@firebase/messaging-compat",q="@firebase/performance",H="@firebase/performance-compat",W="@firebase/remote-config",K="@firebase/remote-config-compat",G="@firebase/storage",Q="@firebase/storage-compat",Y="@firebase/firestore",X="@firebase/vertexai",J="@firebase/firestore-compat",Z="firebase",$="[DEFAULT]",ee={[k]:"fire-core",[T]:"fire-core-compat",[I]:"fire-analytics",[_]:"fire-analytics-compat",[N]:"fire-app-check",[P]:"fire-app-check-compat",[D]:"fire-auth",[R]:"fire-auth-compat",[O]:"fire-rtdb",[j]:"fire-data-connect",[M]:"fire-rtdb-compat",[L]:"fire-fn",[F]:"fire-fn-compat",[V]:"fire-iid",[U]:"fire-iid-compat",[B]:"fire-fcm",[z]:"fire-fcm-compat",[q]:"fire-perf",[H]:"fire-perf-compat",[W]:"fire-rc",[K]:"fire-rc-compat",[G]:"fire-gcs",[Q]:"fire-gcs-compat",[Y]:"fire-fst",[J]:"fire-fst-compat",[X]:"fire-vertex","fire-js":"fire-js",[Z]:"fire-js-all"},te=new Map,ne=new Map,re=new Map;function ie(e,t){try{e.container.addComponent(t)}catch(n){A.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function oe(e){const t=e.name;if(re.has(t))return A.debug("There were multiple attempts to register component ".concat(t,".")),!1;re.set(t,e);for(const n of te.values())ie(n,e);for(const n of ne.values())ie(n,e);return!0}function se(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ae(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$;se(e,t).clearInstance(n)}function le(e){return void 0!==e.settings}const ce={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ue=new o.FA("app","Firebase",ce);class de{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ue.create("app-deleted",{appName:this._name})}}const he="11.1.0";function fe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:$,automaticDataCollectionEnabled:!1},t),s=i.name;if("string"!==typeof s||!s)throw ue.create("bad-app-name",{appName:String(s)});if(n||(n=(0,o.T9)()),!n)throw ue.create("no-options");const a=te.get(s);if(a){if((0,o.bD)(n,a.options)&&(0,o.bD)(i,a.config))return a;throw ue.create("duplicate-app",{appName:s})}const l=new r.h1(s);for(const r of re.values())l.addComponent(r);const c=new de(n,i,l);return te.set(s,c),c}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;const t=te.get(e);if(!t&&e===$&&(0,o.T9)())return fe();if(!t)throw ue.create("no-app",{appName:e});return t}function me(e,t,n){var i;let o=null!==(i=ee[e])&&void 0!==i?i:e;n&&(o+="-".concat(n));const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void A.warn(e.join(" "))}oe(new r.uA("".concat(o,"-version"),(()=>({library:o,version:t})),"VERSION"))}const ge="firebase-heartbeat-store";let ve=null;function ye(){return ve||(ve=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=v(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(v(s.result),e.oldVersion,e.newVersion,v(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ge)}catch(n){console.warn(n)}}}).catch((e=>{throw ue.create("idb-open",{originalErrorMessage:e.message})}))),ve}async function be(e,t){try{const n=(await ye()).transaction(ge,"readwrite"),r=n.objectStore(ge);await r.put(t,we(e)),await n.done}catch(n){if(n instanceof o.g)A.warn(n.message);else{const e=ue.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});A.warn(e.message)}}}function we(e){return"".concat(e.name,"!").concat(e.options.appId)}class xe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ee(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Se();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(n){A.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Se(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ke(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ke(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,o.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return A.warn(t),""}}}function Se(){return(new Date).toISOString().substring(0,10)}class Ee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.zW)()&&(0,o.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ye()).transaction(ge),n=await t.objectStore(ge).get(we(e));return await t.done,n}catch(t){if(t instanceof o.g)A.warn(t.message);else{const e=ue.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});A.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return be(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return be(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ke(e){return(0,o.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var Ce;Ce="",oe(new r.uA("platform-logger",(e=>new E(e)),"PRIVATE")),oe(new r.uA("heartbeat",(e=>new xe(e)),"PRIVATE")),me(k,C,Ce),me(k,C,"esm2017"),me("fire-js","")},812:(e,t,n)=>{n.d(t,{h1:()=>a,uA:()=>i});var r=n(700);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===o?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},443:(e,t,n)=>{n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=a[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class c{constructor(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},472:(e,t,n)=>{n.r(t),n.d(t,{AbstractUserDataWriter:()=>Ld,AggregateField:()=>Iu,AggregateQuerySnapshot:()=>Pu,Bytes:()=>Nu,CACHE_SIZE_UNLIMITED:()=>fu,CollectionReference:()=>iu,DocumentReference:()=>ru,DocumentSnapshot:()=>Kd,FieldPath:()=>Du,FieldValue:()=>Ou,Firestore:()=>pu,FirestoreError:()=>M,GeoPoint:()=>ju,LoadBundleTask:()=>hu,PersistentCacheIndexManager:()=>Uh,Query:()=>nu,QueryCompositeFilterConstraint:()=>yd,QueryConstraint:()=>pd,QueryDocumentSnapshot:()=>Gd,QueryEndAtConstraint:()=>Id,QueryFieldFilterConstraint:()=>gd,QueryLimitConstraint:()=>Ed,QueryOrderByConstraint:()=>xd,QuerySnapshot:()=>Qd,QueryStartAtConstraint:()=>Ad,SnapshotMetadata:()=>Wd,Timestamp:()=>Z,Transaction:()=>Ih,VectorValue:()=>Mu,WriteBatch:()=>Th,_AutoId:()=>Q,_ByteString:()=>At,_DatabaseId:()=>jt,_DocumentKey:()=>ie,_EmptyAppCheckTokenProvider:()=>K,_EmptyAuthCredentialsProvider:()=>V,_FieldPath:()=>re,_TestingHooks:()=>Yh,_cast:()=>Jc,_debugAssert:()=>R,_internalAggregationQueryToProtoRunAggregationQueryRequest:()=>Qh,_internalQueryToProtoQueryTarget:()=>Gh,_isBase64Available:()=>Ct,_logWarn:()=>I,_validateIsNotUsedTogether:()=>Gc,addDoc:()=>ah,aggregateFieldEqual:()=>qd,aggregateQuerySnapshotEqual:()=>Hd,and:()=>wd,arrayRemove:()=>Oh,arrayUnion:()=>Rh,average:()=>Bd,clearIndexedDbPersistence:()=>Su,collection:()=>ou,collectionGroup:()=>su,connectFirestoreEmulator:()=>tu,count:()=>zd,deleteAllPersistentCacheIndexes:()=>Hh,deleteDoc:()=>sh,deleteField:()=>Nh,disableNetwork:()=>Cu,disablePersistentCacheIndexAutoCreation:()=>qh,doc:()=>au,documentId:()=>Ru,enableIndexedDbPersistence:()=>bu,enableMultiTabIndexedDbPersistence:()=>wu,enableNetwork:()=>ku,enablePersistentCacheIndexAutoCreation:()=>zh,endAt:()=>Nd,endBefore:()=>Pd,ensureFirestoreConfigured:()=>vu,executeWrite:()=>uh,getAggregateFromServer:()=>fh,getCountFromServer:()=>hh,getDoc:()=>Jd,getDocFromCache:()=>$d,getDocFromServer:()=>eh,getDocs:()=>th,getDocsFromCache:()=>nh,getDocsFromServer:()=>rh,getFirestore:()=>gu,getPersistentCacheIndexManager:()=>Bh,increment:()=>jh,initializeFirestore:()=>mu,limit:()=>kd,limitToLast:()=>Cd,loadBundle:()=>Tu,memoryEagerGarbageCollector:()=>yh,memoryLocalCache:()=>wh,memoryLruGarbageCollector:()=>bh,namedQuery:()=>_u,onSnapshot:()=>lh,onSnapshotsInSync:()=>ch,or:()=>bd,orderBy:()=>Sd,persistentLocalCache:()=>xh,persistentMultipleTabManager:()=>Ch,persistentSingleTabManager:()=>kh,query:()=>md,queryEqual:()=>cu,refEqual:()=>lu,runTransaction:()=>Ph,serverTimestamp:()=>Dh,setDoc:()=>ih,setIndexConfiguration:()=>Fh,setLogLevel:()=>A,snapshotEqual:()=>Xd,startAfter:()=>_d,startAt:()=>Td,sum:()=>Ud,terminate:()=>Au,updateDoc:()=>oh,vector:()=>Mh,waitForPendingWrites:()=>Eu,where:()=>vd,writeBatch:()=>Lh});var r,i,o=n(150),s=n(812),a=n(443),l=n(700),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function o(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function a(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new o([0|e],0>e?-1:0)})):new o([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return m(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}var c=a(0),d=a(1),h=a(16777216);function f(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function m(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(d)}function g(e,t){return e.add(m(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(f(t))throw Error("division by zero");if(f(e))return new y(c,c);if(p(e))return t=b(m(e),t),new y(m(t.g),m(t.h));if(p(t))return t=b(e,m(t)),new y(m(t.g),t.h);if(30<e.g.length){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=d,r=t;0>=r.l(e);)n=w(n),r=w(r);var i=x(n,1),o=x(r,1);for(r=x(r,2),n=x(n,2);!f(r);){var s=o.add(r);0>=s.l(e)&&(i=i.add(n),o=s),r=x(r,1),n=x(n,1)}return t=g(e,i.j(t)),new y(i,t)}for(i=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=l(n)).j(t);p(s)||0<s.l(e);)s=(o=l(n-=r)).j(t);f(o)&&(o=d),i=i.add(o),e=g(e,s)}return new y(i,e)}function w(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function x(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new o(i,e.h)}(e=o.prototype).m=function(){if(p(this))return-m(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(p(this))return"-"+m(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,r="";;){var i=b(n,t).g,o=((0<(n=g(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(f(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=g(this,e))?-1:f(e)?0:1},e.abs=function(){return p(this)?m(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.i(i))+(65535&e.i(i)),a=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new o(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(f(this)||f(e))return c;if(p(this))return p(e)?m(this).j(m(e)):m(m(this).j(e));if(p(e))return m(this.j(m(e)));if(0>this.l(h)&&0>e.l(h))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.i(r)>>>16,a=65535&this.i(r),u=e.i(i)>>>16,d=65535&e.i(i);n[2*r+2*i]+=a*d,v(n,2*r+2*i),n[2*r+2*i+1]+=s*d,v(n,2*r+2*i+1),n[2*r+2*i+1]+=a*u,v(n,2*r+2*i+1),n[2*r+2*i+2]+=s*u,v(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new o(n,0)},e.A=function(e){return b(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,i=u.Md5=t,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(n,8)),i=c,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=l(Math.pow(n,s)),i=i.j(s).add(l(a))):i=(i=i.j(r)).add(l(a))}return i},r=u.Integer=o}).apply("undefined"!==typeof c?c:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var d,h,f,p,m,g,v,y,b="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function S(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function E(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function C(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function A(e){return/^[\s\xa0]*$/.test(e)}function T(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function _(e){return _[" "](e),e}_[" "]=function(){};var I=-1!=T().indexOf("Gecko")&&!(-1!=T().toLowerCase().indexOf("webkit")&&-1==T().indexOf("Edge"))&&!(-1!=T().indexOf("Trident")||-1!=T().indexOf("MSIE"))&&-1==T().indexOf("Edge");function P(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function N(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function O(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function j(e){i.setTimeout((()=>{throw e}),0)}function M(){var e=B;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var L=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new F),(e=>e.reset()));class F{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let V,U=!1,B=new class{constructor(){this.h=this.g=null}add(e,t){const n=L.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},z=()=>{const e=i.Promise.resolve(void 0);V=()=>{e.then(q)}};var q=()=>{for(var e;e=M();){try{e.h.call(e.g)}catch(n){j(n)}var t=L;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}U=!1};function H(){this.s=this.s,this.C=this.C}function W(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},W.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function G(e,t){if(W.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(I){e:{try{_(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&G.aa.h.call(this)}}S(G,W);var Q={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),X=0;function J(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++X,this.da=this.fa=!1}function Z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function ee(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function te(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}$.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=te(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new J(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var ne="closure_lm_"+(1e6*Math.random()|0),re={};function ie(e,t,n,r,i){if(r&&r.once)return se(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ie(e,t[o],n,r,i);return null}return n=fe(n),e&&e[Y]?e.K(t,n,s(r)?!!r.capture:!!r,i):oe(e,t,n,!1,r,i)}function oe(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,l=de(e);if(l||(e[ne]=l=new $(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ue;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)K||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ce(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function se(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)se(e,t[o],n,r,i);return null}return n=fe(n),e&&e[Y]?e.L(t,n,s(r)?!!r.capture:!!r,i):oe(e,t,n,!0,r,i)}function ae(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ae(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=fe(n),e&&e[Y]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=te(o=e.g[t],n,r,i))&&(Z(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=de(e))&&(t=e.g[t.toString()],e=-1,t&&(e=te(t,n,r,i)),(n=-1<e?t[e]:null)&&le(n))}function le(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[Y])ee(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ce(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=de(t))?(ee(n,e),0==n.h&&(n.src=null,t[ne]=null)):Z(e)}}}function ce(e){return e in re?re[e]:re[e]="on"+e}function ue(e,t){if(e.da)e=!0;else{t=new G(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&le(e),e=n.call(r,t)}return e}function de(e){return(e=e[ne])instanceof $?e:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(e){return"function"===typeof e?e:(e[he]||(e[he]=function(t){return e.handleEvent(t)}),e[he])}function pe(){H.call(this),this.i=new $(this),this.M=this,this.F=null}function me(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new W(t,e);else if(t instanceof W)t.target=t.target||e;else{var i=t;R(t=new W(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ge(s,r,!0,t)&&i}if(i=ge(s=t.g=e,r,!0,t)&&i,i=ge(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ge(s=t.g=n[o],r,!1,t)&&i}function ge(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&ee(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function ve(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ye(e){e.g=ve((()=>{e.g=null,e.i&&(e.i=!1,ye(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}S(pe,H),pe.prototype[Y]=!0,pe.prototype.removeEventListener=function(e,t,n,r){ae(this,e,t,n,r)},pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Z(n[r]);delete t.g[e],t.h--}}this.F=null},pe.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pe.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class be extends H{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ye(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function we(e){H.call(this),this.h=e,this.g={}}S(we,H);var xe=[];function Se(e){P(e.g,(function(e,t){this.g.hasOwnProperty(t)&&le(e)}),e),e.g={}}we.prototype.N=function(){we.aa.N.call(this),Se(this)},we.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ee=i.JSON.stringify,ke=i.JSON.parse,Ce=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function Ae(){}function Te(e){return e.h||(e.h=e.i())}function _e(){}Ae.prototype.h=null;var Ie={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pe(){W.call(this,"d")}function Ne(){W.call(this,"c")}S(Pe,W),S(Ne,W);var De={},Re=null;function Oe(){return Re=Re||new pe}function je(e){W.call(this,De.La,e)}function Me(e){const t=Oe();me(t,new je(t))}function Le(e,t){W.call(this,De.STAT_EVENT,e),this.stat=t}function Fe(e){const t=Oe();me(t,new Le(t,e))}function Ve(e,t){W.call(this,De.Ma,e),this.size=t}function Ue(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Be(){this.g=!0}function ze(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ee(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}De.La="serverreachability",S(je,W),De.STAT_EVENT="statevent",S(Le,W),De.Ma="timingevent",S(Ve,W),Be.prototype.xa=function(){this.g=!1},Be.prototype.info=function(){};var qe,He={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},We={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ke(){}function Ge(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new we(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qe}function Qe(){this.i=null,this.g="",this.h=!1}S(Ke,Ae),Ke.prototype.g=function(){return new XMLHttpRequest},Ke.prototype.i=function(){return{}},qe=new Ke;var Ye={},Xe={};function Je(e,t,n){e.L=1,e.v=Et(yt(t)),e.m=n,e.P=!0,Ze(e,null)}function Ze(e,t){e.F=Date.now(),tt(e),e.A=yt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Lt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Qe,e.g=Cn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new be(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(xe[0]=i.toString()),i=xe);for(var o=0;o<i.length;o++){var s=ie(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?N(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Me(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function et(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Xe:(n=Number(t.substring(n,r)),isNaN(n)?Ye:(r+=1)+n>t.length?Xe:(t=t.slice(r,r+n),e.C=r+n,t))}function tt(e){e.S=Date.now()+e.I,nt(e,e.I)}function nt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ue(c(e.ba,e),t)}function rt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function it(e){0==e.j.G||e.J||wn(e.j,e)}function ot(e){rt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,Se(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function st(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||dt(n.h,e)))if(!e.K&&dt(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;bn(n),cn(n)}gn(n),Fe(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ue(c(n.Za,n),6e3));if(1>=ut(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else Sn(n,11)}else if((e.K||n.g==e)&&bn(n),!A(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ht(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,St(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=kn(r,r.J?r.ia:null,r.W),s.K){ft(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(rt(a),tt(a)),r.g=s}else mn(r);0<n.i.length&&dn(n)}else"stop"!=c[0]&&"close"!=c[0]||Sn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Sn(n,7):ln(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Me()}catch(u){}}Ge.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==rn(e)?t.j():this.Y(e)},Ge.prototype.Y=function(e){try{if(e==this.g)e:{const h=rn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||on(this.g)))){this.J||4!=h||7==t||Me(),rt(this);var n=this.g.Z();this.X=n;t:if($e(this)){var r=on(this.g);e="";var o=r.length,s=4==rn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ot(this),it(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Fe(12),ot(this),it(this);break e}ze(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,st(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=et(this,a),e==Xe){4==h&&(this.s=4,Fe(14),n=!1),ze(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ye){this.s=4,Fe(15),ze(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}ze(this.i,this.l,e,null),st(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Fe(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),vn(d),d.M=!0,Fe(11))}}else ze(this.i,this.l,a,"[Invalid Chunked Response]"),ot(this),it(this)}else ze(this.i,this.l,a,null),st(this,a);4==h&&ot(this),this.o&&!this.J&&(4==h?wn(this.j,this):(this.o=!1,tt(this)))}else(function(e){const t={};e=(e.g&&2<=rn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(A(e[r]))continue;var n=O(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Fe(12)):(this.s=0,Fe(13)),ot(this),it(this)}}}catch(x){}},Ge.prototype.cancel=function(){this.J=!0,ot(this)},Ge.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Me(),Fe(17)),ot(this),this.s=2,it(this)):nt(this,this.S-e)};var at=class{constructor(e,t){this.g=e,this.map=t}};function lt(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ct(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ut(e){return e.h?1:e.g?e.g.size:0}function dt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ht(e,t){e.g?e.g.add(t):e.h=t}function ft(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function pt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return E(e.i)}function mt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}lt.prototype.cancel=function(){if(this.i=pt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var gt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof vt){this.h=e.h,bt(this,e.j),this.o=e.o,this.g=e.g,wt(this,e.s),this.l=e.l;var t=e.i,n=new Rt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),xt(this,n),this.m=e.m}else e&&(t=String(e).match(gt))?(this.h=!1,bt(this,t[1]||"",!0),this.o=kt(t[2]||""),this.g=kt(t[3]||"",!0),wt(this,t[4]),this.l=kt(t[5]||"",!0),xt(this,t[6]||"",!0),this.m=kt(t[7]||"")):(this.h=!1,this.i=new Rt(null,this.h))}function yt(e){return new vt(e)}function bt(e,t,n){e.j=n?kt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function xt(e,t,n){t instanceof Rt?(e.i=t,function(e,t){t&&!e.j&&(Ot(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(jt(this,t),Lt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ct(t,Nt)),e.i=new Rt(t,e.h))}function St(e,t,n){e.i.set(t,n)}function Et(e){return St(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function kt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ct(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,At),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function At(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ct(t,_t,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(Ct(t,_t,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ct(n,"/"==n.charAt(0)?Pt:It,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",Ct(n,Dt)),e.join("")};var Tt,_t=/[#\/\?@]/g,It=/[#\?:]/g,Pt=/[#\?]/g,Nt=/[#\?@]/g,Dt=/#/g;function Rt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ot(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function jt(e,t){Ot(e),t=Ft(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Mt(e,t){return Ot(e),t=Ft(e,t),e.g.has(t)}function Lt(e,t,n){jt(e,t),0<n.length&&(e.i=null,e.g.set(Ft(e,t),E(n)),e.h+=n.length)}function Ft(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Vt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Ut(){this.g=new Ce}function Bt(e,t,n){const r=n||"";try{mt(e,(function(e,n){let i=e;s(e)&&(i=Ee(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function zt(e){this.l=e.Ub||null,this.j=e.eb||!1}function qt(e,t){pe.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ht(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Wt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Kt(e)}function Kt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Gt(e){let t="";return P(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Qt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Gt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):St(e,t,n))}function Yt(e){pe.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Rt.prototype).add=function(e,t){Ot(this),this.i=null,e=Ft(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Ot(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Ot(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Ot(this);let t=[];if("string"===typeof e)Mt(this,e)&&(t=t.concat(this.g.get(Ft(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Ot(this),this.i=null,Mt(this,e=Ft(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},S(zt,Ae),zt.prototype.g=function(){return new qt(this.l,this.j)},zt.prototype.i=(Tt={},function(){return Tt}),S(qt,pe),(e=qt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Kt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Kt(this)),this.g&&(this.readyState=3,Kt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ht(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wt(this):Kt(this),3==this.readyState&&Ht(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Wt(this))},e.Qa=function(e){this.g&&(this.response=e,Wt(this))},e.ga=function(){this.g&&Wt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(qt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),S(Yt,pe);var Xt=/^https?$/i,Jt=["POST","PUT"];function Zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),tn(e)}function $t(e){e.A||(e.A=!0,me(e,"complete"),me(e,"error"))}function en(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=rn(e)||2!=e.Z()))if(e.u&&4==rn(e))ve(e.Ea,0,e);else if(me(e,"readystatechange"),4==rn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(gt)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!Xt.test(s?s.toLowerCase():"")}n=o}if(n)me(e,"complete"),me(e,"success");else{e.m=6;try{var a=2<rn(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",$t(e)}}finally{tn(e)}}}function tn(e,t){if(e.g){nn(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||me(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function nn(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function rn(e){return e.g?e.g.readyState:0}function on(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(k){return null}}function sn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function an(e){this.Aa=0,this.i=[],this.j=new Be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sn("baseRetryDelayMs",5e3,e),this.cb=sn("retryDelaySeedMs",1e4,e),this.Wa=sn("forwardChannelMaxRetries",2,e),this.wa=sn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new lt(e&&e.concurrentRequestLimit),this.Da=new Ut,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ln(e){if(un(e),3==e.G){var t=e.U++,n=yt(e.I);if(St(n,"SID",e.K),St(n,"RID",t),St(n,"TYPE","terminate"),fn(e,n),(t=new Ge(e,e.j,t)).L=2,t.v=Et(yt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=Cn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),tt(t)}En(e)}function cn(e){e.g&&(vn(e),e.g.cancel(),e.g=null)}function un(e){cn(e),e.u&&(i.clearTimeout(e.u),e.u=null),bn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function dn(e){if(!ct(e.h)&&!e.s){e.s=!0;var t=e.Ga;V||z(),U||(V(),U=!0),B.add(t,e),e.B=0}}function hn(e,t){var n;n=t?t.l:e.U++;const r=yt(e.I);St(r,"SID",e.K),St(r,"RID",n),St(r,"AID",e.T),fn(e,r),e.m&&e.o&&Qt(r,e.m,e.o),n=new Ge(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=pn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ht(e.h,n),Je(n,r,t)}function fn(e,t){e.H&&P(e.H,(function(e,n){St(t,n,e)})),e.l&&mt({},(function(e,n){St(t,n,e)}))}function pn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Bt(a,e,"req"+n+"_")}catch(x){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function mn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;V||z(),U||(V(),U=!0),B.add(t,e),e.v=0}}function gn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ue(c(e.Fa,e),xn(e,e.v)),e.v++,!0)}function vn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function yn(e){e.g=new Ge(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=yt(e.qa);St(t,"RID","rpc"),St(t,"SID",e.K),St(t,"AID",e.T),St(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&St(t,"TO",e.ja),St(t,"TYPE","xmlhttp"),fn(e,t),e.m&&e.o&&Qt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=Et(yt(t)),n.m=null,n.P=!0,Ze(n,e)}function bn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function wn(e,t){var n=null;if(e.g==t){bn(e),vn(e),e.g=null;var r=2}else{if(!dt(e.h,t))return;n=t.D,ft(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;me(r=Oe(),new Ve(r,n)),dn(e)}else mn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(ut(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ue(c(e.Ga,e,t),xn(e,e.B)),e.B++,!0))}(e,t)||2==r&&gn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Sn(e,5);break;case 4:Sn(e,10);break;case 3:Sn(e,6);break;default:Sn(e,2)}}function xn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function Sn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new vt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||bt(r,"https"),Et(r),t?function(e,t){const n=new Be;if(i.Image){const r=new Image;r.onload=u(Vt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Vt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Vt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Vt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Be;const n=new AbortController,r=setTimeout((()=>{n.abort(),Vt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Vt(0,0,!0,t):Vt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Vt(0,0,!1,t)}))}(r.toString(),n)}else Fe(2);e.G=0,e.l&&e.l.sa(t),En(e),un(e)}function En(e){if(e.G=0,e.ka=[],e.l){const t=pt(e.h);0==t.length&&0==e.i.length||(C(e.ka,t),C(e.ka,e.i),e.h.i.length=0,E(e.i),e.i.length=0),e.l.ra()}}function kn(e,t,n){var r=n instanceof vt?yt(n):new vt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),wt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new vt(null);r&&bt(s,r),t&&(s.g=t),o&&wt(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&St(r,n,t),St(r,"VER",e.la),fn(e,r),r}function Cn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Yt(new zt({eb:n})):new Yt(e.pa)).Ha(e.J),t}function An(){}function Tn(){}function _n(e,t){pe.call(this),this.g=new an(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!A(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Nn(this)}function In(e){Pe.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Pn(){Ne.call(this),this.status=1}function Nn(e){this.g=e}(e=Yt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qe.g(),this.v=this.o?Te(this.o):Te(qe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Zt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Jt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nn(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Zt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,me(this,"complete"),me(this,"abort"),tn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),Yt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?en(this):this.bb())},e.bb=function(){en(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch(Tt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Tt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ke(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=an.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Fe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=kn(this,null,this.W),dn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Ge(this,this.j,e);let o=this.o;if(this.S&&(o?(o=N(o),R(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=pn(this,i,t),St(n=yt(this.I),"RID",e),St(n,"CVER",22),this.D&&St(n,"X-HTTP-Session-Id",this.D),fn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Gt(o)))+"&"+t:this.m&&Qt(n,this.m,o)),ht(this.h,i),this.Ua&&St(n,"TYPE","init"),this.P?(St(n,"$req",t),St(n,"SID","null"),i.T=!0,Je(i,n,null)):Je(i,n,t),this.G=2}}else 3==this.G&&(e?hn(this,e):0==this.i.length||ct(this.h)||hn(this))},e.Fa=function(){if(this.u=null,yn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ue(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fe(10),cn(this),yn(this))},e.Za=function(){null!=this.C&&(this.C=null,cn(this),gn(this),Fe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Fe(2)):(this.j.info("Failed to ping google.com"),Fe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=An.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Tn.prototype.g=function(e,t){return new _n(e,t)},S(_n,pe),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){ln(this.g)},_n.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=Ee(e),e=n);t.i.push(new at(t.Ya++,e)),3==t.G&&dn(t)},_n.prototype.N=function(){this.g.l=null,delete this.j,ln(this.g),delete this.g,_n.aa.N.call(this)},S(In,Pe),S(Pn,Ne),S(Nn,An),Nn.prototype.ua=function(){me(this.g,"a")},Nn.prototype.ta=function(e){me(this.g,new In(e))},Nn.prototype.sa=function(e){me(this.g,new Pn)},Nn.prototype.ra=function(){me(this.g,"b")},Tn.prototype.createWebChannel=Tn.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,y=w.createWebChannelTransport=function(){return new Tn},v=w.getStatEventTarget=function(){return Oe()},g=w.Event=De,m=w.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},He.NO_ERROR=0,He.TIMEOUT=8,He.HTTP_ERROR=6,p=w.ErrorCode=He,We.COMPLETE="complete",f=w.EventType=We,_e.EventType=Ie,Ie.OPEN="a",Ie.CLOSE="b",Ie.ERROR="c",Ie.MESSAGE="d",pe.prototype.listen=pe.prototype.K,h=w.WebChannel=_e,w.FetchXmlHttpFactory=zt,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,d=w.XhrIo=Yt}).apply("undefined"!==typeof b?b:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const x="@firebase/firestore";class S{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}S.UNAUTHENTICATED=new S(null),S.GOOGLE_CREDENTIALS=new S("google-credentials-uid"),S.FIRST_PARTY=new S("first-party-uid"),S.MOCK_USER=new S("mock-user");let E="11.0.2";const k=new a.Vy("@firebase/firestore");function C(){return k.logLevel}function A(e){k.setLogLevel(e)}function T(e){if(k.logLevel<=a.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(P);k.debug("Firestore (".concat(E,"): ").concat(e),...i)}}function _(e){if(k.logLevel<=a.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(P);k.error("Firestore (".concat(E,"): ").concat(e),...i)}}function I(e){if(k.logLevel<=a.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(P);k.warn("Firestore (".concat(E,"): ").concat(e),...i)}}function P(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function N(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(E,") INTERNAL ASSERTION FAILED: ")+e;throw _(t),new Error(t)}function D(e,t){e||N()}function R(e,t){e||N()}function O(e,t){return e}const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends l.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class L{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class F{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(S.UNAUTHENTICATED)))}shutdown(){}}class U{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class B{constructor(e){this.t=e,this.currentUser=S.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){D(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new L;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new L,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new L)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(D("string"==typeof t.accessToken),new F(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return D(null===e||"string"==typeof e),new S(e)}}class z{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=S.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class q{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new z(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(S.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class H{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){D(void 0===this.o);const n=e=>{null!=e.error&&T("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,T("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(D("string"==typeof e.token),this.R=e.token,new H(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class K{getToken(){return Promise.resolve(new H(""))}invalidateToken(){}start(e,t){}shutdown(){}}function G(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Q{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=G(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Y(e,t){return e<t?-1:e>t?1:0}function X(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function J(e){return e+"\0"}class Z{static now(){return Z.fromMillis(Date.now())}static fromDate(e){return Z.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Z(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ${static fromTimestamp(e){return new $(e)}static min(){return new $(new Z(0,0))}static max(){return new $(new Z(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ee{constructor(e,t,n){void 0===t?t=0:t>e.length&&N(),void 0===n?n=e.length-t:n>e.length-t&&N(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ee.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ee?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class te extends ee{construct(e,t,n){return new te(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new M(j.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new te(e)}static emptyPath(){return new te([])}}const ne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class re extends ee{construct(e,t,n){return new re(e,t,n)}static isValidIdentifier(e){return ne.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),re.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new re(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new M(j.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new M(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new M(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new M(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new re(t)}static emptyPath(){return new re([])}}class ie{constructor(e){this.path=e}static fromPath(e){return new ie(te.fromString(e))}static fromName(e){return new ie(te.fromString(e).popFirst(5))}static empty(){return new ie(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===te.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return te.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new te(e.slice()))}}class oe{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function se(e){return e.fields.find((e=>2===e.kind))}function ae(e){return e.fields.filter((e=>2!==e.kind))}function le(e,t){let n=Y(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(let r=0;r<Math.min(e.fields.length,t.fields.length);++r)if(n=ue(e.fields[r],t.fields[r]),0!==n)return n;return Y(e.fields.length,t.fields.length)}oe.UNKNOWN_ID=-1;class ce{constructor(e,t){this.fieldPath=e,this.kind=t}}function ue(e,t){const n=re.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:Y(e.kind,t.kind)}class de{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new de(0,pe.min())}}function he(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=$.fromTimestamp(1e9===r?new Z(n+1,0):new Z(n,r));return new pe(i,ie.empty(),t)}function fe(e){return new pe(e.readTime,e.key,-1)}class pe{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new pe($.min(),ie.empty(),-1)}static max(){return new pe($.max(),ie.empty(),-1)}}function me(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ie.comparator(e.documentKey,t.documentKey),0!==n?n:Y(e.largestBatchId,t.largestBatchId))}const ge="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ve{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ye(e){if(e.code!==j.FAILED_PRECONDITION||e.message!==ge)throw e;T("LocalStore","Unexpectedly lost primary lease")}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&N(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(e){return be.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):be.reject(t)}static resolve(e){return new be(((t,n)=>{t(e)}))}static reject(e){return new be(((t,n)=>{n(e)}))}static waitFor(e){return new be(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=be.resolve(!1);for(const n of e)t=t.next((e=>e?be.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new be(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new be(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class we{static open(e,t,n,r){try{return new we(t,e.transaction(r,n))}catch(e){throw new ke(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new L,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ke(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Ie(t.target.error);this.V.reject(new ke(e,n))}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(T("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ae(t)}}class xe{static delete(e){return T("SimpleDb","Removing database:",e),Te(window.indexedDB.deleteDatabase(e)).toPromise()}static p(){if(!(0,l.zW)())return!1;if(xe.S())return!0;const e=(0,l.ZQ)(),t=xe.D(e),n=0<t&&t<10,r=Se(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static C(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.F=n,12.2===xe.D((0,l.ZQ)())&&_("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async M(e){return this.db||(T("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ke(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new M(j.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new M(j.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ke(e,r))},r.onupgradeneeded=e=>{T("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.F.O(t,r.transaction,e.oldVersion,this.version).next((()=>{T("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.M(e);const t=we.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),be.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(T("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Se(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Ee{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Te(this.B.delete())}}class ke extends M{constructor(e,t){super(j.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Ce(e){return"IndexedDbTransactionError"===e.name}class Ae{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(T("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(T("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Te(n)}add(e){return T("SimpleDb","ADD",this.store.name,e,e),Te(this.store.add(e))}get(e){return Te(this.store.get(e)).next((t=>(void 0===t&&(t=null),T("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return T("SimpleDb","DELETE",this.store.name,e),Te(this.store.delete(e))}count(){return T("SimpleDb","COUNT",this.store.name),Te(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new be(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new be(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){T("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new be(((n,r)=>{t.onerror=e=>{const t=Ie(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new be(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Ee(i),s=t(i.primaryKey,i.value,o);if(s instanceof be){const e=s.catch((e=>(o.done(),be.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>be.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Te(e){return new be(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ie(e.target.error);n(t)}}))}let _e=!1;function Ie(e){const t=xe.D((0,l.ZQ)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new M("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return _e||(_e=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Pe{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){T("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{T("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){Ce(e)?T("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await ye(e)}await this.X(6e4)}))}}class Ne{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return be.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return T("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(T("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=fe(t);me(r,n)>0&&(n=r)})),new pe(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class De{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Re(e){return null==e}function Oe(e){return 0===e&&1/e==-1/0}function je(e){return"number"==typeof e&&Number.isInteger(e)&&!Oe(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Me(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Fe(t)),t=Le(e.get(n),t);return Fe(t)}function Le(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Fe(e){return e+"\x01\x01"}function Ve(e){const t=e.length;if(D(t>=2),2===t)return D("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),te.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&N(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:N()}o=t+2}return new te(r)}De.oe=-1;const Ue=["userId","batchId"];function Be(e,t){return[e,Me(t)]}function ze(e,t,n){return[e,Me(t),n]}const qe={},He=["prefixPath","collectionGroup","readTime","documentId"],We=["prefixPath","collectionGroup","documentId"],Ke=["collectionGroup","readTime","prefixPath","documentId"],Ge=["canonicalId","targetId"],Qe=["targetId","path"],Ye=["path","targetId"],Xe=["collectionId","parent"],Je=["indexId","uid"],Ze=["uid","sequenceNumber"],$e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],et=["indexId","uid","orderedDocumentKey"],tt=["userId","collectionPath","documentId"],nt=["userId","collectionPath","largestBatchId"],rt=["userId","collectionGroup","largestBatchId"],it=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ot=[...it,"documentOverlays"],st=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],at=st,lt=[...at,"indexConfiguration","indexState","indexEntries"],ct=lt,ut=[...lt,"globals"];class dt extends ve{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function ht(e,t){const n=O(e);return xe.C(n._e,t)}function ft(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pt(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function mt(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}function gt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class vt{constructor(e,t){this.comparator=e,this.root=t||bt.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yt(this.root,e,this.comparator,!1)}getReverseIterator(){return new yt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yt(this.root,e,this.comparator,!0)}}class yt{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:bt.RED,this.left=null!=r?r:bt.EMPTY,this.right=null!=i?i:bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new bt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return bt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw N();if(this.right.isRed())throw N();const e=this.left.check();if(e!==this.right.check())throw N();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1,bt.EMPTY=new class{constructor(){this.size=0}get key(){throw N()}get value(){throw N()}get color(){throw N()}get left(){throw N()}get right(){throw N()}copy(e,t,n,r,i){return this}insert(e,t,n){return new bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xt(this.data.getIterator())}getIteratorFrom(e){return new xt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof wt))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class xt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function St(e){return e.hasNext()?e.getNext():void 0}class Et{constructor(e){this.fields=e,e.sort(re.comparator)}static empty(){return new Et([])}unionWith(e){let t=new wt(re.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Et(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return X(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class kt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ct(){return"undefined"!=typeof atob}class At{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new kt("Invalid base64 string: "+e):e}}(e);return new At(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new At(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const Tt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _t(e){if(D(!!e),"string"==typeof e){let t=0;const n=Tt.exec(e);if(D(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:It(e.seconds),nanos:It(e.nanos)}}function It(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pt(e){return"string"==typeof e?At.fromBase64String(e):At.fromUint8Array(e)}function Nt(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dt(e){const t=e.mapValue.fields.__previous_value__;return Nt(t)?Dt(t):t}function Rt(e){const t=_t(e.mapValue.fields.__local_write_time__.timestampValue);return new Z(t.seconds,t.nanos)}class Ot{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class jt{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new jt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof jt&&e.projectId===this.projectId&&e.database===this.database}}const Mt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Lt={nullValue:"NULL_VALUE"};function Ft(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Nt(e)?4:tn(e)?9007199254740991:$t(e)?10:11:N()}function Vt(e,t){if(e===t)return!0;const n=Ft(e);if(n!==Ft(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rt(e).isEqual(Rt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=_t(e.timestampValue),r=_t(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pt(e.bytesValue).isEqual(Pt(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return It(e.geoPointValue.latitude)===It(t.geoPointValue.latitude)&&It(e.geoPointValue.longitude)===It(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return It(e.integerValue)===It(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=It(e.doubleValue),r=It(t.doubleValue);return n===r?Oe(n)===Oe(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return X(e.arrayValue.values||[],t.arrayValue.values||[],Vt);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ft(n)!==ft(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vt(n[i],r[i])))return!1;return!0}(e,t);default:return N()}}function Ut(e,t){return void 0!==(e.values||[]).find((e=>Vt(e,t)))}function Bt(e,t){if(e===t)return 0;const n=Ft(e),r=Ft(t);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=It(e.integerValue||e.doubleValue),r=It(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zt(e.timestampValue,t.timestampValue);case 4:return zt(Rt(e),Rt(t));case 5:return Y(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Pt(e),r=Pt(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Y(n[i],r[i]);if(0!==e)return e}return Y(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Y(It(e.latitude),It(t.latitude));return 0!==n?n:Y(It(e.longitude),It(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return qt(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},l=null===(n=s.value)||void 0===n?void 0:n.arrayValue,c=null===(r=a.value)||void 0===r?void 0:r.arrayValue,u=Y((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:qt(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Mt.mapValue&&t===Mt.mapValue)return 0;if(e===Mt.mapValue)return 1;if(t===Mt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Y(r[s],o[s]);if(0!==e)return e;const t=Bt(n[r[s]],i[o[s]]);if(0!==t)return t}return Y(r.length,o.length)}(e.mapValue,t.mapValue);default:throw N()}}function zt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Y(e,t);const n=_t(e),r=_t(t),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function qt(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Bt(n[i],r[i]);if(e)return e}return Y(n.length,r.length)}function Ht(e){return Wt(e)}function Wt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=_t(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Pt(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ie.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Wt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Wt(e.fields[i]));return n+"}"}(e.mapValue):N()}function Kt(e){switch(Ft(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Dt(e);return t?16+Kt(t):16;case 5:return 2*e.stringValue.length;case 6:return Pt(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Kt(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return pt(e.fields,((e,n)=>{t+=e.length+Kt(n)})),t}(e.mapValue);default:throw N()}}function Gt(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Qt(e){return!!e&&"integerValue"in e}function Yt(e){return!!e&&"arrayValue"in e}function Xt(e){return!!e&&"nullValue"in e}function Jt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zt(e){return!!e&&"mapValue"in e}function $t(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function en(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return pt(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=en(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=en(e.arrayValue.values[n]);return t}return Object.assign({},e)}function tn(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}const nn={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function rn(e){return"nullValue"in e?Lt:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Gt(jt.empty(),ie.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?$t(e)?nn:{mapValue:{}}:N()}function on(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Gt(jt.empty(),ie.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?nn:"mapValue"in e?$t(e)?{mapValue:{}}:Mt:N()}function sn(e,t){const n=Bt(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function an(e,t){const n=Bt(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Zt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=en(t)}setAll(e){let t=re.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=en(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Zt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Zt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){pt(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new ln(en(this.value))}}function cn(e){const t=[];return pt(e.fields,((e,n)=>{const r=new re([e]);if(Zt(n)){const e=cn(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Et(t)}class un{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new un(e,0,$.min(),$.min(),$.min(),ln.empty(),0)}static newFoundDocument(e,t,n,r){return new un(e,1,t,$.min(),n,r,0)}static newNoDocument(e,t){return new un(e,2,t,$.min(),$.min(),ln.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,$.min(),$.min(),ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class dn{constructor(e,t){this.position=e,this.inclusive=t}}function hn(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?ie.comparator(ie.fromName(s.referenceValue),n.key):Bt(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function fn(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vt(e.position[n],t.position[n]))return!1;return!0}class pn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function mn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class gn{}class vn extends gn{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Tn(e,t,n):"array-contains"===t?new Nn(e,n):"in"===t?new Dn(e,n):"not-in"===t?new Rn(e,n):"array-contains-any"===t?new On(e,n):new vn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new _n(e,n):new In(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Bt(t,this.value)):null!==t&&Ft(this.value)===Ft(t)&&this.matchesComparison(Bt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return N()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yn extends gn{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new yn(e,t)}matches(e){return bn(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function bn(e){return"and"===e.op}function wn(e){return"or"===e.op}function xn(e){return Sn(e)&&bn(e)}function Sn(e){for(const t of e.filters)if(t instanceof yn)return!1;return!0}function En(e){if(e instanceof vn)return e.field.canonicalString()+e.op.toString()+Ht(e.value);if(xn(e))return e.filters.map((e=>En(e))).join(",");{const t=e.filters.map((e=>En(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function kn(e,t){return e instanceof vn?function(e,t){return t instanceof vn&&e.op===t.op&&e.field.isEqual(t.field)&&Vt(e.value,t.value)}(e,t):e instanceof yn?function(e,t){return t instanceof yn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&kn(n,t.filters[r])),!0)}(e,t):void N()}function Cn(e,t){const n=e.filters.concat(t);return yn.create(n,e.op)}function An(e){return e instanceof vn?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ht(e.value))}(e):e instanceof yn?function(e){return e.op.toString()+" {"+e.getFilters().map(An).join(" ,")+"}"}(e):"Filter"}class Tn extends vn{constructor(e,t,n){super(e,t,n),this.key=ie.fromName(n.referenceValue)}matches(e){const t=ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class _n extends vn{constructor(e,t){super(e,"in",t),this.keys=Pn("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class In extends vn{constructor(e,t){super(e,"not-in",t),this.keys=Pn("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Pn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ie.fromName(e.referenceValue)))}class Nn extends vn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yt(t)&&Ut(t.arrayValue,this.value)}}class Dn extends vn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ut(this.value.arrayValue,t)}}class Rn extends vn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ut(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ut(this.value.arrayValue,t)}}class On extends vn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yt(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ut(this.value.arrayValue,e)))}}class jn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ue=null}}function Mn(e){return new jn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ln(e){const t=O(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>En(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Re(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ht(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ht(e))).join(",")),t.ue=e}return t.ue}function Fn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!mn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!kn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fn(e.startAt,t.startAt)&&fn(e.endAt,t.endAt)}function Vn(e){return ie.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Un(e,t){return e.filters.filter((e=>e instanceof vn&&e.field.isEqual(t)))}function Bn(e,t,n){let r=Lt,i=!0;for(const o of Un(e,t)){let e=Lt,t=!0;switch(o.op){case"<":case"<=":e=rn(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Lt}sn({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];sn({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function zn(e,t,n){let r=Mt,i=!0;for(const o of Un(e,t)){let e=Mt,t=!0;switch(o.op){case">=":case">":e=on(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Mt}an({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];an({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class qn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Hn(e,t,n,r,i,o,s,a){return new qn(e,t,n,r,i,o,s,a)}function Wn(e){return new qn(e)}function Kn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Gn(e){return null!==e.collectionGroup}function Qn(e){const t=O(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new wt(re.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new pn(r,n))})),e.has(re.keyField().canonicalString())||t.ce.push(new pn(re.keyField(),n))}return t.ce}function Yn(e){const t=O(e);return t.le||(t.le=Jn(t,Qn(e))),t.le}function Xn(e){const t=O(e);return t.he||(t.he=Jn(t,e.explicitOrderBy)),t.he}function Jn(e,t){if("F"===e.limitType)return Mn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new pn(e.field,t)}));const n=e.endAt?new dn(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new dn(e.startAt.position,e.startAt.inclusive):null;return Mn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Zn(e,t){const n=e.filters.concat([t]);return new qn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function $n(e,t,n){return new qn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function er(e,t){return Fn(Yn(e),Yn(t))&&e.limitType===t.limitType}function tr(e){return"".concat(Ln(Yn(e)),"|lt:").concat(e.limitType)}function nr(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>An(e))).join(", "),"]")),Re(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ht(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ht(e))).join(",")),"Target(".concat(t,")")}(Yn(e)),"; limitType=").concat(e.limitType,")")}function rr(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ie.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Qn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=hn(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Qn(e),t))&&!(e.endAt&&!function(e,t,n){const r=hn(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Qn(e),t))}(e,t)}function ir(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function or(e){return(t,n)=>{let r=!1;for(const i of Qn(e)){const e=sr(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function sr(e,t,n){const r=e.field.isKeyField()?ie.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bt(r,i):N()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return N()}}class ar{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){pt(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return gt(this.inner)}size(){return this.innerSize}}const lr=new vt(ie.comparator);function cr(){return lr}const ur=new vt(ie.comparator);function dr(){let e=ur;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function hr(e){let t=ur;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function fr(){return mr()}function pr(){return mr()}function mr(){return new ar((e=>e.toString()),((e,t)=>e.isEqual(t)))}const gr=new vt(ie.comparator),vr=new wt(ie.comparator);function yr(){let e=vr;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const br=new wt(Y);function wr(){return br}function xr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oe(t)?"-0":t}}function Sr(e){return{integerValue:""+e}}function Er(e,t){return je(t)?Sr(t):xr(e,t)}class kr{constructor(){this._=void 0}}function Cr(e,t,n){return e instanceof _r?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Nt(t)&&(t=Dt(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ir?Pr(e,t):e instanceof Nr?Dr(e,t):function(e,t){const n=Tr(e,t),r=Or(n)+Or(e.Pe);return Qt(n)&&Qt(e.Pe)?Sr(r):xr(e.serializer,r)}(e,t)}function Ar(e,t,n){return e instanceof Ir?Pr(e,t):e instanceof Nr?Dr(e,t):n}function Tr(e,t){return e instanceof Rr?function(e){return Qt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class _r extends kr{}class Ir extends kr{constructor(e){super(),this.elements=e}}function Pr(e,t){const n=jr(t);for(const r of e.elements)n.some((e=>Vt(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Nr extends kr{constructor(e){super(),this.elements=e}}function Dr(e,t){let n=jr(t);for(const r of e.elements)n=n.filter((e=>!Vt(e,r)));return{arrayValue:{values:n}}}class Rr extends kr{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Or(e){return It(e.integerValue||e.doubleValue)}function jr(e){return Yt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Mr{constructor(e,t){this.field=e,this.transform=t}}class Lr{constructor(e,t){this.version=e,this.transformResults=t}}class Fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vr(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ur{}function Br(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Jr(e.key,Fr.none()):new Kr(e.key,e.data,Fr.none());{const n=e.data,r=ln.empty();let i=new wt(re.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Gr(e.key,r,new Et(i.toArray()),Fr.none())}}function zr(e,t,n){e instanceof Kr?function(e,t,n){const r=e.value.clone(),i=Yr(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Gr?function(e,t,n){if(!Vr(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Yr(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Qr(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function qr(e,t,n,r){return e instanceof Kr?function(e,t,n,r){if(!Vr(e.precondition,t))return n;const i=e.value.clone(),o=Xr(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Gr?function(e,t,n,r){if(!Vr(e.precondition,t))return n;const i=Xr(e.fieldTransforms,r,t),o=t.data;return o.setAll(Qr(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Vr(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Hr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Tr(r.transform,e||null);null!=i&&(null===n&&(n=ln.empty()),n.set(r.field,i))}return n||null}function Wr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&X(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ir&&t instanceof Ir||e instanceof Nr&&t instanceof Nr?X(e.elements,t.elements,Vt):e instanceof Rr&&t instanceof Rr?Vt(e.Pe,t.Pe):e instanceof _r&&t instanceof _r}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Kr extends Ur{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Gr extends Ur{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Qr(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Yr(e,t,n){const r=new Map;D(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Ar(s,a,n[i]))}return r}function Xr(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Cr(e,o,t))}return r}class Jr extends Ur{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zr extends Ur{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $r{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&zr(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=qr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=qr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=pr();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Br(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument($.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),yr())}isEqual(e){return this.batchId===e.batchId&&X(this.mutations,e.mutations,((e,t)=>Wr(e,t)))&&X(this.baseMutations,e.baseMutations,((e,t)=>Wr(e,t)))}}class ei{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){D(e.mutations.length===n.length);let r=gr;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new ei(e,t,n,r)}}class ti{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ni{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class ri{constructor(e,t){this.count=e,this.unchangedNames=t}}var ii,oi;function si(e){switch(e){default:return N();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function ai(e){if(void 0===e)return _("GRPC error has no .code"),j.UNKNOWN;switch(e){case ii.OK:return j.OK;case ii.CANCELLED:return j.CANCELLED;case ii.UNKNOWN:return j.UNKNOWN;case ii.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case ii.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case ii.INTERNAL:return j.INTERNAL;case ii.UNAVAILABLE:return j.UNAVAILABLE;case ii.UNAUTHENTICATED:return j.UNAUTHENTICATED;case ii.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case ii.NOT_FOUND:return j.NOT_FOUND;case ii.ALREADY_EXISTS:return j.ALREADY_EXISTS;case ii.PERMISSION_DENIED:return j.PERMISSION_DENIED;case ii.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case ii.ABORTED:return j.ABORTED;case ii.OUT_OF_RANGE:return j.OUT_OF_RANGE;case ii.UNIMPLEMENTED:return j.UNIMPLEMENTED;case ii.DATA_LOSS:return j.DATA_LOSS;default:return N()}}(oi=ii||(ii={}))[oi.OK=0]="OK",oi[oi.CANCELLED=1]="CANCELLED",oi[oi.UNKNOWN=2]="UNKNOWN",oi[oi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oi[oi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oi[oi.NOT_FOUND=5]="NOT_FOUND",oi[oi.ALREADY_EXISTS=6]="ALREADY_EXISTS",oi[oi.PERMISSION_DENIED=7]="PERMISSION_DENIED",oi[oi.UNAUTHENTICATED=16]="UNAUTHENTICATED",oi[oi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oi[oi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oi[oi.ABORTED=10]="ABORTED",oi[oi.OUT_OF_RANGE=11]="OUT_OF_RANGE",oi[oi.UNIMPLEMENTED=12]="UNIMPLEMENTED",oi[oi.INTERNAL=13]="INTERNAL",oi[oi.UNAVAILABLE=14]="UNAVAILABLE",oi[oi.DATA_LOSS=15]="DATA_LOSS";let li=null;function ci(){return new TextEncoder}const ui=new r([4294967295,4294967295],0);function di(e){const t=ci().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function hi(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new r([n,i],0),new r([o,s],0)]}class fi{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new pi("Invalid padding: ".concat(t));if(n<0)throw new pi("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new pi("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new pi("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ie=r.fromNumber(this.Te)}Ee(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(ui)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=di(e),[n,r]=hi(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new fi(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=di(e),[n,r]=hi(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class pi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mi{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,gi.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new mi($.min(),r,new vt(Y),cr(),yr())}}class gi{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new gi(n,t,yr(),yr(),yr())}}class vi{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class yi{constructor(e,t){this.targetId=e,this.me=t}}class bi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:At.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class wi{constructor(){this.fe=0,this.ge=Ei(),this.pe=At.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=yr(),t=yr(),n=yr();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:N()}})),new gi(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Ei()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,D(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xi{constructor(e){this.Le=e,this.Be=new Map,this.ke=cr(),this.qe=Si(),this.Qe=Si(),this.Ke=new vt(Y)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:N()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.me.count,r=this.Ye(t);if(r){const i=r.target;if(Vn(i))if(0===n){const e=new ie(i.path);this.We(t,e,un.newNoDocument(e,$.min()))}else D(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==li||li.tt(function(e,t,n,r,i){var o,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.nt(),n,i))}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Pt(n).toUint8Array()}catch(e){if(e instanceof kt)return I("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new fi(o,r,i)}catch(e){return I(e instanceof pi?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Vn(i.target)){const t=new ie(i.target.path);this.st(t).has(r)||this.ot(r,t)||this.We(r,t,un.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=yr();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new mi(e,t,this.Ke,this.ke,n);return this.ke=cr(),this.qe=Si(),this.Qe=Si(),this.Ke=new vt(Y),r}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.ot(e,t)?r.Fe(t,1):r.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new wi,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new wt(Y),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new wt(Y),this.qe=this.qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new wi),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Si(){return new vt(ie.comparator)}function Ei(){return new vt(ie.comparator)}const ki={asc:"ASCENDING",desc:"DESCENDING"},Ci={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ai={and:"AND",or:"OR"};class Ti{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _i(e,t){return e.useProto3Json||Re(t)?t:{value:t}}function Ii(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Pi(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ni(e,t){return Ii(e,t.toTimestamp())}function Di(e){return D(!!e),$.fromTimestamp(function(e){const t=_t(e);return new Z(t.seconds,t.nanos)}(e))}function Ri(e,t){return Oi(e,t).canonicalString()}function Oi(e,t){const n=function(e){return new te(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ji(e){const t=te.fromString(e);return D(io(t)),t}function Mi(e,t){return Ri(e.databaseId,t.path)}function Li(e,t){const n=ji(t);if(n.get(1)!==e.databaseId.projectId)throw new M(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new M(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ie(Bi(n))}function Fi(e,t){return Ri(e.databaseId,t)}function Vi(e){const t=ji(e);return 4===t.length?te.emptyPath():Bi(t)}function Ui(e){return new te(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Bi(e){return D(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function zi(e,t,n){return{name:Mi(e,t),fields:n.value.mapValue.fields}}function qi(e,t,n){const r=Li(e,t.name),i=Di(t.updateTime),o=t.createTime?Di(t.createTime):$.min(),s=new ln({mapValue:{fields:t.fields}}),a=un.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Hi(e,t){let n;if(t instanceof Kr)n={update:zi(e,t.key,t.value)};else if(t instanceof Jr)n={delete:Mi(e,t.key)};else if(t instanceof Gr)n={update:zi(e,t.key,t.data),updateMask:ro(t.fieldMask)};else{if(!(t instanceof Zr))return N();n={verify:Mi(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof _r)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ir)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Nr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Rr)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw N()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ni(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:N()}(e,t.precondition)),n}function Wi(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Fr.updateTime(Di(e.updateTime)):void 0!==e.exists?Fr.exists(e.exists):Fr.none()}(t.currentDocument):Fr.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)D("REQUEST_TIME"===t.setToServerValue),n=new _r;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ir(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Nr(e)}else"increment"in t?n=new Rr(e,t.increment):N();const r=re.fromServerFormat(t.fieldPath);return new Mr(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Li(e,t.update.name),o=new ln({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Et(t.map((e=>re.fromServerFormat(e))))}(t.updateMask);return new Gr(i,o,e,n,r)}return new Kr(i,o,n,r)}if(t.delete){const r=Li(e,t.delete);return new Jr(r,n)}if(t.verify){const r=Li(e,t.verify);return new Zr(r,n)}return N()}function Ki(e,t){return{documents:[Fi(e,t.path)]}}function Gi(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Fi(e,i);const o=function(e){if(0!==e.length)return no(yn.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:eo(e.field),direction:Ji(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=_i(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ct:n,parent:i}}function Qi(e,t,n,r){const{ct:i,parent:o}=Gi(e,t),s={},a=[];let l=0;return n.forEach((e=>{const t=r?e.alias:"aggregate_"+l++;s[t]=e.alias,"count"===e.aggregateType?a.push({alias:t,count:{}}):"avg"===e.aggregateType?a.push({alias:t,avg:{field:eo(e.fieldPath)}}):"sum"===e.aggregateType&&a.push({alias:t,sum:{field:eo(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:i.structuredQuery},parent:i.parent},lt:s,parent:o}}function Yi(e){let t=Vi(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){D(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Xi(e);return t instanceof yn&&xn(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new pn(to(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Re(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new dn(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new dn(n,t)}(n.endAt)),Hn(t,i,s,o,a,"F",l,c)}function Xi(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=to(e.unaryFilter.field);return vn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=to(e.unaryFilter.field);return vn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=to(e.unaryFilter.field);return vn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=to(e.unaryFilter.field);return vn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return N()}}(e):void 0!==e.fieldFilter?function(e){return vn.create(to(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return N()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return yn.create(e.compositeFilter.filters.map((e=>Xi(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return N()}}(e.compositeFilter.op))}(e):N()}function Ji(e){return ki[e]}function Zi(e){return Ci[e]}function $i(e){return Ai[e]}function eo(e){return{fieldPath:e.canonicalString()}}function to(e){return re.fromServerFormat(e.fieldPath)}function no(e){return e instanceof vn?function(e){if("=="===e.op){if(Jt(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NAN"}};if(Xt(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jt(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NOT_NAN"}};if(Xt(e.value))return{unaryFilter:{field:eo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(e.field),op:Zi(e.op),value:e.value}}}(e):e instanceof yn?function(e){const t=e.getFilters().map((e=>no(e)));return 1===t.length?t[0]:{compositeFilter:{op:$i(e.op),filters:t}}}(e):N()}function ro(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function io(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class oo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:At.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class so{constructor(e){this.ht=e}}function ao(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:lo(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Mi(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ii(e,t.version.toTimestamp()),createTime:Ii(e,t.createTime.toTimestamp())}}(e.ht,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:co(t.version)};else{if(!t.isUnknownDocument())return N();r.unknownDocument={path:n.path.toArray(),version:co(t.version)}}return r}function lo(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function co(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function uo(e){const t=new Z(e.seconds,e.nanoseconds);return $.fromTimestamp(t)}function ho(e,t){const n=(t.baseMutations||[]).map((t=>Wi(e.ht,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>Wi(e.ht,t))),i=Z.fromMillis(t.localWriteTimeMs);return new $r(t.batchId,i,n,r)}function fo(e){const t=uo(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?uo(e.lastLimboFreeSnapshotVersion):$.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return D(1===e.documents.length),Yn(Wn(Vi(e.documents[0])))}(e.query):function(e){return Yn(Yi(e))}(e.query),new oo(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,At.fromBase64String(e.resumeToken))}function po(e,t){const n=co(t.snapshotVersion),r=co(t.lastLimboFreeSnapshotVersion);let i;i=Vn(t.target)?Ki(e.ht,t.target):Gi(e.ht,t.target).ct;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ln(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function mo(e){const t=Yi({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?$n(t,t.limit,"L"):t}function go(e,t){return new ti(t.largestBatchId,Wi(e.ht,t.overlayMutation))}function vo(e,t){const n=t.path.lastSegment();return[e,Me(t.path.popLast()),n]}function yo(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:co(r.readTime),documentKey:Me(r.documentKey.path),largestBatchId:r.largestBatchId}}class bo{getBundleMetadata(e,t){return wo(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:uo(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return wo(e).put(function(e){return{bundleId:e.id,createTime:co(Di(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return xo(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:mo(e.bundledQuery),readTime:uo(e.readTime)}}(e)}))}saveNamedQuery(e,t){return xo(e).put(function(e){return{name:e.name,readTime:co(Di(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function wo(e){return ht(e,"bundles")}function xo(e){return ht(e,"namedQueries")}class So{constructor(e,t){this.serializer=e,this.userId=t}static Pt(e,t){const n=t.uid||"";return new So(e,n)}getOverlay(e,t){return Eo(e).get(vo(this.userId,t)).next((e=>e?go(this.serializer,e):null))}getOverlays(e,t){const n=fr();return be.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new ti(t,i);r.push(this.Tt(e,o))})),be.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Me(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Eo(e).j("collectionPathOverlayIndex",r))})),be.waitFor(i)}getOverlaysForCollection(e,t,n){const r=fr(),i=Me(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Eo(e).U("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=go(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=fr();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Eo(e).J({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=go(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}Tt(e,t){return Eo(e).put(function(e,t,n){const[r,i,o]=vo(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Hi(e.ht,n.mutation)}}(this.serializer,this.userId,t))}}function Eo(e){return ht(e,"documentOverlays")}class ko{It(e){return ht(e,"globals")}getSessionToken(e){return this.It(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?At.fromUint8Array(t):At.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.It(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Co{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(It(e.integerValue));else if("doubleValue"in e){const n=It(e.doubleValue);isNaN(n)?this.Rt(t,13):(this.Rt(t,15),Oe(n)?t.Vt(0):t.Vt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Rt(t,20),"string"==typeof n&&(n=_t(n)),t.ft("".concat(n.seconds||"")),t.Vt(n.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(Pt(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Rt(t,45),t.Vt(n.latitude||0),t.Vt(n.longitude||0)}else"mapValue"in e?tn(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):$t(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):N()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){const n=e.fields||{};this.Rt(t,55);for(const r of Object.keys(n))this.gt(r,t),this.dt(n[r],t)}bt(e,t){var n,r;const i=e.fields||{};this.Rt(t,53);const o="value",s=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(t,15),t.Vt(It(s)),this.gt(o,t),this.dt(i[o],t)}vt(e,t){const n=e.values||[];this.Rt(t,50);for(const r of n)this.dt(r,t)}St(e,t){this.Rt(t,37),ie.fromName(e).path.forEach((e=>{this.Rt(t,60),this.Ct(e,t)}))}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}function Ao(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function To(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Ao(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Co.Ft=new Co;class _o{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Mt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.xt(n.value),n=t.next();this.Ot()}Nt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Lt(n.value),n=t.next();this.Bt()}kt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.xt(e);else if(e<2048)this.xt(960|e>>>6),this.xt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.xt(480|e>>>12),this.xt(128|63&e>>>6),this.xt(128|63&e);else{const e=t.codePointAt(0);this.xt(240|e>>>18),this.xt(128|63&e>>>12),this.xt(128|63&e>>>6),this.xt(128|63&e)}}this.Ot()}qt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Lt(e);else if(e<2048)this.Lt(960|e>>>6),this.Lt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Lt(480|e>>>12),this.Lt(128|63&e>>>6),this.Lt(128|63&e);else{const e=t.codePointAt(0);this.Lt(240|e>>>18),this.Lt(128|63&e>>>12),this.Lt(128|63&e>>>6),this.Lt(128|63&e)}}this.Bt()}Qt(e){const t=this.Kt(e),n=To(t);this.$t(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ut(e){const t=this.Kt(e),n=To(t);this.$t(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Wt(){this.Gt(255),this.Gt(255)}zt(){this.jt(255),this.jt(255)}reset(){this.position=0}seed(e){this.$t(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ht(){return this.buffer.slice(0,this.position)}Kt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}xt(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(t)}Lt(e){const t=255&e;0===t?(this.jt(0),this.jt(255)):255===t?(this.jt(255),this.jt(0)):this.jt(e)}Ot(){this.Gt(0),this.Gt(1)}Bt(){this.jt(0),this.jt(1)}Gt(e){this.$t(1),this.buffer[this.position++]=e}jt(e){this.$t(1),this.buffer[this.position++]=~e}$t(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Io{constructor(e){this.Jt=e}wt(e){this.Jt.Mt(e)}ft(e){this.Jt.kt(e)}Vt(e){this.Jt.Qt(e)}At(){this.Jt.Wt()}}class Po{constructor(e){this.Jt=e}wt(e){this.Jt.Nt(e)}ft(e){this.Jt.qt(e)}Vt(e){this.Jt.Ut(e)}At(){this.Jt.zt()}}class No{constructor(){this.Jt=new _o,this.Yt=new Io(this.Jt),this.Zt=new Po(this.Jt)}seed(e){this.Jt.seed(e)}Xt(e){return 0===e?this.Yt:this.Zt}Ht(){return this.Jt.Ht()}reset(){this.Jt.reset()}}class Do{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}en(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Do(this.indexId,this.documentKey,this.arrayValue,n)}}function Ro(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Oo(e.arrayValue,t.arrayValue),0!==n?n:(n=Oo(e.directionalValue,t.directionalValue),0!==n?n:ie.comparator(e.documentKey,t.documentKey)))}function Oo(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class jo{constructor(e){this.tn=new wt(((e,t)=>re.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.nn=e.orderBy,this.rn=[];for(const t of e.filters){const e=t;e.isInequality()?this.tn=this.tn.add(e):this.rn.push(e)}}get sn(){return this.tn.size>1}on(e){if(D(e.collectionGroup===this.collectionId),this.sn)return!1;const t=se(e);if(void 0!==t&&!this._n(t))return!1;const n=ae(e);let r=new Set,i=0,o=0;for(;i<n.length&&this._n(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.tn.size>0){const e=this.tn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.an(e,t)||!this.un(this.nn[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.nn.length||!this.un(this.nn[o++],e))return!1}return!0}cn(){if(this.sn)return null;let e=new wt(re.comparator);const t=[];for(const n of this.rn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new ce(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new ce(n.field,0))}for(const n of this.nn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new ce(n.field,"asc"===n.dir?0:1)));return new oe(oe.UNKNOWN_ID,this.collectionId,t,de.empty())}_n(e){for(const t of this.rn)if(this.an(t,e))return!0;return!1}an(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}un(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Mo(e){var t,n;if(D(e instanceof vn||e instanceof yn),e instanceof vn){if(e instanceof Dn){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>vn.create(e.field,"==",t))))||[];return yn.create(r,"or")}return e}const r=e.filters.map((e=>Mo(e)));return yn.create(r,e.op)}function Lo(e){if(0===e.getFilters().length)return[];const t=Bo(Mo(e));return D(Uo(t)),Fo(t)||Vo(t)?[t]:t.getFilters()}function Fo(e){return e instanceof vn}function Vo(e){return e instanceof yn&&xn(e)}function Uo(e){return Fo(e)||Vo(e)||function(e){if(e instanceof yn&&wn(e)){for(const t of e.getFilters())if(!Fo(t)&&!Vo(t))return!1;return!0}return!1}(e)}function Bo(e){if(D(e instanceof vn||e instanceof yn),e instanceof vn)return e;if(1===e.filters.length)return Bo(e.filters[0]);const t=e.filters.map((e=>Bo(e)));let n=yn.create(t,e.op);return n=Ho(n),Uo(n)?n:(D(n instanceof yn),D(bn(n)),D(n.filters.length>1),n.filters.reduce(((e,t)=>zo(e,t))))}function zo(e,t){let n;return D(e instanceof vn||e instanceof yn),D(t instanceof vn||t instanceof yn),n=e instanceof vn?t instanceof vn?function(e,t){return yn.create([e,t],"and")}(e,t):qo(e,t):t instanceof vn?qo(t,e):function(e,t){if(D(e.filters.length>0&&t.filters.length>0),bn(e)&&bn(t))return Cn(e,t.getFilters());const n=wn(e)?e:t,r=wn(e)?t:e,i=n.filters.map((e=>zo(e,r)));return yn.create(i,"or")}(e,t),Ho(n)}function qo(e,t){if(bn(t))return Cn(t,e.getFilters());{const n=t.filters.map((t=>zo(e,t)));return yn.create(n,"or")}}function Ho(e){if(D(e instanceof vn||e instanceof yn),e instanceof vn)return e;const t=e.getFilters();if(1===t.length)return Ho(t[0]);if(Sn(e))return e;const n=t.map((e=>Ho(e))),r=[];return n.forEach((t=>{t instanceof vn?r.push(t):t instanceof yn&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:yn.create(r,e.op)}class Wo{constructor(){this.ln=new Ko}addToCollectionParentIndex(e,t){return this.ln.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(pe.min())}getMinOffsetFromCollectionGroup(e,t){return be.resolve(pe.min())}updateCollectionGroup(e,t,n){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class Ko{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new wt(te.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new wt(te.comparator)).toArray()}}const Go=new Uint8Array(0);class Qo{constructor(e,t){this.databaseId=t,this.hn=new Ko,this.Pn=new ar((e=>Ln(e)),((e,t)=>Fn(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.hn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.hn.add(t)}));const i={collectionId:n,parent:Me(r)};return Yo(e).put(i)}return be.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[J(t),""],!1,!0);return Yo(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Ve(r.parent))}return n}))}addFieldIndex(e,t){const n=Jo(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Zo(e);return i.next((e=>{n.put(yo(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Jo(e),r=Zo(e),i=Xo(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Jo(e),n=Xo(e),r=Zo(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return be.forEach(this.Tn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new jo(t).cn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Xo(e);let r=!0;const i=new Map;return be.forEach(this.Tn(t),(t=>this.In(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=yr();const r=[];return be.forEach(i,((i,o)=>{T("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Ln(t)));const s=function(e,t){const n=se(t);if(void 0===n)return null;for(const r of Un(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of ae(t))for(const t of Un(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of ae(t)){const t=0===i.kind?Bn(e,i.fieldPath,e.startAt):zn(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new dn(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of ae(t)){const t=0===i.kind?zn(e,i.fieldPath,e.endAt):Bn(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new dn(n,r)}(o,i),u=this.En(i,o,l),d=this.En(i,o,c),h=this.dn(i,o,a),f=this.An(i.indexId,s,u,l.inclusive,d,c.inclusive,h);return be.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=ie.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return be.resolve(null)}))}Tn(e){let t=this.Pn.get(e);return t||(t=0===e.filters.length?[e]:Lo(yn.create(e.filters,"and")).map((t=>Mn(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.Pn.set(e,t),t)}An(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.Rn(t[u/l]):Go,d=this.Vn(e,a,n[u%l],r),h=this.mn(e,a,i[u%l],o),f=s.map((t=>this.Vn(e,a,t,!0)));c.push(...this.createRange(d,h,f))}return c}Vn(e,t,n,r){const i=new Do(e,ie.empty(),t,n);return r?i:i.en()}mn(e,t,n,r){const i=new Do(e,ie.empty(),t,n);return r?i.en():i}In(e,t){const n=new jo(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.on(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.Tn(t);return be.forEach(r,(t=>this.In(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new wt(re.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}fn(e,t){const n=new No;for(const r of ae(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Xt(r.kind);Co.Ft.Et(e,i)}return n.Ht()}Rn(e){const t=new No;return Co.Ft.Et(e,t.Xt(0)),t.Ht()}gn(e,t){const n=new No;return Co.Ft.Et(Gt(this.databaseId,t),n.Xt(function(e){const t=ae(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ht()}dn(e,t,n){if(null===n)return[];let r=[];r.push(new No);let i=0;for(const o of ae(e)){const e=n[i++];for(const n of r)if(this.pn(t,o.fieldPath)&&Yt(e))r=this.yn(r,o,e);else{const t=n.Xt(o.kind);Co.Ft.Et(e,t)}}return this.wn(r)}En(e,t,n){return this.dn(e,t,n.position)}wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ht();return t}yn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new No;n.seed(e.Ht()),Co.Ft.Et(o,n.Xt(t.kind)),i.push(n)}return i}pn(e,t){return!!e.filters.find((e=>e instanceof vn&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Jo(e),r=Zo(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return be.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new de(t.sequenceNumber,new pe(uo(t.readTime),new ie(Ve(t.documentKey)),t.largestBatchId)):de.empty(),r=e.fields.map((e=>{let[t,n]=e;return new ce(re.fromServerFormat(t),n)}));return new oe(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Y(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Jo(e),i=Zo(e);return this.Sn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>be.forEach(t,(t=>i.put(yo(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return be.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?be.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),be.forEach(i,(n=>this.bn(e,t,n).next((t=>{const i=this.Dn(r,n);return t.isEqual(i)?be.resolve():this.vn(e,r,n,t,i)})))))))}))}Cn(e,t,n,r){return Xo(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Fn(e,t,n,r){return Xo(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}bn(e,t,n){const r=Xo(e);let i=new wt(Ro);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new Do(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Dn(e,t){let n=new wt(Ro);const r=this.fn(t,e);if(null==r)return n;const i=se(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Yt(o))for(const i of o.arrayValue.values||[])n=n.add(new Do(t.indexId,e.key,this.Rn(i),r))}else n=n.add(new Do(t.indexId,e.key,Go,r));return n}vn(e,t,n,r,i){T("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=St(o),l=St(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=St(s)):t?(i(a),a=St(o)):(a=St(o),l=St(s))}}(r,i,Ro,(r=>{o.push(this.Cn(e,t,n,r))}),(r=>{o.push(this.Fn(e,t,n,r))})),be.waitFor(o)}Sn(e){let t=1;return Zo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Ro(e,t))).filter(((e,t,n)=>!t||0!==Ro(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Ro(o,e),i=Ro(o,t);if(0===n)r[0]=e.en();else if(n>0&&i<0)r.push(o),r.push(o.en());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Mn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Go,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Go,[]];i.push(IDBKeyRange.bound(e,t))}return i}Mn(e,t){return Ro(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($o)}getMinOffset(e,t){return be.mapArray(this.Tn(t),(t=>this.In(e,t).next((e=>e||N())))).next($o)}}function Yo(e){return ht(e,"collectionParents")}function Xo(e){return ht(e,"indexEntries")}function Jo(e){return ht(e,"indexConfiguration")}function Zo(e){return ht(e,"indexState")}function $o(e){D(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;me(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new pe(t.readTime,t.documentKey,n)}const es={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ts{static withCacheSize(e){return new ts(e,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function ns(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{D(1===a)})));const c=[];for(const u of n.mutations){const e=ze(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return be.waitFor(o).next((()=>c))}function rs(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw N();t=e.noDocument}return JSON.stringify(t).length}ts.DEFAULT_COLLECTION_PERCENTILE=10,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ts.DEFAULT=new ts(41943040,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ts.DISABLED=new ts(-1,0,0);class is{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.xn={}}static Pt(e,t,n,r){D(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new is(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ss(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=as(e),o=ss(e);return o.add({}).next((s=>{D("number"==typeof s);const a=new $r(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Hi(e.ht,t))),i=n.mutations.map((t=>Hi(e.ht,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new wt(((e,t)=>Y(e.canonicalString(),t.canonicalString())));for(const e of r){const t=ze(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,qe))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.xn[s]=a.keys()})),be.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return ss(e).get(t).next((e=>e?(D(e.userId===this.userId),ho(this.serializer,e)):null))}On(e,t){return this.xn[t]?be.resolve(this.xn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.xn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return ss(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(D(t.batchId>=n),i=ho(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return ss(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ss(e).U("userMutationsIndex",t).next((e=>e.map((e=>ho(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Be(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return as(e).J({range:r},((n,r,o)=>{const[s,a,l]=n,c=Ve(a);if(s===this.userId&&t.path.isEqual(c))return ss(e).get(l).next((e=>{if(!e)throw N();D(e.userId===this.userId),i.push(ho(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new wt(Y);const r=[];return t.forEach((t=>{const i=Be(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=as(e).J({range:o},((e,r,i)=>{const[o,s,a]=e,l=Ve(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),be.waitFor(r).next((()=>this.Nn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Be(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new wt(Y);return as(e).J({range:o},((e,t,i)=>{const[o,a,l]=e,c=Ve(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()})).next((()=>this.Nn(e,s)))}Nn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(ss(e).get(t).next((e=>{if(null===e)throw N();D(e.userId===this.userId),n.push(ho(this.serializer,e))})))})),be.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return ns(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Ln(t.batchId)})),be.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Ln(e){delete this.xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return be.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return as(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Ve(e[1]);r.push(t)}else n.done()})).next((()=>{D(0===r.length)}))}))}containsKey(e,t){return os(e,this.userId,t)}Bn(e){return ls(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function os(e,t,n){const r=Be(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return as(e).J({range:o,H:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function ss(e){return ht(e,"mutations")}function as(e){return ht(e,"documentMutations")}function ls(e){return ht(e,"mutationQueues")}class cs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new cs(0)}static Qn(){return new cs(-1)}}class us{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Kn(e).next((t=>{const n=new cs(t.highestTargetId);return t.highestTargetId=n.next(),this.$n(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Kn(e).next((e=>$.fromTimestamp(new Z(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Kn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Kn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.$n(e,r))))}addTargetData(e,t){return this.Un(e,t).next((()=>this.Kn(e).next((n=>(n.targetCount+=1,this.Wn(t,n),this.$n(e,n))))))}updateTargetData(e,t){return this.Un(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>ds(e).delete(t.targetId))).next((()=>this.Kn(e))).next((t=>(D(t.targetCount>0),t.targetCount-=1,this.$n(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return ds(e).J(((o,s)=>{const a=fo(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>be.waitFor(i))).next((()=>r))}forEachTarget(e,t){return ds(e).J(((e,n)=>{const r=fo(n);t(r)}))}Kn(e){return hs(e).get("targetGlobalKey").next((e=>(D(null!==e),e)))}$n(e,t){return hs(e).put("targetGlobalKey",t)}Un(e,t){return ds(e).put(po(this.serializer,t))}Wn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Kn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Ln(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return ds(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=fo(n);Fn(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=fs(e);return t.forEach((t=>{const o=Me(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),be.waitFor(r)}removeMatchingKeys(e,t,n){const r=fs(e);return be.forEach(t,(t=>{const i=Me(t.path);return be.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=fs(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=fs(e);let i=yr();return r.J({range:n,H:!0},((e,t,n)=>{const r=Ve(e[1]),o=new ie(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Me(t.path),r=IDBKeyRange.bound([n],[J(n)],!1,!0);let i=0;return fs(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ut(e,t){return ds(e).get(t).next((e=>e?fo(e):null))}}function ds(e){return ht(e,"targets")}function hs(e){return ht(e,"targetGlobal")}function fs(e){return ht(e,"targetDocuments")}function ps(e,t){let[n,r]=e,[i,o]=t;const s=Y(n,i);return 0===s?Y(r,o):s}class ms{constructor(e){this.Gn=e,this.buffer=new wt(ps),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ps(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gs{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(e){T("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ce(e)?T("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ye(e)}await this.Yn(3e5)}))}}class vs{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return be.resolve(De.oe);const n=new ms(t);return this.Zn.forEachTarget(e,(e=>n.Hn(e.sequenceNumber))).next((()=>this.Zn.er(e,(e=>n.Hn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(es)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),es):this.tr(e,t)))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,r,i,o,s,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(T("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),C()<=a.$b.DEBUG&&T("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(l-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-l)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function ys(e,t){return new vs(e,t)}class bs{constructor(e,t){this.db=e,this.garbageCollector=ys(this,t)}Xn(e){const t=this.nr(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}er(e,t){return this.rr(e,((e,n)=>t(n)))}addReference(e,t,n){return ws(e,n)}removeReference(e,t,n){return ws(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return ws(e,t)}ir(e,t){return function(e,t){let n=!1;return ls(e).Y((r=>os(e,r,t).next((e=>(e&&(n=!0),be.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.rr(e,((o,s)=>{if(s<=t){const t=this.ir(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,$.min()),fs(e).delete(function(e){return[0,Me(e.path)]}(o)))))}));r.push(t)}})).next((()=>be.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return ws(e,t)}rr(e,t){const n=fs(e);let r,i=De.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==De.oe&&t(new ie(Ve(r)),i),i=l,r=a):i=De.oe})).next((()=>{i!==De.oe&&t(new ie(Ve(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ws(e,t){return fs(e).put(function(e,t){return{targetId:0,path:Me(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class xs{constructor(){this.changes=new ar((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?be.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ss{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return As(e).put(n)}removeEntry(e,t,n){return As(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],lo(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.sr(e,n))))}getEntry(e,t){let n=un.newInvalidDocument(t);return As(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ts(t))},((e,r)=>{n=this._r(t,r)})).next((()=>n))}ar(e,t){let n={size:0,document:un.newInvalidDocument(t)};return As(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ts(t))},((e,r)=>{n={document:this._r(t,r),size:rs(r)}})).next((()=>n))}getEntries(e,t){let n=cr();return this.ur(e,t,((e,t)=>{const r=this._r(e,t);n=n.insert(e,r)})).next((()=>n))}cr(e,t){let n=cr(),r=new vt(ie.comparator);return this.ur(e,t,((e,t)=>{const i=this._r(e,t);n=n.insert(e,i),r=r.insert(e,rs(t))})).next((()=>({documents:n,lr:r})))}ur(e,t,n){if(t.isEmpty())return be.resolve();let r=new wt(Is);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Ts(r.first()),Ts(r.last())),o=r.getIterator();let s=o.getNext();return As(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=ie.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&Is(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.$(Ts(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),lo(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return As(e).U(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=cr();for(const i of e){const e=this._r(ie.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(rr(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=cr();const o=_s(t,n),s=_s(t,pe.max());return As(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this._r(ie.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new ks(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Cs(e).get("remoteDocumentGlobalKey").next((e=>(D(!!e),e)))}sr(e,t){return Cs(e).put("remoteDocumentGlobalKey",t)}_r(e,t){if(t){const e=function(e,t){let n;if(t.document)n=qi(e.ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=ie.fromSegments(t.noDocument.path),r=uo(t.noDocument.readTime);n=un.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return N();{const e=ie.fromSegments(t.unknownDocument.path),r=uo(t.unknownDocument.version);n=un.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Z(e[0],e[1]);return $.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual($.min()))return e}return un.newInvalidDocument(e)}}function Es(e){return new Ss(e)}class ks extends xs{constructor(e,t){super(),this.hr=e,this.trackRemovals=t,this.Pr=new ar((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new wt(((e,t)=>Y(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.Pr.get(i);if(t.push(this.hr.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=ao(this.hr.serializer,o);r=r.add(i.path.popLast());const l=rs(a);n+=l-s.size,t.push(this.hr.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=ao(this.hr.serializer,o.convertToNoDocument($.min()));t.push(this.hr.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.hr.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.hr.updateMetadata(e,n)),be.waitFor(t)}getFromCache(e,t){return this.hr.ar(e,t).next((e=>(this.Pr.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.hr.cr(e,t).next((e=>{let{documents:t,lr:n}=e;return n.forEach(((e,n)=>{this.Pr.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Cs(e){return ht(e,"remoteDocumentGlobal")}function As(e){return ht(e,"remoteDocumentsV14")}function Ts(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function _s(e,t){const n=t.documentKey.path.toArray();return[e,lo(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Is(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Y(n[o],r[o]),i)return i;return i=Y(n.length,r.length),i||(i=Y(n[n.length-2],r[r.length-2]),i||Y(n[n.length-1],r[r.length-1]))}class Ps{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ns{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&qr(n.mutation,e,Et.empty(),Z.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,yr()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yr();const r=fr();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=dr();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=fr();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,yr())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=cr();const o=mr(),s=mr();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Gr)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),qr(s.mutation,t,s.mutation.getFieldMask(),Z.now())):o.set(t.key,Et.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Ps(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=mr();let r=new vt(((e,t)=>e-t)),i=yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Et.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||yr()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=pr();l.forEach((e=>{if(!i.has(e)){const r=Br(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return be.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ie.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Gn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):be.resolve(fr());let s=-1,a=i;return o.next((t=>be.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?be.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,yr()))).next((e=>({batchId:s,changes:hr(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ie(t)).next((e=>{let t=dr();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=dr();return this.indexManager.getCollectionParents(e,i).next((s=>be.forEach(s,(s=>{const a=function(e,t){return new qn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,un.newInvalidDocument(r)))}));let n=dr();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&qr(o.mutation,r,Et.empty(),Z.now()),rr(t,r)&&(n=n.insert(e,r))})),n}))}}class Ds{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return be.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Di(e.createTime)}}(t)),be.resolve()}getNamedQuery(e,t){return be.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(e){return{name:e.name,query:mo(e.bundledQuery),readTime:Di(e.readTime)}}(t)),be.resolve()}}class Rs{constructor(){this.overlays=new vt(ie.comparator),this.Er=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}getOverlays(e,t){const n=fr();return be.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Tt(e,t,r)})),be.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Er.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Er.delete(n)),be.resolve()}getOverlaysForCollection(e,t,n){const r=fr(),i=t.length+1,o=new ie(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return be.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new vt(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=fr(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=fr(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return be.resolve(s)}Tt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Er.get(r.largestBatchId).delete(n.key);this.Er.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ti(t,n));let i=this.Er.get(t);void 0===i&&(i=yr(),this.Er.set(t,i)),this.Er.set(t,i.add(n.key))}}class Os{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,be.resolve()}}class js{constructor(){this.dr=new wt(Ms.Ar),this.Rr=new wt(Ms.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const n=new Ms(e,t);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.gr(new Ms(e,t))}pr(e,t){e.forEach((e=>this.removeReference(e,t)))}yr(e){const t=new ie(new te([])),n=new Ms(t,e),r=new Ms(t,e+1),i=[];return this.Rr.forEachInRange([n,r],(e=>{this.gr(e),i.push(e.key)})),i}wr(){this.dr.forEach((e=>this.gr(e)))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ie(new te([])),n=new Ms(t,e),r=new Ms(t,e+1);let i=yr();return this.Rr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Ms(e,0),n=this.dr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ms{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ie.comparator(e.key,t.key)||Y(e.br,t.br)}static Vr(e,t){return Y(e.br,t.br)||ie.comparator(e.key,t.key)}}class Ls{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new wt(Ms.Ar)}checkEmpty(e){return be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $r(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.vr=this.vr.add(new Ms(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return be.resolve(o)}lookupMutationBatch(e,t){return be.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Fr(n),i=r<0?0:r;return be.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ms(t,0),r=new Ms(t,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([n,r],(e=>{const t=this.Cr(e.br);i.push(t)})),be.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new wt(Y);return t.forEach((e=>{const t=new Ms(e,0),r=new Ms(e,Number.POSITIVE_INFINITY);this.vr.forEachInRange([t,r],(e=>{n=n.add(e.br)}))})),be.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ie.isDocumentKey(i)||(i=i.child(""));const o=new Ms(new ie(i),0);let s=new wt(Y);return this.vr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.br)),!0)}),o),be.resolve(this.Mr(s))}Mr(e){const t=[];return e.forEach((e=>{const n=this.Cr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){D(0===this.Or(t.batchId,"removed")),this.mutationQueue.shift();let n=this.vr;return be.forEach(t.mutations,(r=>{const i=new Ms(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.vr=n}))}Ln(e){}containsKey(e,t){const n=new Ms(t,0),r=this.vr.firstAfterOrEqual(n);return be.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Fs{constructor(e){this.Nr=e,this.docs=new vt(ie.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return be.resolve(n?n.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let n=cr();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():un.newInvalidDocument(e))})),be.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=cr();const o=t.path,s=new ie(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||me(fe(s),n)<=0||(r.has(s.key)||rr(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return be.resolve(i)}getAllFromCollectionGroup(e,t,n,r){N()}Lr(e,t){return be.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Vs(this)}getSize(e){return be.resolve(this.size)}}class Vs extends xs{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.hr.addEntry(e,r)):this.hr.removeEntry(n)})),be.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}class Us{constructor(e){this.persistence=e,this.Br=new ar((e=>Ln(e)),Fn),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.kr=0,this.qr=new js,this.targetCount=0,this.Qr=cs.qn()}forEachTarget(e,t){return this.Br.forEach(((e,n)=>t(n))),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),be.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new cs(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.Un(t),be.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Br.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Br.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),be.waitFor(i).next((()=>r))}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const n=this.Br.get(t)||null;return be.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),be.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),be.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),be.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return be.resolve(n)}containsKey(e,t){return be.resolve(this.qr.containsKey(t))}}class Bs{constructor(e,t){this.Kr={},this.overlays={},this.$r=new De(0),this.Ur=!1,this.Ur=!0,this.Wr=new Os,this.referenceDelegate=e(this),this.Gr=new Us(this),this.indexManager=new Wo,this.remoteDocumentCache=function(e){return new Fs(e)}((e=>this.referenceDelegate.zr(e))),this.serializer=new so(t),this.jr=new Ds(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rs,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new Ls(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){T("MemoryPersistence","Starting transaction:",e);const r=new zs(this.$r.next());return this.referenceDelegate.Hr(),n(r).next((e=>this.referenceDelegate.Jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Yr(e,t){return be.or(Object.values(this.Kr).map((n=>()=>n.containsKey(e,t))))}}class zs extends ve{constructor(e){super(),this.currentSequenceNumber=e}}class qs{constructor(e){this.persistence=e,this.Zr=new js,this.Xr=null}static ei(e){return new qs(e)}get ti(){if(this.Xr)return this.Xr;throw N()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),be.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),be.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach((e=>this.ti.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ti.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.ti,(n=>{const r=ie.fromPath(n);return this.ni(e,r).next((e=>{e||t.removeEntry(r,$.min())}))})).next((()=>(this.Xr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ni(e,t).next((e=>{e?this.ti.delete(t.toString()):this.ti.add(t.toString())}))}zr(e){return 0}ni(e,t){return be.or([()=>be.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Hs{constructor(e,t){this.persistence=e,this.ri=new ar((e=>Me(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=ys(this,t)}static ei(e,t){return new Hs(e,t)}Hr(){}Jr(e){return be.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}er(e,t){return be.forEach(this.ri,((n,r)=>this.ir(e,n,r).next((e=>e?be.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Lr(e,(r=>this.ir(e,r,t).next((e=>{e||(n++,i.removeEntry(r,$.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),be.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),be.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),be.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kt(e.data.value)),t}ir(e,t,n){return be.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.ri.get(t);return be.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ws{constructor(e){this.serializer=e}O(e,t,n,r){const i=new we("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ue,{unique:!0}),e.createObjectStore("documentMutations")}(e),Ks(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=be.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Ks(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ue,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return be.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.ii(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.si(i))))),n<7&&r>=7&&(o=o.next((()=>this.oi(i)))),n<8&&r>=8&&(o=o.next((()=>this._i(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ai(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:tt});t.createIndex("collectionPathOverlayIndex",nt,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",rt,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:He});t.createIndex("documentKeyIndex",We),t.createIndex("collectionGroupIndex",Ke)}(e))).next((()=>this.ui(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ci(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Je}).createIndex("sequenceNumberIndex",Ze,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:$e}).createIndex("documentKeyIndex",et,{unique:!1})}(e)))),n<16&&r>=16&&(o=o.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),n<17&&r>=17&&(o=o.next((()=>{!function(e){e.createObjectStore("globals",{keyPath:"name"})}(e)}))),o}si(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=rs(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ii(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>be.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>be.forEach(n,(n=>{D(n.userId===t.userId);const r=ho(this.serializer,n);return ns(e,t.userId,r).next((()=>{}))}))))}))))}oi(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const o=new te(n),s=function(e){return[0,Me(e)]}(o);r.push(t.get(s).next((n=>n?be.resolve():(n=>t.put({targetId:0,path:Me(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>be.waitFor(r)))}))}_i(e,t){e.createObjectStore("collectionParents",{keyPath:Xe});const n=t.store("collectionParents"),r=new Ko,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Me(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new te(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,o]=e;const s=Ve(r);return i(s.popLast())}))))}ai(e){const t=e.store("targets");return t.J(((e,n)=>{const r=fo(n),i=po(this.serializer,r);return t.put(i)}))}ui(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new ie(te.fromString(e.document.name).popFirst(5)):e.noDocument?ie.fromSegments(e.noDocument.path):e.unknownDocument?ie.fromSegments(e.unknownDocument.path):N()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>be.waitFor(r)))}ci(e,t){const n=t.store("mutations"),r=Es(this.serializer),i=new Bs(qs.ei,this.serializer.ht);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:yr();ho(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),be.forEach(n,((e,n)=>{const o=new S(n),s=So.Pt(this.serializer,o),a=i.getIndexManager(o),l=is.Pt(o,this.serializer,a,i.referenceDelegate);return new Ns(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new dt(t,De.oe),e).next()}))}))}}function Ks(e){e.createObjectStore("targetDocuments",{keyPath:Qe}).createIndex("documentTargetsIndex",Ye,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ge,{unique:!0}),e.createObjectStore("targetGlobal")}const Gs="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qs{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.li=i,this.window=o,this.document=s,this.hi=l,this.Pi=c,this.Ti=u,this.$r=null,this.Ur=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ii=null,this.inForeground=!1,this.Ei=null,this.di=null,this.Ai=Number.NEGATIVE_INFINITY,this.Ri=e=>Promise.resolve(),!Qs.p())throw new M(j.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bs(this,r),this.Vi=t+"main",this.serializer=new so(a),this.mi=new xe(this.Vi,this.Ti,new Ws(this.serializer)),this.Wr=new ko,this.Gr=new us(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Es(this.serializer),this.jr=new bo,this.window&&this.window.localStorage?this.fi=this.window.localStorage:(this.fi=null,!1===c&&_("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new M(j.FAILED_PRECONDITION,Gs);return this.pi(),this.yi(),this.wi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Gr.getHighestSequenceNumber(e)))})).then((e=>{this.$r=new De(e,this.hi)})).then((()=>{this.Ur=!0})).catch((e=>(this.mi&&this.mi.close(),Promise.reject(e))))}Si(e){return this.Ri=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.mi.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.li.enqueueAndForget((async()=>{this.started&&await this.gi()})))}gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Xs(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.bi(e).next((e=>{e||(this.isPrimary=!1,this.li.enqueueRetryable((()=>this.Ri(!1))))}))})).next((()=>this.Di(e))).next((t=>this.isPrimary&&!t?this.vi(e).next((()=>!1)):!!t&&this.Ci(e).next((()=>!0)))))).catch((e=>{if(Ce(e))return T("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return T("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.li.enqueueRetryable((()=>this.Ri(e))),this.isPrimary=e}))}bi(e){return Ys(e).get("owner").next((e=>be.resolve(this.Fi(e))))}Mi(e){return Xs(e).delete(this.clientId)}async xi(){if(this.isPrimary&&!this.Oi(this.Ai,18e5)){this.Ai=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=ht(e,"clientMetadata");return t.U().next((e=>{const n=this.Ni(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return be.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.fi)for(const t of e)this.fi.removeItem(this.Li(t.clientId))}}wi(){this.di=this.li.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.gi().then((()=>this.xi())).then((()=>this.wi()))))}Fi(e){return!!e&&e.ownerId===this.clientId}Di(e){return this.Pi?be.resolve(!0):Ys(e).get("owner").next((t=>{if(null!==t&&this.Oi(t.leaseTimestampMs,5e3)&&!this.Bi(t.ownerId)){if(this.Fi(t)&&this.networkEnabled)return!0;if(!this.Fi(t)){if(!t.allowTabSynchronization)throw new M(j.FAILED_PRECONDITION,Gs);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xs(e).U().next((e=>void 0===this.Ni(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&T("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Ur=!1,this.ki(),this.di&&(this.di.cancel(),this.di=null),this.qi(),this.Qi(),await this.mi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new dt(e,De.oe);return this.vi(t).next((()=>this.Mi(t)))})),this.mi.close(),this.Ki()}Ni(e,t){return e.filter((e=>this.Oi(e.updateTimeMs,t)&&!this.Bi(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>Xs(e).U().next((e=>this.Ni(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ur}getGlobalsCache(){return this.Wr}getMutationQueue(e,t){return is.Pt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Qo(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return So.Pt(this.serializer,e)}getBundleCache(){return this.jr}runTransaction(e,t,n){T("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?ut:16===e?ct:15===e?lt:14===e?at:13===e?st:12===e?ot:11===e?it:void N()}(this.Ti);let o;return this.mi.runTransaction(e,r,i,(r=>(o=new dt(r,this.$r?this.$r.next():De.oe),"readwrite-primary"===t?this.bi(o).next((e=>!!e||this.Di(o))).next((t=>{if(!t)throw _("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.li.enqueueRetryable((()=>this.Ri(!1))),new M(j.FAILED_PRECONDITION,ge);return n(o)})).next((e=>this.Ci(o).next((()=>e)))):this.Ui(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Ui(e){return Ys(e).get("owner").next((e=>{if(null!==e&&this.Oi(e.leaseTimestampMs,5e3)&&!this.Bi(e.ownerId)&&!this.Fi(e)&&!(this.Pi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new M(j.FAILED_PRECONDITION,Gs)}))}Ci(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ys(e).put("owner",t)}static p(){return xe.p()}vi(e){const t=Ys(e);return t.get("owner").next((e=>this.Fi(e)?(T("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):be.resolve()))}Oi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(_("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}pi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ei=()=>{this.li.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.gi())))},this.document.addEventListener("visibilitychange",this.Ei),this.inForeground="visible"===this.document.visibilityState)}qi(){this.Ei&&(this.document.removeEventListener("visibilitychange",this.Ei),this.Ei=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ii=()=>{this.ki();const e=/(?:Version|Mobile)\/1[456]/;(0,l.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.li.enterRestrictedMode(!0),this.li.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ii))}Qi(){this.Ii&&(this.window.removeEventListener("pagehide",this.Ii),this.Ii=null)}Bi(e){var t;try{const n=null!==(null===(t=this.fi)||void 0===t?void 0:t.getItem(this.Li(e)));return T("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return _("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}ki(){if(this.fi)try{this.fi.setItem(this.Li(this.clientId),String(Date.now()))}catch(e){_("Failed to set zombie client id.",e)}}Ki(){if(this.fi)try{this.fi.removeItem(this.Li(this.clientId))}catch(e){}}Li(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Ys(e){return ht(e,"owner")}function Xs(e){return ht(e,"clientMetadata")}function Js(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Zs{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=r}static zi(e,t){let n=yr(),r=yr();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Zs(e,t.fromCache,n,r)}}class $s{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ea{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=(0,l.nr)()?8:Se((0,l.ZQ)())>0?6:4}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Xi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.es(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new $s;return this.ts(e,t,n).next((r=>{if(i.result=r,this.Hi)return this.ns(e,t,n,r.size)}))})).next((()=>i.result))}ns(e,t,n,r){return n.documentReadCount<this.Ji?(C()<=a.$b.DEBUG&&T("QueryEngine","SDK will not create cache indexes for query:",nr(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),be.resolve()):(C()<=a.$b.DEBUG&&T("QueryEngine","Query:",nr(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(C()<=a.$b.DEBUG&&T("QueryEngine","The SDK decides to create cache indexes for query:",nr(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(t))):be.resolve())}Xi(e,t){if(Kn(t))return be.resolve(null);let n=Yn(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=$n(t,null,"F"),n=Yn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=yr(...r);return this.Zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.rs(t,r);return this.ss(t,o,i,n.readTime)?this.Xi(e,$n(t,null,"F")):this.os(e,o,t,n)}))))})))))}es(e,t,n,r){return Kn(t)||r.isEqual($.min())?be.resolve(null):this.Zi.getDocuments(e,n).next((i=>{const o=this.rs(t,i);return this.ss(t,o,n,r)?be.resolve(null):(C()<=a.$b.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nr(t)),this.os(e,o,t,he(r,-1)).next((e=>e)))}))}rs(e,t){let n=new wt(or(e));return t.forEach(((t,r)=>{rr(e,r)&&(n=n.add(r))})),n}ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ts(e,t,n){return C()<=a.$b.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",nr(t)),this.Zi.getDocumentsMatchingQuery(e,t,pe.min(),n)}os(e,t,n,r){return this.Zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class ta{constructor(e,t,n,r){this.persistence=e,this._s=t,this.serializer=r,this.us=new vt(Y),this.cs=new ar((e=>Ln(e)),Fn),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ns(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.us)))}}function na(e,t,n,r){return new ta(e,t,n,r)}async function ra(e,t){const n=O(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ps(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=yr();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Ts:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function ia(e){const t=O(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Gr.getLastRemoteSnapshotVersion(e)))}function oa(e,t,n){let r=yr(),i=yr();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=cr();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual($.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):T("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{Is:r,Es:i}}))}function sa(e,t){const n=O(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function aa(e,t){const n=O(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Gr.getTargetData(e,t).next((i=>i?(r=i,be.resolve(r)):n.Gr.allocateTargetId(e).next((i=>(r=new oo(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Gr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.us.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.us=n.us.insert(e.targetId,e),n.cs.set(t,e.targetId)),e}))}async function la(e,t,n){const r=O(e),i=r.us.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ce(e))throw e;T("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.us=r.us.remove(t),r.cs.delete(i.target)}function ca(e,t,n){const r=O(e);let i=$.min(),o=yr();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=O(e),i=r.cs.get(n);return void 0!==i?be.resolve(r.us.get(i)):r.Gr.getTargetData(t,n)}(r,e,Yn(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r._s.getDocumentsMatchingQuery(e,t,n?i:$.min(),n?o:yr()))).next((e=>(ha(r,ir(t),e),{documents:e,ds:o})))))}function ua(e,t){const n=O(e),r=O(n.Gr),i=n.us.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ut(e,t).next((e=>e?e.target:null))))}function da(e,t){const n=O(e),r=n.ls.get(t)||$.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.hs.getAllFromCollectionGroup(e,t,he(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(ha(n,t,e),e)))}function ha(e,t,n){let r=e.ls.get(t)||$.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ls.set(t,r)}async function fa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yr();const r=await aa(e,Yn(mo(t.bundledQuery))),i=O(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Di(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.jr.saveNamedQuery(e,t);const s=r.withResumeToken(At.EMPTY_BYTE_STRING,o);return i.us=i.us.insert(s.targetId,s),i.Gr.updateTargetData(e,s).next((()=>i.Gr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Gr.addMatchingKeys(e,n,r.targetId))).next((()=>i.jr.saveNamedQuery(e,t)))}))}function pa(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function ma(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ga(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class va{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static fs(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new M(r.error.code,r.error.message))),o?new va(e,t,r.state,i):(_("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ya{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static fs(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new M(n.error.code,n.error.message))),i?new ya(e,n.state,r):(_("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ba{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static fs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=wr();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=je(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new ba(e,i):(_("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class wa{constructor(e,t){this.clientId=e,this.onlineState=t}static fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new wa(t.clientId,t.onlineState):(_("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class xa{constructor(){this.activeTargetIds=wr()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sa{constructor(e,t,n,r,i){this.window=e,this.li=t,this.persistenceKey=n,this.ws=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ss=this.bs.bind(this),this.Ds=new vt(Y),this.started=!1,this.vs=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Cs=pa(this.persistenceKey,this.ws),this.Fs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ds=this.Ds.insert(this.ws,new xa),this.Ms=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.xs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Os=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ns=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ls=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Ss)}static p(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.ws)continue;const e=this.getItem(pa(this.persistenceKey,n));if(e){const t=ba.fs(n,e);t&&(this.Ds=this.Ds.insert(t.clientId,t))}}this.Bs();const t=this.storage.getItem(this.Ns);if(t){const e=this.ks(t);e&&this.qs(e)}for(const n of this.vs)this.bs(n);this.vs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Fs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Qs(this.Ds)}isActiveQueryTarget(e){let t=!1;return this.Ds.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ks(e,"pending")}updateMutationState(e,t,n){this.Ks(e,t,n),this.$s(e)}addLocalQueryTarget(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(ga(this.persistenceKey,e));if(t){const r=ya.fs(e,t);r&&(n=r.state)}}return t&&this.Us.ps(e),this.Bs(),n}removeLocalQueryTarget(e){this.Us.ys(e),this.Bs()}isLocalQueryTarget(e){return this.Us.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ga(this.persistenceKey,e))}updateQueryState(e,t,n){this.Ws(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.$s(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Gs(e)}notifyBundleLoaded(e){this.zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ss),this.removeItem(this.Cs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return T("SharedClientState","READ",e,t),t}setItem(e,t){T("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){T("SharedClientState","REMOVE",e),this.storage.removeItem(e)}bs(e){const t=e;if(t.storageArea===this.storage){if(T("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Cs)return void _("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.li.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ms.test(t.key)){if(null==t.newValue){const e=this.js(t.key);return this.Hs(e,null)}{const e=this.Js(t.key,t.newValue);if(e)return this.Hs(e.clientId,e)}}else if(this.xs.test(t.key)){if(null!==t.newValue){const e=this.Ys(t.key,t.newValue);if(e)return this.Zs(e)}}else if(this.Os.test(t.key)){if(null!==t.newValue){const e=this.Xs(t.key,t.newValue);if(e)return this.eo(e)}}else if(t.key===this.Ns){if(null!==t.newValue){const e=this.ks(t.newValue);if(e)return this.qs(e)}}else if(t.key===this.Fs){const e=function(e){let t=De.oe;if(null!=e)try{const n=JSON.parse(e);D("number"==typeof n),t=n}catch(e){_("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==De.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.Ls){const e=this.no(t.newValue);await Promise.all(e.map((e=>this.syncEngine.ro(e))))}}else this.vs.push(t)}))}}get Us(){return this.Ds.get(this.ws)}Bs(){this.setItem(this.Cs,this.Us.gs())}Ks(e,t,n){const r=new va(this.currentUser,e,t,n),i=ma(this.persistenceKey,this.currentUser,e);this.setItem(i,r.gs())}$s(e){const t=ma(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Gs(e){const t={clientId:this.ws,onlineState:e};this.storage.setItem(this.Ns,JSON.stringify(t))}Ws(e,t,n){const r=ga(this.persistenceKey,e),i=new ya(e,t,n);this.setItem(r,i.gs())}zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Ls,t)}js(e){const t=this.Ms.exec(e);return t?t[1]:null}Js(e,t){const n=this.js(e);return ba.fs(n,t)}Ys(e,t){const n=this.xs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return va.fs(new S(i),r,t)}Xs(e,t){const n=this.Os.exec(e),r=Number(n[1]);return ya.fs(r,t)}ks(e){return wa.fs(e)}no(e){return JSON.parse(e)}async Zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.io(e.batchId,e.state,e.error);T("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}eo(e){return this.syncEngine.so(e.targetId,e.state,e.error)}Hs(e,t){const n=t?this.Ds.insert(e,t):this.Ds.remove(e),r=this.Qs(this.Ds),i=this.Qs(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.oo(o,s).then((()=>{this.Ds=n}))}qs(e){this.Ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Qs(e){let t=wr();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Ea{constructor(){this._o=new xa,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new xa,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ka{uo(e){}shutdown(){}}class Ca{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Aa=null;function Ta(){return null===Aa?Aa=268435456+Math.round(2147483648*Math.random()):Aa++,"0x"+Aa.toString(16)}const _a={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ia{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}const Pa="WebChannelConnection";class Na extends class{get Co(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=t+"://"+e.host,this.Mo="projects/".concat(n,"/databases/").concat(r),this.xo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Oo(e,t,n,r,i){const o=Ta(),s=this.No(e,t.toUriEncodedString());T("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(a,r,i),this.Bo(e,s,a,n).then((t=>(T("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw I("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}ko(e,t,n,r,i,o){return this.Oo(e,t,n,r,i)}Lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+E,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}No(e,t){const n=_a[e];return"".concat(this.Fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,n,r){const i=Ta();return new Promise(((o,s)=>{const a=new d;a.setWithCredentials(!0),a.listenOnce(f.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case p.NO_ERROR:const t=a.getResponseJson();T(Pa,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case p.TIMEOUT:T(Pa,"RPC '".concat(e,"' ").concat(i," timed out")),s(new M(j.DEADLINE_EXCEEDED,"Request time out"));break;case p.HTTP_ERROR:const n=a.getStatus();if(T(Pa,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(t)>=0?t:j.UNKNOWN}(t.status);s(new M(e,t.message))}else s(new M(j.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new M(j.UNAVAILABLE,"Connection failed."));break;default:N()}}finally{T(Pa,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);T(Pa,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}qo(e,t,n){const r=Ta(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=y(),s=v(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Lo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");T(Pa,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let d=!1,f=!1;const p=new Ia({Eo:t=>{f?T(Pa,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(T(Pa,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),T(Pa,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Ao:()=>u.close()}),b=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return b(u,h.EventType.OPEN,(()=>{f||(T(Pa,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.So())})),b(u,h.EventType.CLOSE,(()=>{f||(f=!0,T(Pa,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.Do())})),b(u,h.EventType.ERROR,(t=>{f||(f=!0,I(Pa,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),p.Do(new M(j.UNAVAILABLE,"The operation could not be completed")))})),b(u,h.EventType.MESSAGE,(t=>{var n;if(!f){const i=t.data[0];D(!!i);const o=i,s=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){T(Pa,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=ii[e];if(void 0!==t)return ai(t)}(t),i=s.message;void 0===n&&(n=j.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),f=!0,p.Do(new M(n,i)),u.close()}else T(Pa,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p.vo(i)}})),b(s,g.STAT_EVENT,(t=>{t.stat===m.PROXY?T(Pa,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===m.NOPROXY&&T(Pa,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{p.bo()}),0),p}}function Da(){return"undefined"!=typeof window?window:null}function Ra(){return"undefined"!=typeof document?document:null}function Oa(e){return new Ti(e,!0)}class ja{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.li=e,this.timerId=t,this.Qo=n,this.Ko=r,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,t-n);r>0&&T("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Uo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,(()=>(this.Go=Date.now(),e()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class Ma{constructor(e,t,n,r,i,o,s,a){this.li=e,this.Yo=n,this.Zo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new ja(e,t)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==e?this.r_.reset():t&&t.code===j.RESOURCE_EXHAUSTED?(_(t.toString()),_("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===j.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Xo===t&&this.I_(n,r)}),(t=>{e((()=>{const e=new M(j.UNKNOWN,"Fetching auth token failed: "+t.message);return this.E_(e)}))}))}I_(e,t){const n=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro((()=>{n((()=>this.listener.Ro()))})),this.stream.mo((()=>{n((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((e=>{n((()=>this.E_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.n_?this.A_(e):this.onNext(e)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}E_(e){return T("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget((()=>this.Xo===e?t():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class La extends Ma{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:N()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(D(void 0===t||"string"==typeof t),At.fromBase64String(t||"")):(D(void 0===t||t instanceof Buffer||t instanceof Uint8Array),At.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?j.UNKNOWN:ai(e.code);return new M(t,e.message||"")}(s);n=new bi(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Li(e,r.document.name),o=Di(r.document.updateTime),s=r.document.createTime?Di(r.document.createTime):$.min(),a=new ln({mapValue:{fields:r.document.fields}}),l=un.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new vi(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Li(e,r.document),o=r.readTime?Di(r.readTime):$.min(),s=un.newNoDocument(i,o),a=r.removedTargetIds||[];n=new vi([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Li(e,r.document),o=r.removedTargetIds||[];n=new vi([],o,i,null)}else{if(!("filter"in t))return N();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new ri(r,i),s=e.targetId;n=new yi(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return $.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?$.min():t.readTime?Di(t.readTime):$.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=Ui(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Vn(r)?{documents:Ki(e,r)}:{query:Gi(e,r).ct},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Pi(e,t.resumeToken);const r=_i(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo($.min())>0){n.readTime=Ii(e,t.snapshotVersion.toTimestamp());const r=_i(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return N()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=Ui(this.serializer),t.removeTarget=e,this.c_(t)}}class Fa extends Ma{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return D(!!e.streamToken),this.lastStreamToken=e.streamToken,D(!e.writeResults||0===e.writeResults.length),this.listener.p_()}onNext(e){D(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=function(e,t){return e&&e.length>0?(D(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Di(e.updateTime):Di(t);return n.isEqual($.min())&&(n=Di(t)),new Lr(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Di(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=Ui(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Hi(this.serializer,e)))};this.c_(t)}}class Va extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new M(j.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Oo(e,Oi(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new M(j.UNKNOWN,e.toString())}))}ko(e,t,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.ko(e,Oi(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new M(j.UNKNOWN,e.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class Ua{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(e){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.M_("Offline")))}set(e){this.N_(),this.D_=0,"Online"===e&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.C_?(_(t),this.C_=!1):T("OnlineStateTracker",t)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class Ba{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo((e=>{n.enqueueAndForget((async()=>{Xa(this)&&(T("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=O(e);t.k_.add(4),await qa(t),t.K_.set("Unknown"),t.k_.delete(4),await za(t)}(this))}))})),this.K_=new Ua(n,r)}}async function za(e){if(Xa(e))for(const t of e.q_)await t(!0)}async function qa(e){for(const t of e.q_)await t(!1)}function Ha(e,t){const n=O(e);n.B_.has(t.targetId)||(n.B_.set(t.targetId,t),Ya(n)?Qa(n):ml(n).s_()&&Ka(n,t))}function Wa(e,t){const n=O(e),r=ml(n);n.B_.delete(t),r.s_()&&Ga(n,t),0===n.B_.size&&(r.s_()?r.a_():Xa(n)&&n.K_.set("Unknown"))}function Ka(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ml(e).V_(t)}function Ga(e,t){e.U_.xe(t),ml(e).m_(t)}function Qa(e){e.U_=new xi({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.B_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),ml(e).start(),e.K_.F_()}function Ya(e){return Xa(e)&&!ml(e).i_()&&e.B_.size>0}function Xa(e){return 0===O(e).k_.size}function Ja(e){e.U_=void 0}async function Za(e){e.K_.set("Online")}async function $a(e){e.B_.forEach(((t,n)=>{Ka(e,t)}))}async function el(e,t){Ja(e),Ya(e)?(e.K_.O_(t),Qa(e)):e.K_.set("Unknown")}async function tl(e,t,n){if(e.K_.set("Online"),t instanceof bi&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.B_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.B_.delete(r),e.U_.removeTarget(r))}(e,t)}catch(n){T("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await nl(e,n)}else if(t instanceof vi?e.U_.$e(t):t instanceof yi?e.U_.Je(t):e.U_.Ge(t),!n.isEqual($.min()))try{const t=await ia(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.U_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.B_.get(r);i&&e.B_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.B_.get(t);if(!r)return;e.B_.set(t,r.withResumeToken(At.EMPTY_BYTE_STRING,r.snapshotVersion)),Ga(e,t);const i=new oo(r.target,t,n,r.sequenceNumber);Ka(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){T("RemoteStore","Failed to raise snapshot:",t),await nl(e,t)}}async function nl(e,t,n){if(!Ce(t))throw t;e.k_.add(1),await qa(e),e.K_.set("Offline"),n||(n=()=>ia(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{T("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await za(e)}))}function rl(e,t){return t().catch((n=>nl(e,n,t)))}async function il(e){const t=O(e),n=gl(t);let r=t.L_.length>0?t.L_[t.L_.length-1].batchId:-1;for(;ol(t);)try{const e=await sa(t.localStore,r);if(null===e){0===t.L_.length&&n.a_();break}r=e.batchId,sl(t,e)}catch(e){await nl(t,e)}al(t)&&ll(t)}function ol(e){return Xa(e)&&e.L_.length<10}function sl(e,t){e.L_.push(t);const n=gl(e);n.s_()&&n.f_&&n.g_(t.mutations)}function al(e){return Xa(e)&&!gl(e).i_()&&e.L_.length>0}function ll(e){gl(e).start()}async function cl(e){gl(e).w_()}async function ul(e){const t=gl(e);for(const n of e.L_)t.g_(n.mutations)}async function dl(e,t,n){const r=e.L_.shift(),i=ei.from(r,t,n);await rl(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await il(e)}async function hl(e,t){t&&gl(e).f_&&await async function(e,t){if(function(e){return si(e)&&e!==j.ABORTED}(t.code)){const n=e.L_.shift();gl(e).__(),await rl(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await il(e)}}(e,t),al(e)&&ll(e)}async function fl(e,t){const n=O(e);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=Xa(n);n.k_.add(3),await qa(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await za(n)}async function pl(e,t){const n=O(e);t?(n.k_.delete(2),await za(n)):t||(n.k_.add(2),await qa(n),n.K_.set("Unknown"))}function ml(e){return e.W_||(e.W_=function(e,t,n){const r=O(e);return r.b_(),new La(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:Za.bind(null,e),mo:$a.bind(null,e),po:el.bind(null,e),R_:tl.bind(null,e)}),e.q_.push((async t=>{t?(e.W_.__(),Ya(e)?Qa(e):e.K_.set("Unknown")):(await e.W_.stop(),Ja(e))}))),e.W_}function gl(e){return e.G_||(e.G_=function(e,t,n){const r=O(e);return r.b_(),new Fa(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:()=>Promise.resolve(),mo:cl.bind(null,e),po:hl.bind(null,e),p_:ul.bind(null,e),y_:dl.bind(null,e)}),e.q_.push((async t=>{t?(e.G_.__(),await il(e)):(await e.G_.stop(),e.L_.length>0&&(T("RemoteStore","Stopping write stream with ".concat(e.L_.length," pending writes")),e.L_=[]))}))),e.G_}class vl{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new L,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new vl(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yl(e,t){if(_("AsyncQueue","".concat(t,": ").concat(e)),Ce(e))return new M(j.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class bl{static emptySet(e){return new bl(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ie.comparator(t.key,n.key):(e,t)=>ie.comparator(e.key,t.key),this.keyedMap=dr(),this.sortedSet=new vt(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bl))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new bl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class wl{constructor(){this.z_=new vt(ie.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?0!==e.type&&3===n.type?this.z_=this.z_.insert(t,e):3===e.type&&1!==n.type?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.z_=this.z_.remove(t):1===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):N():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class xl{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new xl(e,t,bl.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&er(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Sl{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((e=>e.Z_()))}}class El{constructor(){this.queries=kl(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(e,t){const n=O(e),r=n.queries;n.queries=kl(),r.forEach(((e,n)=>{for(const r of n.J_)r.onError(t)}))}(this,new M(j.ABORTED,"Firestore shutting down"))}}function kl(){return new ar((e=>tr(e)),er)}async function Cl(e,t){const n=O(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.Y_()&&t.Z_()&&(r=2):(o=new Sl,r=t.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=yl(e,"Initialization of query '".concat(nr(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.J_.push(t),t.ea(n.onlineState),o.H_&&t.ta(o.H_)&&Il(n)}async function Al(e,t){const n=O(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.J_.indexOf(t);e>=0&&(o.J_.splice(e,1),0===o.J_.length?i=t.Z_()?0:1:!o.Y_()&&t.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Tl(e,t){const n=O(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.J_)e.ta(i)&&(r=!0);t.H_=i}}r&&Il(n)}function _l(e,t,n){const r=O(e),i=r.queries.get(t);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(t)}function Il(e){e.X_.forEach((e=>{e.next()}))}var Pl,Nl;(Nl=Pl||(Pl={})).na="default",Nl.Cache="cache";class Dl{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new xl(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache)return!0;if(!this.Z_())return!0;const n="Offline"!==t;return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}aa(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Pl.Cache}}class Rl{constructor(e,t){this.ca=e,this.byteLength=t}la(){return"metadata"in this.ca}}class Ol{constructor(e){this.serializer=e}As(e){return Li(this.serializer,e)}Rs(e){return e.metadata.exists?qi(this.serializer,e.document,!1):un.newNoDocument(this.As(e.metadata.name),this.Vs(e.metadata.readTime))}Vs(e){return Di(e)}}class jl{constructor(e,t,n){this.ha=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ml(e)}Pa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ca.namedQuery)this.queries.push(e.ca.namedQuery);else if(e.ca.documentMetadata){this.documents.push({metadata:e.ca.documentMetadata}),e.ca.documentMetadata.exists||++t;const n=te.fromString(e.ca.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ca.document&&(this.documents[this.documents.length-1].document=e.ca.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ta(e){const t=new Map,n=new Ol(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.As(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||yr()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=O(e);let o=yr(),s=cr();for(const c of n){const e=t.As(c.metadata.name);c.document&&(o=o.add(e));const n=t.Rs(c);n.setReadTime(t.Vs(c.metadata.readTime)),s=s.insert(e,n)}const a=i.hs.newChangeBuffer({trackRemovals:!0}),l=await aa(i,function(e){return Yn(Wn(te.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>oa(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Gr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Gr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.Is,t.Es))).next((()=>t.Is))))))}(this.localStore,new Ol(this.serializer),this.documents,this.ha.id),t=this.Ta(this.documents);for(const n of this.queries)await fa(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Ia:this.collectionGroups,Ea:e}}}function Ml(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Ll{constructor(e){this.key=e}}class Fl{constructor(e){this.key=e}}class Vl{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=yr(),this.mutatedKeys=yr(),this.Va=or(e),this.ma=new bl(this.Va)}get fa(){return this.da}ga(e,t){const n=t?t.pa:new wl,r=t?t.ma:this.ma;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=rr(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ya(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Va(u,a)>0||l&&this.Va(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ma:o,pa:n,ss:s,mutatedKeys:i}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return N()}};return n(e)-n(t)}(e.type,t.type)||this.Va(e.doc,t.doc))),this.wa(n),r=null!=r&&r;const s=t&&!r?this.Sa():[],a=0===this.Ra.size&&this.current&&!r?1:0,l=a!==this.Aa;return this.Aa=a,0!==o.length||l?{snapshot:new xl(this.query,e.ma,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:s}:{ba:s}}ea(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ma:this.ma,pa:new wl,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach((e=>this.da=this.da.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.da=this.da.delete(e))),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=yr(),this.ma.forEach((e=>{this.Da(e.key)&&(this.Ra=this.Ra.add(e.key))}));const t=[];return e.forEach((e=>{this.Ra.has(e)||t.push(new Fl(e))})),this.Ra.forEach((n=>{e.has(n)||t.push(new Ll(n))})),t}va(e){this.da=e.ds,this.Ra=yr();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return xl.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class Ul{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Bl{constructor(e){this.key=e,this.Fa=!1}}class zl{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new ar((e=>tr(e)),er),this.Oa=new Map,this.Na=new Set,this.La=new vt(ie.comparator),this.Ba=new Map,this.ka=new js,this.qa={},this.Qa=new Map,this.Ka=cs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function ql(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=yc(e);let i;const o=r.xa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await Wl(r,t,n,!0),i}async function Hl(e,t){const n=yc(e);await Wl(n,t,!0,!1)}async function Wl(e,t,n,r){const i=await aa(e.localStore,Yn(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Kl(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Ha(e.remoteStore,i),a}async function Kl(e,t,n,r,i){e.Ua=(t,n,r)=>async function(e,t,n,r){let i=t.view.ga(n);i.ss&&(i=await ca(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ga(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return ic(e,t.targetId,a.ba),a.snapshot}(e,t,n,r);const o=await ca(e.localStore,t,!0),s=new Vl(t,o.ds),a=s.ga(o.documents),l=gi.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);ic(e,n,c.ba);const u=new Ul(t,n,s);return e.xa.set(t,u),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),c.snapshot}async function Gl(e,t,n){const r=O(e),i=r.xa.get(t),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter((e=>!er(e,t)))),void r.xa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await la(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Wa(r.remoteStore,i.targetId),nc(r,i.targetId)})).catch(ye)):(nc(r,i.targetId),await la(r.localStore,i.targetId,!0))}async function Ql(e,t){const n=O(e),r=n.xa.get(t),i=n.Oa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wa(n.remoteStore,r.targetId))}async function Yl(e,t){const n=O(e);try{const e=await function(e,t){const n=O(e),r=t.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Gr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Gr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(At.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Gr.updateTargetData(e,c))}));let a=cr(),l=yr();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(oa(e,o,t.documentUpdates).next((e=>{a=e.Is,l=e.Es}))),!r.isEqual($.min())){const t=n.Gr.getLastRemoteSnapshotVersion(e).next((t=>n.Gr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return be.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.us=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ba.get(t);r&&(D(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Fa=!0:e.modifiedDocuments.size>0?D(r.Fa):e.removedDocuments.size>0&&(D(r.Fa),r.Fa=!1))})),await ac(n,e,t)}catch(e){await ye(e)}}function Xl(e,t,n){const r=O(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xa.forEach(((n,r)=>{const i=r.view.ea(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=O(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.J_)i.ea(t)&&(r=!0)})),r&&Il(n)}(r.eventManager,t),e.length&&r.Ma.R_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Jl(e,t,n){const r=O(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ba.get(t),o=i&&i.key;if(o){let e=new vt(ie.comparator);e=e.insert(o,un.newNoDocument(o,$.min()));const n=yr().add(o),i=new mi($.min(),new Map,new vt(Y),e,n);await Yl(r,i),r.La=r.La.remove(o),r.Ba.delete(t),sc(r)}else await la(r.localStore,t,!1).then((()=>nc(r,t,n))).catch(ye)}async function Zl(e,t){const n=O(e),r=t.batch.batchId;try{const e=await function(e,t){const n=O(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=be.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);D(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=yr();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);tc(n,r,null),ec(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ac(n,e)}catch(e){await ye(e)}}async function $l(e,t,n){const r=O(e);try{const e=await function(e,t){const n=O(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(D(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);tc(r,t,n),ec(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ac(r,e)}catch(n){await ye(n)}}function ec(e,t){(e.Qa.get(t)||[]).forEach((e=>{e.resolve()})),e.Qa.delete(t)}function tc(e,t,n){const r=O(e);let i=r.qa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.qa[r.currentUser.toKey()]=i}}function nc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Oa.get(t))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach((t=>{e.ka.containsKey(t)||rc(e,t)}))}function rc(e,t){e.Na.delete(t.path.canonicalString());const n=e.La.get(t);null!==n&&(Wa(e.remoteStore,n),e.La=e.La.remove(t),e.Ba.delete(n),sc(e))}function ic(e,t,n){for(const r of n)r instanceof Ll?(e.ka.addReference(r.key,t),oc(e,r)):r instanceof Fl?(T("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||rc(e,r.key)):N()}function oc(e,t){const n=t.key,r=n.path.canonicalString();e.La.get(n)||e.Na.has(r)||(T("SyncEngine","New document in limbo: "+n),e.Na.add(r),sc(e))}function sc(e){for(;e.Na.size>0&&e.La.size<e.maxConcurrentLimboResolutions;){const t=e.Na.values().next().value;e.Na.delete(t);const n=new ie(te.fromString(t)),r=e.Ka.next();e.Ba.set(r,new Bl(n)),e.La=e.La.insert(n,r),Ha(e.remoteStore,new oo(Yn(Wn(n.path)),r,"TargetPurposeLimboResolution",De.oe))}}async function ac(e,t,n){const r=O(e),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach(((e,a)=>{s.push(r.Ua(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Zs.zi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Ma.R_(i),await async function(e,t){const n=O(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>be.forEach(t,(t=>be.forEach(t.Wi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>be.forEach(t.Gi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ce(e))throw e;T("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.us.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.us=n.us.insert(e,i)}}}(r.localStore,o))}async function lc(e,t){const n=O(e);if(!n.currentUser.isEqual(t)){T("SyncEngine","User change. New user:",t.toKey());const e=await ra(n.localStore,t);n.currentUser=t,function(e,t){e.Qa.forEach((e=>{e.forEach((e=>{e.reject(new M(j.CANCELLED,t))}))})),e.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ac(n,e.Ts)}}function cc(e,t){const n=O(e),r=n.Ba.get(t);if(r&&r.Fa)return yr().add(r.key);{let e=yr();const r=n.Oa.get(t);if(!r)return e;for(const t of r){const r=n.xa.get(t);e=e.unionWith(r.view.fa)}return e}}async function uc(e,t){const n=O(e),r=await ca(n.localStore,t.query,!0),i=t.view.va(r);return n.isPrimaryClient&&ic(n,t.targetId,i.ba),i}async function dc(e,t){const n=O(e);return da(n.localStore,t).then((e=>ac(n,e)))}async function hc(e,t,n,r){const i=O(e),o=await function(e,t){const n=O(e),r=O(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.On(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):be.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await il(i.remoteStore):"acknowledged"===n||"rejected"===n?(tc(i,t,r||null),ec(i,t),function(e,t){O(O(e).mutationQueue).Ln(t)}(i.localStore,t)):N(),await ac(i,o)):T("SyncEngine","Cannot apply mutation batch with id: "+t)}async function fc(e,t,n){const r=O(e),i=[],o=[];for(const s of t){let e;const t=r.Oa.get(s);if(t&&0!==t.length){e=await aa(r.localStore,Yn(t[0]));for(const e of t){const t=r.xa.get(e),n=await uc(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await ua(r.localStore,s);e=await aa(r.localStore,t),await Kl(r,pc(t),s,!1,e.resumeToken)}i.push(e)}return r.Ma.R_(o),i}function pc(e){return Hn(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function mc(e){return function(e){return O(O(e).persistence).$i()}(O(e).localStore)}async function gc(e,t,n,r){const i=O(e);if(i.$a)return void T("SyncEngine","Ignoring unexpected query state notification.");const o=i.Oa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await da(i.localStore,ir(o[0])),r=mi.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,At.EMPTY_BYTE_STRING);await ac(i,e,r);break}case"rejected":await la(i.localStore,t,!0),nc(i,t,r);break;default:N()}}async function vc(e,t,n){const r=yc(e);if(r.$a){for(const e of t){if(r.Oa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){T("SyncEngine","Adding an already active target "+e);continue}const t=await ua(r.localStore,e),n=await aa(r.localStore,t);await Kl(r,pc(t),n.targetId,!1,n.resumeToken),Ha(r.remoteStore,n)}for(const e of n)r.Oa.has(e)&&await la(r.localStore,e,!1).then((()=>{Wa(r.remoteStore,e),nc(r,e)})).catch(ye)}}function yc(e){const t=O(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yl.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jl.bind(null,t),t.Ma.R_=Tl.bind(null,t.eventManager),t.Ma.Wa=_l.bind(null,t.eventManager),t}function bc(e){const t=O(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zl.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$l.bind(null,t),t}class wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oa(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return na(this.persistence,new ea,e.initialUser,this.serializer)}ja(e){return new Bs(qs.ei,this.serializer)}za(e){return new Ea}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wc.provider={build:()=>new wc};class xc extends wc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){D(this.persistence.referenceDelegate instanceof Hs);const n=this.persistence.referenceDelegate.garbageCollector;return new gs(n,e.asyncQueue,t)}ja(e){const t=void 0!==this.cacheSizeBytes?ts.withCacheSize(this.cacheSizeBytes):ts.DEFAULT;return new Bs((e=>Hs.ei(e,t)),this.serializer)}}class Sc extends wc{constructor(e,t,n){super(),this.Za=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Za.initialize(this,e),await bc(this.Za.syncEngine),await il(this.Za.remoteStore),await this.persistence.Si((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}Ha(e){return na(this.persistence,new ea,e.initialUser,this.serializer)}Ja(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new gs(n,e.asyncQueue,t)}Ya(e,t){const n=new Ne(t,this.persistence);return new Pe(e.asyncQueue,n)}ja(e){const t=Js(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ts.withCacheSize(this.cacheSizeBytes):ts.DEFAULT;return new Qs(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Da(),Ra(),this.serializer,this.sharedClientState,!!this.forceOwnership)}za(e){return new Ea}}class Ec extends Sc{constructor(e,t){super(e,t,!1),this.Za=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Za.syncEngine;this.sharedClientState instanceof Sa&&(this.sharedClientState.syncEngine={io:hc.bind(null,t),so:gc.bind(null,t),oo:vc.bind(null,t),$i:mc.bind(null,t),ro:dc.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Si((async e=>{await async function(e,t){const n=O(e);if(yc(n),bc(n),!0===t&&!0!==n.$a){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await fc(n,e.toArray());n.$a=!0,await pl(n.remoteStore,!0);for(const r of t)Ha(n.remoteStore,r)}else if(!1===t&&!1!==n.$a){const e=[];let t=Promise.resolve();n.Oa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(nc(n,i),la(n.localStore,i,!0)))),Wa(n.remoteStore,i)})),await t,await fc(n,e),function(e){const t=O(e);t.Ba.forEach(((e,n)=>{Wa(t.remoteStore,n)})),t.ka.wr(),t.Ba=new Map,t.La=new vt(ie.comparator)}(n),n.$a=!1,await pl(n.remoteStore,!1)}}(this.Za.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}za(e){const t=Da();if(!Sa.p(t))throw new M(j.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Js(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Sa(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class kc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Xl(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=lc.bind(null,this.syncEngine),await pl(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new El}createDatastore(e){const t=Oa(e.databaseInfo.databaseId),n=function(e){return new Na(e)}(e.databaseInfo);return function(e,t,n,r){return new Va(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Ba(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Xl(this.syncEngine,e,0)),Ca.p()?new Ca:new ka)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new zl(e,t,n,r,i,o);return s&&(a.$a=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=O(e);T("RemoteStore","RemoteStore shutting down."),t.k_.add(5),await qa(t),t.Q_.shutdown(),t.K_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function Cc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}kc.provider={build:()=>new kc};class Ac{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):_("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Tc{constructor(e,t){this.tu=e,this.serializer=t,this.metadata=new L,this.buffer=new Uint8Array,this.nu=new TextDecoder("utf-8"),this.ru().then((e=>{e&&e.la()?this.metadata.resolve(e.ca.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ca))))}),(e=>this.metadata.reject(e)))}close(){return this.tu.cancel()}async getMetadata(){return this.metadata.promise}async Ga(){return await this.getMetadata(),this.ru()}async ru(){const e=await this.iu();if(null===e)return null;const t=this.nu.decode(e),n=Number(t);isNaN(n)&&this.su("length string (".concat(t,") is not valid number"));const r=await this.ou(n);return new Rl(JSON.parse(r),e.length+n)}_u(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async iu(){for(;this._u()<0&&!await this.au(););if(0===this.buffer.length)return null;const e=this._u();e<0&&this.su("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ou(e){for(;this.buffer.length<e;)await this.au()&&this.su("Reached the end of bundle when more is expected.");const t=this.nu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}su(e){throw this.tu.cancel(),new Error("Invalid bundle format: ".concat(e))}async au(){const e=await this.tu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class _c{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new M(j.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=O(e),r={documents:t.map((e=>Mi(n.serializer,e)))},i=await n.ko("BatchGetDocuments",n.serializer.databaseId,te.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){D(!!t.found),t.found.name,t.found.updateTime;const n=Li(e,t.found.name),r=Di(t.found.updateTime),i=t.found.createTime?Di(t.found.createTime):$.min(),o=new ln({mapValue:{fields:t.found.fields}});return un.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){D(!!t.missing),D(!!t.readTime);const n=Li(e,t.missing),r=Di(t.readTime);return un.newNoDocument(n,r)}(e,t):N()}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());D(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Jr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=ie.fromPath(t);this.mutations.push(new Zr(n,this.precondition(n)))})),await async function(e,t){const n=O(e),r={writes:t.map((e=>Hi(n.serializer,e)))};await n.Oo("Commit",n.serializer.databaseId,te.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw N();t=$.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new M(j.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual($.min())?Fr.exists(!1):Fr.updateTime(t):Fr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual($.min()))throw new M(j.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fr.updateTime(t)}return Fr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ic{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.uu=n.maxAttempts,this.r_=new ja(this.asyncQueue,"transaction_retry")}cu(){this.uu-=1,this.lu()}lu(){this.r_.jo((async()=>{const e=new _c(this.datastore),t=this.hu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Pu(e)}))))})).catch((e=>{this.Pu(e)}))}))}hu(e){try{const t=this.updateFunction(e);return!Re(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Pu(e){this.uu>0&&this.Tu(e)?(this.uu-=1,this.asyncQueue.enqueueAndForget((()=>(this.lu(),Promise.resolve())))):this.deferred.reject(e)}Tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!si(t)}return!1}}class Pc{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=S.UNAUTHENTICATED,this.clientId=Q.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{T("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(T("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new L;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=yl(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Nc(e,t){e.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await ra(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Dc(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Rc(e);T("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>fl(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>fl(t.remoteStore,n))),e._onlineComponents=t}async function Rc(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===j.FAILED_PRECONDITION||e.code===j.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;I("Error using user provided cache. Falling back to memory cache: "+n),await Nc(e,new wc)}}else T("FirestoreClient","Using default OfflineComponentProvider"),await Nc(e,new xc(void 0));return e._offlineComponents}async function Oc(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),await Dc(e,e._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),await Dc(e,new kc))),e._onlineComponents}function jc(e){return Rc(e).then((e=>e.persistence))}function Mc(e){return Rc(e).then((e=>e.localStore))}function Lc(e){return Oc(e).then((e=>e.remoteStore))}function Fc(e){return Oc(e).then((e=>e.syncEngine))}function Vc(e){return Oc(e).then((e=>e.datastore))}async function Uc(e){const t=await Oc(e),n=t.eventManager;return n.onListen=ql.bind(null,t.syncEngine),n.onUnlisten=Gl.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Hl.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Ql.bind(null,t.syncEngine),n}function Bc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new L;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Ac({next:a=>{o.eu(),t.enqueueAndForget((()=>Al(e,s)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new M(j.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new M(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new Dl(Wn(n.path),o,{includeMetadataChanges:!0,ua:!0});return Cl(e,s)}(await Uc(e),e.asyncQueue,t,n,r))),r.promise}function zc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new L;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Ac({next:n=>{o.eu(),t.enqueueAndForget((()=>Al(e,s))),n.fromCache&&"server"===r.source?i.reject(new M(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Dl(n,o,{includeMetadataChanges:!0,ua:!0});return Cl(e,s)}(await Uc(e),e.asyncQueue,t,n,r))),r.promise}function qc(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?ci().encode(e):e,function(e,t){return new Tc(e,t)}(function(e,t){if(e instanceof Uint8Array)return Cc(e,t);if(e instanceof ArrayBuffer)return Cc(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Oa(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=O(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=O(e),r=Di(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.jr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Ml(r));const i=new jl(r,e.localStore,t.serializer);let o=await t.Ga();for(;o;){const e=await i.Pa(o);e&&n._updateProgress(e),o=await t.Ga()}const s=await i.complete();return await ac(e,s.Ea,void 0),await function(e,t){const n=O(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.jr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.Ia)}catch(e){return I("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await Fc(e),i,r)}))}function Hc(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Wc=new Map;function Kc(e,t,n){if(!n)throw new M(j.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Gc(e,t,n,r){if(!0===t&&!0===r)throw new M(j.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Qc(e){if(!ie.isDocumentKey(e))throw new M(j.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Yc(e){if(ie.isDocumentKey(e))throw new M(j.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":N()}function Jc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new M(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xc(e);throw new M(j.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Zc(e,t){if(t<=0)throw new M(j.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class $c{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new M(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gc("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hc(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new M(j.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new M(j.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new M(j.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $c({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new M(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $c(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new V;switch(e.type){case"firstParty":return new q(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new M(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Wc.get(e);t&&(T("ComponentProvider","Removing Datastore"),Wc.delete(e),t.terminate())}(this),Promise.resolve()}}function tu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Jc(e,eu))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&I("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=S.MOCK_USER;else{t=(0,l.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new M(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new S(o)}e._authCredentials=new U(new F(t,n))}}class nu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new nu(this.firestore,e,this._query)}}class ru{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ru(this.firestore,e,this._key)}}class iu extends nu{constructor(e,t,n){super(e,t,Wn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ru(this.firestore,null,new ie(e))}withConverter(e){return new iu(this.firestore,e,this._path)}}function ou(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),Kc("collection","path",t),e instanceof eu){const n=te.fromString(t,...r);return Yc(n),new iu(e,null,n)}{if(!(e instanceof ru||e instanceof iu))throw new M(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(te.fromString(t,...r));return Yc(n),new iu(e.firestore,null,n)}}function su(e,t){if(e=Jc(e,eu),Kc("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new M(j.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new nu(e,null,function(e){return new qn(te.emptyPath(),e)}(t))}function au(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),1===arguments.length&&(t=Q.newId()),Kc("doc","path",t),e instanceof eu){const n=te.fromString(t,...r);return Qc(n),new ru(e,null,new ie(n))}{if(!(e instanceof ru||e instanceof iu))throw new M(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(te.fromString(t,...r));return Qc(n),new ru(e.firestore,e instanceof iu?e.converter:null,new ie(n))}}function lu(e,t){return e=(0,l.Ku)(e),t=(0,l.Ku)(t),(e instanceof ru||e instanceof iu)&&(t instanceof ru||t instanceof iu)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function cu(e,t){return e=(0,l.Ku)(e),t=(0,l.Ku)(t),e instanceof nu&&t instanceof nu&&e.firestore===t.firestore&&er(e._query,t._query)&&e.converter===t.converter}class uu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new ja(this,"async_queue_retry"),this.fu=()=>{const e=Ra();e&&T("AsyncQueue","Visibility state changed to "+e.visibilityState),this.r_.Jo()},this.gu=e;const t=Ra();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Ra();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise((()=>{}));const t=new L;return this.yu((()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Iu.push(e),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ce(e))throw e;T("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(e){const t=this.gu.then((()=>(this.Ru=!0,e().catch((e=>{this.Au=e,this.Ru=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw _("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ru=!1,e))))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const r=vl.createAndSchedule(this,e,t,n,(e=>this.Su(e)));return this.du.push(r),r}pu(){this.Au&&N()}verifyOperationInProgress(){}async bu(){let e;do{e=this.gu,await e}while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then((()=>{this.du.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.bu()}))}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function du(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class hu{constructor(){this._progressObserver={},this._taskCompletionResolver=new L,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const fu=-1;class pu extends eu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new uu,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uu(e),this._firestoreClient=void 0,await e}}}function mu(e,t,n){n||(n="(default)");const r=(0,o.j6)(e,"firestore");if(r.isInitialized(n)){const e=r.getImmediate({identifier:n}),i=r.getOptions(n);if((0,l.bD)(i,t))return e;throw new M(j.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new M(j.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new M(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function gu(e,t){const n="object"==typeof e?e:(0,o.Sx)(),r="string"==typeof e?e:t||"(default)",i=(0,o.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,l.yU)("firestore");e&&tu(i,...e)}return i}function vu(e){if(e._terminated)throw new M(j.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||yu(e),e._firestoreClient}function yu(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Ot(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Hc(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Pc(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function bu(e,t){I("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return xu(e,kc.provider,{build:e=>new Sc(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}async function wu(e){I("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();xu(e,kc.provider,{build:e=>new Ec(e,t.cacheSizeBytes)})}function xu(e,t,n){if((e=Jc(e,pu))._firestoreClient||e._terminated)throw new M(j.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new M(j.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},yu(e)}function Su(e){if(e._initialized&&!e._terminated)throw new M(j.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new L;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!xe.p())return Promise.resolve();const t=e+"main";await xe.delete(t)}(Js(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}function Eu(e){return function(e){const t=new L;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=O(e);Xa(n.remoteStore)||T("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=O(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Qa.get(e)||[];r.push(t),n.Qa.set(e,r)}catch(e){const n=yl(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Fc(e),t))),t.promise}(vu(e=Jc(e,pu)))}function ku(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await jc(e),n=await Lc(e);return t.setNetworkEnabled(!0),function(e){const t=O(e);return t.k_.delete(0),za(t)}(n)}))}(vu(e=Jc(e,pu)))}function Cu(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await jc(e),n=await Lc(e);return t.setNetworkEnabled(!1),async function(e){const t=O(e);t.k_.add(0),await qa(t),t.K_.set("Offline")}(n)}))}(vu(e=Jc(e,pu)))}function Au(e){return(0,o.Us)(e.app,"firestore",e._databaseId.database),e._delete()}function Tu(e,t){const n=vu(e=Jc(e,pu)),r=new hu;return qc(n,e._databaseId,t,r),r}function _u(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=O(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.jr.getNamedQuery(e,t)))}(await Mc(e),t)))}(vu(e=Jc(e,pu)),t).then((t=>t?new nu(e,null,t.query):null))}class Iu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"count",t=arguments.length>1?arguments[1]:void 0;this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class Pu{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Nu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nu(At.fromBase64String(e))}catch(e){throw new M(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Nu(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Du{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new M(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new re(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Ru(){return new Du("__name__")}class Ou{constructor(e){this._methodName=e}}class ju{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}class Mu{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Lu=/^__.*__$/;class Fu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Gr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kr(e,this.data,t,this.fieldTransforms)}}class Vu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Gr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Uu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw N()}}class Bu{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Bu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Lu(e),r}Bu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return ad(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(0===e.length)throw this.qu("Document fields must not be empty");if(Uu(this.Mu)&&Lu.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class zu{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Oa(e)}$u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Bu({Mu:e,methodName:t,Ku:n,path:re.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qu(e){const t=e._freezeSettings(),n=Oa(e._databaseId);return new zu(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Hu(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.$u(o.merge||o.mergeFields?2:0,t,n,i);rd("Data must be an object, but it was:",s,r);const a=td(r,s);let l,c;if(o.merge)l=new Et(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=id(t,r,n);if(!s.contains(i))throw new M(j.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ld(e,i)||e.push(i)}l=new Et(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new Fu(new ln(a),l,c)}class Wu extends Ou{_toFieldTransform(e){if(2!==e.Mu)throw 1===e.Mu?e.qu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wu}}function Ku(e,t,n){return new Bu({Mu:3,Ku:t.settings.Ku,methodName:e._methodName,Nu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Gu extends Ou{_toFieldTransform(e){return new Mr(e.path,new _r)}isEqual(e){return e instanceof Gu}}class Qu extends Ou{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=Ku(this,e,!0),n=this.Uu.map((e=>ed(e,t))),r=new Ir(n);return new Mr(e.path,r)}isEqual(e){return e instanceof Qu&&(0,l.bD)(this.Uu,e.Uu)}}class Yu extends Ou{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=Ku(this,e,!0),n=this.Uu.map((e=>ed(e,t))),r=new Nr(n);return new Mr(e.path,r)}isEqual(e){return e instanceof Yu&&(0,l.bD)(this.Uu,e.Uu)}}class Xu extends Ou{constructor(e,t){super(e),this.Wu=t}_toFieldTransform(e){const t=new Rr(e.serializer,Er(e.serializer,this.Wu));return new Mr(e.path,t)}isEqual(e){return e instanceof Xu&&this.Wu===e.Wu}}function Ju(e,t,n,r){const i=e.$u(1,t,n);rd("Data must be an object, but it was:",i,r);const o=[],s=ln.empty();pt(r,((e,r)=>{const a=sd(t,e,n);r=(0,l.Ku)(r);const c=i.Bu(a);if(r instanceof Wu)o.push(a);else{const e=ed(r,c);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Et(o);return new Vu(s,a,i.fieldTransforms)}function Zu(e,t,n,r,i,o){const s=e.$u(1,t,n),a=[id(t,r,n)],c=[i];if(o.length%2!=0)throw new M(j.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let l=0;l<o.length;l+=2)a.push(id(t,o[l])),c.push(o[l+1]);const u=[],d=ln.empty();for(let f=a.length-1;f>=0;--f)if(!ld(u,a[f])){const e=a[f];let t=c[f];t=(0,l.Ku)(t);const n=s.Bu(e);if(t instanceof Wu)u.push(e);else{const r=ed(t,n);null!=r&&(u.push(e),d.set(e,r))}}const h=new Et(u);return new Vu(d,h,s.fieldTransforms)}function $u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ed(n,e.$u(r?4:3,t))}function ed(e,t){if(nd(e=(0,l.Ku)(e)))return rd("Unsupported field value:",t,e),td(e,t);if(e instanceof Ou)return function(e,t){if(!Uu(t.Mu))throw t.qu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&4!==t.Mu)throw t.qu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ed(i,t.ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Er(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Z.fromDate(e);return{timestampValue:Ii(t.serializer,n)}}if(e instanceof Z){const n=new Z(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ii(t.serializer,n)}}if(e instanceof ju)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Nu)return{bytesValue:Pi(t.serializer,e._byteString)};if(e instanceof ru){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.qu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Ri(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Mu)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.qu("VectorValues must only contain numeric values.");return xr(t.serializer,e)}))}}}}}}(e,t);throw t.qu("Unsupported field value: ".concat(Xc(e)))}(e,t)}function td(e,t){const n={};return gt(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pt(e,((e,r)=>{const i=ed(r,t.Ou(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function nd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Z||e instanceof ju||e instanceof Nu||e instanceof ru||e instanceof Ou||e instanceof Mu)}function rd(e,t,n){if(!nd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Xc(n);throw"an object"===r?t.qu(e+" a custom object"):t.qu(e+" "+r)}}function id(e,t,n){if((t=(0,l.Ku)(t))instanceof Du)return t._internalPath;if("string"==typeof t)return sd(e,t);throw ad("Field path arguments must be of type string or ",e,!1,void 0,n)}const od=new RegExp("[~\\*/\\[\\]]");function sd(e,t,n){if(t.search(od)>=0)throw ad("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Du(...t.split("."))._internalPath}catch(r){throw ad("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ad(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new M(j.INVALID_ARGUMENT,a+e+l)}function ld(e,t){return e.some((e=>e.isEqual(t)))}class cd{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ru(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ud(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ud extends cd{data(){return super.data()}}function dd(e,t){return"string"==typeof t?sd(e,t):t instanceof Du?t._internalPath:t._delegate._internalPath}function hd(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new M(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fd{}class pd extends fd{}function md(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof fd&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof yd)).length,n=e.filter((e=>e instanceof gd)).length;if(t>1||t>0&&n>0)throw new M(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class gd extends pd{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new gd(e,t,n)}_apply(e){const t=this._parse(e);return jd(e._query,t),new nu(e.firestore,e.converter,Zn(e._query,t))}_parse(e){const t=qu(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new M(j.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Od(s,o);const t=[];for(const n of s)t.push(Rd(r,e,n));a={arrayValue:{values:t}}}else a=Rd(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Od(s,o),a=$u(n,t,s,"in"===o||"not-in"===o);return vn.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function vd(e,t,n){const r=t,i=dd("where",e);return gd._create(i,r,n)}class yd extends fd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yd(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)jd(n,i),n=Zn(n,i)}(e._query,t),new nu(e.firestore,e.converter,Zn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function bd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>Md("or",e))),yd._create("or",t)}function wd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>Md("and",e))),yd._create("and",t)}class xd extends pd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new xd(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new M(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new M(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pn(t,n)}(e._query,this._field,this._direction);return new nu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new qn(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Sd(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=dd("orderBy",e);return xd._create(n,t)}class Ed extends pd{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Ed(e,t,n)}_apply(e){return new nu(e.firestore,e.converter,$n(e._query,this._limit,this._limitType))}}function kd(e){return Zc("limit",e),Ed._create("limit",e,"F")}function Cd(e){return Zc("limitToLast",e),Ed._create("limitToLast",e,"L")}class Ad extends pd{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Ad(e,t,n)}_apply(e){const t=Dd(e,this.type,this._docOrFields,this._inclusive);return new nu(e.firestore,e.converter,function(e,t){return new qn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function Td(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ad._create("startAt",t,!0)}function _d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ad._create("startAfter",t,!1)}class Id extends pd{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Id(e,t,n)}_apply(e){const t=Dd(e,this.type,this._docOrFields,this._inclusive);return new nu(e.firestore,e.converter,function(e,t){return new qn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Pd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Id._create("endBefore",t,!1)}function Nd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Id._create("endAt",t,!0)}function Dd(e,t,n,r){if(n[0]=(0,l.Ku)(n[0]),n[0]instanceof cd)return function(e,t,n,r,i){if(!r)throw new M(j.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of Qn(e))if(s.field.isKeyField())o.push(Gt(t,r.key));else{const e=r.data.field(s.field);if(Nt(e))throw new M(j.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new M(j.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new dn(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=qu(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new M(j.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new M(j.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!Gn(e)&&-1!==o.indexOf("/"))throw new M(j.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(te.fromString(o));if(!ie.isDocumentKey(n))throw new M(j.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new ie(n);a.push(Gt(t,i))}else{const e=$u(n,r,o);a.push(e)}}return new dn(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Rd(e,t,n){if("string"==typeof(n=(0,l.Ku)(n))){if(""===n)throw new M(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gn(t)&&-1!==n.indexOf("/"))throw new M(j.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(te.fromString(n));if(!ie.isDocumentKey(r))throw new M(j.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Gt(e,new ie(r))}if(n instanceof ru)return Gt(e,n._key);throw new M(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Xc(n),"."))}function Od(e,t){if(!Array.isArray(e)||0===e.length)throw new M(j.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function jd(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new M(j.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new M(j.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Md(e,t){if(!(t instanceof gd||t instanceof yd))throw new M(j.INVALID_ARGUMENT,"Function ".concat(e,"() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'."))}class Ld{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ft(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw N()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return pt(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>It(e.doubleValue)));return new Mu(i)}convertGeoPoint(e){return new ju(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Dt(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Rt(e));default:return null}}convertTimestamp(e){const t=_t(e);return new Z(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=te.fromString(e);D(io(n));const r=new jt(n.get(1),n.get(3)),i=new ie(n.popFirst(5));return r.isEqual(t)||_("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Fd(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Vd extends Ld{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ru(this.firestore,null,t)}}function Ud(e){return new Iu("sum",id("sum",e))}function Bd(e){return new Iu("avg",id("average",e))}function zd(){return new Iu("count")}function qd(e,t){var n,r;return e instanceof Iu&&t instanceof Iu&&e.aggregateType===t.aggregateType&&(null===(n=e._internalFieldPath)||void 0===n?void 0:n.canonicalString())===(null===(r=t._internalFieldPath)||void 0===r?void 0:r.canonicalString())}function Hd(e,t){return cu(e.query,t.query)&&(0,l.bD)(e.data(),t.data())}class Wd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kd extends cd{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(dd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Gd extends Kd{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Qd{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Wd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Gd(this._firestore,this._userDataWriter,n.key,n,new Wd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new M(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Gd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Wd(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Gd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Yd(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Yd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return N()}}function Xd(e,t){return e instanceof Kd&&t instanceof Kd?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Qd&&t instanceof Qd&&e._firestore===t._firestore&&cu(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Jd(e){e=Jc(e,ru);const t=Jc(e.firestore,pu);return Bc(vu(t),e._key).then((n=>dh(t,e,n)))}class Zd extends Ld{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ru(this.firestore,null,t)}}function $d(e){e=Jc(e,ru);const t=Jc(e.firestore,pu),n=vu(t),r=new Zd(t);return function(e,t){const n=new L;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=O(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new M(j.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=yl(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await Mc(e),t,n))),n.promise}(n,e._key).then((n=>new Kd(t,r,e._key,n,new Wd(null!==n&&n.hasLocalMutations,!0),e.converter)))}function eh(e){e=Jc(e,ru);const t=Jc(e.firestore,pu);return Bc(vu(t),e._key,{source:"server"}).then((n=>dh(t,e,n)))}function th(e){e=Jc(e,nu);const t=Jc(e.firestore,pu),n=vu(t),r=new Zd(t);return hd(e._query),zc(n,e._query).then((n=>new Qd(t,r,e,n)))}function nh(e){e=Jc(e,nu);const t=Jc(e.firestore,pu),n=vu(t),r=new Zd(t);return function(e,t){const n=new L;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await ca(e,t,!0),i=new Vl(t,r.ds),o=i.ga(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=yl(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await Mc(e),t,n))),n.promise}(n,e._query).then((n=>new Qd(t,r,e,n)))}function rh(e){e=Jc(e,nu);const t=Jc(e.firestore,pu),n=vu(t),r=new Zd(t);return zc(n,e._query,{source:"server"}).then((n=>new Qd(t,r,e,n)))}function ih(e,t,n){e=Jc(e,ru);const r=Jc(e.firestore,pu),i=Fd(e.converter,t,n);return uh(r,[Hu(qu(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Fr.none())])}function oh(e,t,n){e=Jc(e,ru);const r=Jc(e.firestore,pu),i=qu(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),c=3;c<s;c++)a[c-3]=arguments[c];return o="string"==typeof(t=(0,l.Ku)(t))||t instanceof Du?Zu(i,"updateDoc",e._key,t,n,a):Ju(i,"updateDoc",e._key,t),uh(r,[o.toMutation(e._key,Fr.exists(!0))])}function sh(e){return uh(Jc(e.firestore,pu),[new Jr(e._key,Fr.none())])}function ah(e,t){const n=Jc(e.firestore,pu),r=au(e),i=Fd(e.converter,t);return uh(n,[Hu(qu(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Fr.exists(!1))]).then((()=>r))}function lh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=(0,l.Ku)(e);let a={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof n[c]||du(n[c])||(a=n[c],c++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(du(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[c+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let d,h,f;if(e instanceof ru)h=Jc(e.firestore,pu),f=Wn(e._key.path),d={next:t=>{n[c]&&n[c](dh(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=Jc(e,nu);h=Jc(t.firestore,pu),f=t._query;const r=new Zd(h);d={next:e=>{n[c]&&n[c](new Qd(h,r,t,e))},error:n[c+1],complete:n[c+2]},hd(e._query)}return function(e,t,n,r){const i=new Ac(r),o=new Dl(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Cl(await Uc(e),o))),()=>{i.eu(),e.asyncQueue.enqueueAndForget((async()=>Al(await Uc(e),o)))}}(vu(h),f,u,d)}function ch(e,t){return function(e,t){const n=new Ac(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){O(e).X_.add(t),t.next()}(await Uc(e),n))),()=>{n.eu(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){O(e).X_.delete(t)}(await Uc(e),n)))}}(vu(e=Jc(e,pu)),du(t)?t:{next:t})}function uh(e,t){return function(e,t){const n=new L;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=bc(e);try{const e=await function(e,t){const n=O(e),r=Z.now(),i=t.reduce(((e,t)=>e.add(t.key)),yr());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=cr(),l=yr();return n.hs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Hr(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Gr(e.key,t,cn(t.value.mapValue),Fr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:hr(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.qa[e.currentUser.toKey()];r||(r=new vt(Y)),r=r.insert(t,n),e.qa[e.currentUser.toKey()]=r}(r,e.batchId,n),await ac(r,e.changes),await il(r.remoteStore)}catch(e){const t=yl(e,"Failed to persist write");n.reject(t)}}(await Fc(e),t,n))),n.promise}(vu(e),t)}function dh(e,t,n){const r=n.docs.get(t._key),i=new Zd(e);return new Kd(e,i,t._key,r,new Wd(n.hasPendingWrites,n.fromCache),t.converter)}function hh(e){return fh(e,{count:zd()})}function fh(e,t){const n=Jc(e.firestore,pu),r=vu(n),i=mt(t,((e,t)=>new ni(t,e.aggregateType,e._internalFieldPath)));return function(e,t,n){const r=new L;return e.asyncQueue.enqueueAndForget((async()=>{try{const i=await Vc(e);r.resolve(async function(e,t,n){var r;const i=O(e),{request:o,lt:s,parent:a}=Qi(i.serializer,Xn(t),n);i.connection.Co||delete o.parent;const l=(await i.ko("RunAggregationQuery",i.serializer.databaseId,a,o,1)).filter((e=>!!e.result));D(1===l.length);const c=null===(r=l[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(c).reduce(((e,t)=>(e[s[t]]=c[t],e)),{})}(i,t,n))}catch(e){r.reject(e)}})),r.promise}(r,e._query,i).then((t=>function(e,t,n){const r=new Zd(e);return new Pu(t,r,n)}(n,e,t)))}class ph{constructor(e){this.kind="memory",this._onlineComponentProvider=kc.provider,(null==e?void 0:e.garbageCollector)?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider={build:()=>new xc(void 0)}}toJSON(){return{kind:this.kind}}}class mh{constructor(e){let t;this.kind="persistent",(null==e?void 0:e.tabManager)?(e.tabManager._initialize(e),t=e.tabManager):(t=kh(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class gh{constructor(){this.kind="memoryEager",this._offlineComponentProvider=wc.provider}toJSON(){return{kind:this.kind}}}class vh{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new xc(e)}}toJSON(){return{kind:this.kind}}}function yh(){return new gh}function bh(e){return new vh(null==e?void 0:e.cacheSizeBytes)}function wh(e){return new ph(e)}function xh(e){return new mh(e)}class Sh{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=kc.provider,this._offlineComponentProvider={build:t=>new Sc(t,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class Eh{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=kc.provider,this._offlineComponentProvider={build:t=>new Ec(t,null==e?void 0:e.cacheSizeBytes)}}}function kh(e){return new Sh(null==e?void 0:e.forceOwnership)}function Ch(){return new Eh}const Ah={maxAttempts:5};class Th{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qu(e)}set(e,t,n){this._verifyNotCommitted();const r=_h(e,this._firestore),i=Fd(r.converter,t,n),o=Hu(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Fr.none())),this}update(e,t,n){this._verifyNotCommitted();const r=_h(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=(0,l.Ku)(t))||t instanceof Du?Zu(this._dataReader,"WriteBatch.update",r._key,t,n,s):Ju(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_h(e,this._firestore);return this._mutations=this._mutations.concat(new Jr(t._key,Fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new M(j.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _h(e,t){if((e=(0,l.Ku)(e)).firestore!==t)throw new M(j.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Ih extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qu(e)}get(e){const t=_h(e,this._firestore),n=new Vd(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return N();const r=e[0];if(r.isFoundDocument())return new cd(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new cd(this._firestore,n,t._key,null,t.converter);throw N()}))}set(e,t,n){const r=_h(e,this._firestore),i=Fd(r.converter,t,n),o=Hu(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=_h(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=(0,l.Ku)(t))||t instanceof Du?Zu(this._dataReader,"Transaction.update",r._key,t,n,s):Ju(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=_h(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_h(e,this._firestore),n=new Zd(this._firestore);return super.get(e).then((e=>new Kd(this._firestore,n,t._key,e._document,new Wd(!1,!1),t.converter)))}}function Ph(e,t,n){e=Jc(e,pu);const r=Object.assign(Object.assign({},Ah),n);return function(e){if(e.maxAttempts<1)throw new M(j.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new L;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Vc(e);new Ic(e.asyncQueue,i,n,t,r).cu()})),r.promise}(vu(e),(n=>t(new Ih(e,n))),r)}function Nh(){return new Wu("deleteField")}function Dh(){return new Gu("serverTimestamp")}function Rh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Qu("arrayUnion",t)}function Oh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Yu("arrayRemove",t)}function jh(e){return new Xu("increment",e)}function Mh(e){return new Mu(e)}function Lh(e){return vu(e=Jc(e,pu)),new Th(e,(t=>uh(e,t)))}function Fh(e,t){const n=vu(e=Jc(e,pu));if(!n._uninitializedComponentsProvider||"memory"===n._uninitializedComponentsProvider._offline.kind)return I("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=function(e){const t="string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){throw new M(j.INVALID_ARGUMENT,"Failed to parse JSON: "+(null==e?void 0:e.message))}}(e):e,n=[];if(Array.isArray(t.indexes))for(const r of t.indexes){const e=Vh(r,"collectionGroup"),t=[];if(Array.isArray(r.fields))for(const n of r.fields){const e=sd("setIndexConfiguration",Vh(n,"fieldPath"));"CONTAINS"===n.arrayConfig?t.push(new ce(e,2)):"ASCENDING"===n.order?t.push(new ce(e,0)):"DESCENDING"===n.order&&t.push(new ce(e,1))}n.push(new oe(oe.UNKNOWN_ID,e,t,de.empty()))}return n}(t);return function(e,t){return e.asyncQueue.enqueue((async()=>async function(e,t){const n=O(e),r=n.indexManager,i=[];return n.persistence.runTransaction("Configure indexes","readwrite",(e=>r.getFieldIndexes(e).next((n=>function(e,t,n,r,i){e=[...e],t=[...t],e.sort(n),t.sort(n);const o=e.length,s=t.length;let a=0,l=0;for(;a<s&&l<o;){const o=n(e[l],t[a]);o<0?i(e[l++]):o>0?r(t[a++]):(a++,l++)}for(;a<s;)r(t[a++]);for(;l<o;)i(e[l++])}(n,t,le,(t=>{i.push(r.addFieldIndex(e,t))}),(t=>{i.push(r.deleteFieldIndex(e,t))})))).next((()=>be.waitFor(i)))))}(await Mc(e),t)))}(n,r)}function Vh(e,t){if("string"!=typeof e[t])throw new M(j.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}class Uh{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function Bh(e){var t;e=Jc(e,pu);const n=Kh.get(e);if(n)return n;if("persistent"!==(null===(t=vu(e)._uninitializedComponentsProvider)||void 0===t?void 0:t._offline.kind))return null;const r=new Uh(e);return Kh.set(e,r),r}function zh(e){Wh(e,!0)}function qh(e){Wh(e,!1)}function Hh(e){(function(e){return e.asyncQueue.enqueue((async()=>function(e){const t=O(e),n=t.indexManager;return t.persistence.runTransaction("Delete All Indexes","readwrite",(e=>n.deleteAllFieldIndexes(e)))}(await Mc(e))))})(vu(e._firestore)).then((e=>T("deleting all persistent cache indexes succeeded"))).catch((e=>I("deleting all persistent cache indexes failed",e)))}function Wh(e,t){(function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){O(e)._s.Hi=t}(await Mc(e),t)))})(vu(e._firestore),t).then((e=>T("setting persistent cache index auto creation isEnabled=".concat(t," succeeded")))).catch((e=>I("setting persistent cache index auto creation isEnabled=".concat(t," failed"),e)))}const Kh=new WeakMap;function Gh(e){var t;const n=null===(t=vu(Jc(e.firestore,pu))._onlineComponents)||void 0===t?void 0:t.datastore.serializer;return void 0===n?null:Gi(n,Yn(e._query)).ct}function Qh(e,t){var n;const r=mt(t,((e,t)=>new ni(t,e.aggregateType,e._internalFieldPath))),i=null===(n=vu(Jc(e.firestore,pu))._onlineComponents)||void 0===n?void 0:n.datastore.serializer;return void 0===i?null:Qi(i,Xn(e._query),r,!0).request}class Yh{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return Xh.instance.onExistenceFilterMismatch(e)}}class Xh{constructor(){this.Gu=new Map}static get instance(){return Jh||(Jh=new Xh,function(e){if(li)throw new Error("a TestingHooksSpi instance is already set");li=e}(Jh)),Jh}tt(e){this.Gu.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),n=this.Gu;return n.set(t,e),()=>n.delete(t)}}let Jh=null;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){E=e}(o.MF),(0,o.om)(new s.uA("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new pu(new B(e.getProvider("auth-internal")),new W(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new M(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jt(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),(0,o.KO)(x,"4.7.5",e),(0,o.KO)(x,"4.7.5","esm2017")}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/";var r=n(43),i=n.t(r,2),o=n(391),s=n(150),a=n(700),l=n(443);function c(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var u=n(812);function d(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h=d,f=new a.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),p=new l.Vy("@firebase/auth");function m(e){if(p.logLevel<=l.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];p.error("Auth (".concat(s.MF,"): ").concat(e),...n)}}function g(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw x(e,...n)}function v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x(e,...n)}function y(e,t,n){const r=Object.assign(Object.assign({},h()),{[t]:n});return new a.FA("auth","Firebase",r).create(t,{appName:e.name})}function b(e){return y(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function w(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&g(e,"argument-error"),y(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return f.create(e,...n)}function S(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw x(t,...r)}}function E(e){const t="INTERNAL ASSERTION FAILED: "+e;throw m(t),new Error(t)}function k(e,t){e||E(t)}function C(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function A(){return"http:"===T()||"https:"===T()}function T(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class _{constructor(e,t){this.shortDelay=e,this.longDelay=t,k(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,a.jZ)()||(0,a.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(A()||(0,a.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function I(e,t){k(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class P{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void E("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void E("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void E("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},D=new _(3e4,6e4);function R(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function O(e,t,n,r){return j(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=(0,a.Am)(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},i);return(0,a.c1)()||(c.referrerPolicy="no-referrer"),P.fetch()(L(e,e.config.apiHost,n,s),c)}))}async function j(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},N),t);try{const t=new V(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw U(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw U(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw U(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw U(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw y(e,a,s);g(e,a)}}catch(i){if(i instanceof a.g)throw i;g(e,"network-request-failed",{message:String(i)})}}async function M(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await O(e,t,n,r,i);return"mfaPendingCredential"in o&&g(e,"multi-factor-auth-required",{_serverResponse:o}),o}function L(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?I(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function F(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class V{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(v(this.auth,"network-request-failed"))),D.get())}))}}function U(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=v(e,t,r);return i.customData._tokenResponse=n,i}function B(e){return void 0!==e&&void 0!==e.enterprise}class z{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return F(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function q(e,t){return O(e,"GET","/v2/recaptchaConfig",R(e,t))}async function H(e,t){return O(e,"POST","/v1/accounts:lookup",t)}function W(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function K(e){return 1e3*Number(e)}function G(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return m("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,a.u)(n);return e?JSON.parse(e):(m("Failed to decode base64 JWT payload"),null)}catch(i){return m("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Q(e){const t=G(e);return S(t,"internal-error"),S("undefined"!==typeof t.exp,"internal-error"),S("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Y(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof a.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class X{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class J{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=W(this.lastLoginAt),this.creationTime=W(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Z(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Y(e,H(n,{idToken:r}));S(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?$(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new J(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function $(e){return e.map((e=>{var{providerId:t}=e,n=c(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S("undefined"!==typeof e.idToken,"internal-error"),S("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Q(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){S(0!==e.length,"internal-error");const t=Q(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(S(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await j(e,{},(async()=>{const n=(0,a.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=L(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",P.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new ee;return n&&(S("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(S("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(S("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ee,this.toJSON())}_performRefresh(){return E("not implemented")}}function te(e,t){S("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ne{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=c(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new J(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Y(this,this.stsTokenManager.getToken(this.auth,e));return S(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,a.Ku)(e),r=await n.getIdToken(t),i=G(r);S(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:W(K(i.auth_time)),issuedAtTime:W(K(i.iat)),expirationTime:W(K(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,a.Ku)(e);await Z(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ne(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Z(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,s.xZ)(this.auth.app))return Promise.reject(b(this.auth));const e=await this.getIdToken();return await Y(this,async function(e,t){return O(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:E}=t;S(y&&E,e,"internal-error");const k=ee.fromJSON(this.name,E);S("string"===typeof y,e,"internal-error"),te(u,e.name),te(d,e.name),S("boolean"===typeof b,e,"internal-error"),S("boolean"===typeof w,e,"internal-error"),te(h,e.name),te(f,e.name),te(p,e.name),te(m,e.name),te(g,e.name),te(v,e.name);const C=new ne({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(C.providerData=x.map((e=>Object.assign({},e)))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ee;r.updateFromServerResponse(t);const i=new ne({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Z(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];S(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?$(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new ee;s.updateFromIdToken(n);const a=new ne({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new J(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const re=new Map;function ie(e){k(e instanceof Function,"Expected a class definition");let t=re.get(e);return t?(k(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,re.set(e,t),t)}class oe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}oe.type="NONE";const se=oe;function ae(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class le{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ae(this.userKey,r.apiKey,i),this.fullPersistenceKey=ae("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ne._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new le(ie(se),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ie(se);const o=ae(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=ne._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new le(i,e,n)):new le(i,e,n)}}function ce(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ue(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(me(t))return"Blackberry";if(ge(t))return"Webos";if(de(t))return"Safari";if((t.includes("chrome/")||he(t))&&!t.includes("edge/"))return"Chrome";if(pe(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/firefox\//i.test(e)}function de(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/crios\//i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/iemobile/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/android/i.test(e)}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/blackberry/i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/webos/i.test(e)}function ve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return ve(e)||pe(e)||ge(e)||me(e)||/windows phone/i.test(e)||fe(e)}function be(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ce((0,a.ZQ)());break;case"Worker":t="".concat(ce((0,a.ZQ)()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(s.MF,"/").concat(r)}class we{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class xe{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Se{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ke(this),this.idTokenSubscription=new ke(this),this.beforeStateQueue=new we(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ie(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await le.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await H(this,{idToken:e}),n=await ne._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,s.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return S(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Z(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,s.xZ)(this.app))return Promise.reject(b(this));const t=e?(0,a.Ku)(e):null;return t&&S(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&S(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(0,s.xZ)(this.app)?Promise.reject(b(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,s.xZ)(this.app)?Promise.reject(b(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(ie(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return O(e,"GET","/v2/passwordPolicy",R(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new xe(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new a.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return O(e,"POST","/v2/accounts:revokeToken",R(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ie(e)||this._popupRedirectResolver;S(t,this,"argument-error"),this.redirectPersistenceManager=await le.create(this,[ie(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(S(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=be(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(p.logLevel<=l.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];p.warn("Auth (".concat(s.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ee(e){return(0,a.Ku)(e)}class ke{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,a.tD)((e=>this.observer=e))}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ce={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ae(e){return Ce.loadJS(e)}function Te(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class _e{constructor(){this.enterprise=new Ie}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ie{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Pe="NO_RECAPTCHA";class Ne{constructor(e){this.type="recaptcha-enterprise",this.auth=Ee(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;B(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Pe)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new _e).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{q(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new z(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&B(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ce.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ae(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function De(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new Ne(e);let s;if(i)s=Pe;else try{s=await o.verify(n)}catch(l){s=await o.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Re(e,t,n,r,i){var o,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await De(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await De(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const i=await De(e,t,n);return r(e,i).catch((async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await De(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await De(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Oe(e){const t=Ee(e),n=await q(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new z(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Ne(t).verify()}}function je(e,t,n){const r=Ee(e);S(r._canInitEmulator,r,"emulator-config-failed"),S(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Me(t),{host:s,port:a}=function(e){const t=Me(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Le(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Le(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Me(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Le(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Fe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return E("not implemented")}_getIdTokenResponse(e){return E("not implemented")}_linkToIdToken(e,t){return E("not implemented")}_getReauthenticationResolver(e){return E("not implemented")}}async function Ve(e,t){return O(e,"POST","/v1/accounts:signUp",t)}async function Ue(e,t){return M(e,"POST","/v1/accounts:signInWithPassword",R(e,t))}class Be extends Fe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Be(e,t,"password")}static _fromEmailAndCode(e,t){return new Be(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Re(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ue,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",R(e,t))}(e,{email:this._email,oobCode:this._password});default:g(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Re(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ve,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",R(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:g(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ze(e,t){return M(e,"POST","/v1/accounts:signInWithIdp",R(e,t))}class qe extends Fe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):g("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=c(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new qe(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return ze(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ze(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ze(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,a.Am)(t)}return e}}async function He(e,t){return O(e,"POST","/v1/accounts:sendVerificationCode",R(e,t))}const We={USER_NOT_FOUND:"user-not-found"};class Ke extends Fe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ke({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ke({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",R(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await M(e,"POST","/v1/accounts:signInWithPhoneNumber",R(e,t));if(n.temporaryProof)throw U(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",R(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),We)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ke({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ge{constructor(e){var t,n,r,i,o,s;const l=(0,a.I9)((0,a.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);S(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(i=l.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=l.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=(0,a.I9)((0,a.hp)(e)).link,n=t?(0,a.I9)((0,a.hp)(t)).deep_link_id:null,r=(0,a.I9)((0,a.hp)(e)).deep_link_id;return(r?(0,a.I9)((0,a.hp)(r)).link:null)||r||n||t||e}(e);try{return new Ge(t)}catch(n){return null}}}class Qe{constructor(){this.providerId=Qe.PROVIDER_ID}static credential(e,t){return Be._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ge.parseLink(t);return S(n,"argument-error"),Be._fromEmailAndCode(e,n.code,n.tenantId)}}Qe.PROVIDER_ID="password",Qe.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Qe.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ye{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xe extends Ye{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Je extends Xe{constructor(){super("facebook.com")}static credential(e){return qe._fromParams({providerId:Je.PROVIDER_ID,signInMethod:Je.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Je.credentialFromTaggedObject(e)}static credentialFromError(e){return Je.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Je.credential(t.oauthAccessToken)}catch(n){return null}}}Je.FACEBOOK_SIGN_IN_METHOD="facebook.com",Je.PROVIDER_ID="facebook.com";class Ze extends Xe{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qe._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ze.credential(n,r)}catch(i){return null}}}Ze.GOOGLE_SIGN_IN_METHOD="google.com",Ze.PROVIDER_ID="google.com";class $e extends Xe{constructor(){super("github.com")}static credential(e){return qe._fromParams({providerId:$e.PROVIDER_ID,signInMethod:$e.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $e.credentialFromTaggedObject(e)}static credentialFromError(e){return $e.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return $e.credential(t.oauthAccessToken)}catch(n){return null}}}$e.GITHUB_SIGN_IN_METHOD="github.com",$e.PROVIDER_ID="github.com";class et extends Xe{constructor(){super("twitter.com")}static credential(e,t){return qe._fromParams({providerId:et.PROVIDER_ID,signInMethod:et.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return et.credentialFromTaggedObject(e)}static credentialFromError(e){return et.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return et.credential(n,r)}catch(i){return null}}}et.TWITTER_SIGN_IN_METHOD="twitter.com",et.PROVIDER_ID="twitter.com";class tt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ne._fromIdTokenResponse(e,n,r),o=nt(n);return new tt({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=nt(n);return new tt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function nt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class rt extends a.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,rt.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new rt(e,t,n,r)}}function it(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw rt._fromErrorAndOperation(e,n,t,r);throw n}))}async function ot(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Y(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return tt._forOperation(e,"link",r)}async function st(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,s.xZ)(r.app))return Promise.reject(b(r));const i="reauthenticate";try{const o=await Y(e,it(r,i,t,e),n);S(o.idToken,r,"internal-error");const s=G(o.idToken);S(s,r,"internal-error");const{sub:a}=s;return S(e.uid===a,r,"user-mismatch"),tt._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&g(r,"user-mismatch"),o}}async function at(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(b(e));const r="signIn",i=await it(e,r,t),o=await tt._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function lt(e,t,n,r){return(0,a.Ku)(e).onAuthStateChanged(t,n,r)}function ct(e){return(0,a.Ku)(e).signOut()}function ut(e,t){return O(e,"POST","/v2/accounts/mfaEnrollment:start",R(e,t))}new WeakMap;const dt="__sak";class ht{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dt,"1"),this.storage.removeItem(dt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ft extends ht{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ye(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,a.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ft.type="LOCAL";const pt=ft;class mt extends ht{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mt.type="SESSION";const gt=mt;class vt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new vt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function yt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}vt.receivers=[];class bt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=yt("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function wt(){return window}function xt(){return"undefined"!==typeof wt().WorkerGlobalScope&&"function"===typeof wt().importScripts}const St="firebaseLocalStorageDb",Et="firebaseLocalStorage",kt="fbase_key";class Ct{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function At(e,t){return e.transaction([Et],t?"readwrite":"readonly").objectStore(Et)}function Tt(){const e=indexedDB.open(St,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Et,{keyPath:kt})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Et)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(St);return new Ct(e).toPromise()}(),t(await Tt()))}))}))}async function _t(e,t,n){const r=At(e,!0).put({[kt]:t,value:n});return new Ct(r).toPromise()}function It(e,t){const n=At(e,!0).delete(t);return new Ct(n).toPromise()}class Pt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Tt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vt._getInstance(xt()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new bt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tt();return await _t(e,dt,"1"),await It(e,dt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>_t(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=At(e,!1).get(t),r=await new Ct(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>It(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=At(e,!1).getAll();return new Ct(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Pt.type="LOCAL";const Nt=Pt;function Dt(e,t){return O(e,"POST","/v2/accounts/mfaSignIn:start",R(e,t))}Te("rcb"),new _(3e4,6e4);const Rt="recaptcha";async function Ot(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Oe(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){S("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Re(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Pe){S((null===n||void 0===n?void 0:n.type)===Rt,e,"argument-error");return ut(e,await jt(e,t,n))}return ut(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{S("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;S(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Re(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Pe){S((null===n||void 0===n?void 0:n.type)===Rt,e,"argument-error");return Dt(e,await jt(e,t,n))}return Dt(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Re(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Pe){S((null===n||void 0===n?void 0:n.type)===Rt,e,"argument-error");return He(e,await jt(e,t,n))}return He(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function jt(e,t,n){S(n.type===Rt,e,"argument-error");const r=await n.verify();S("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Mt{constructor(e){this.providerId=Mt.PROVIDER_ID,this.auth=Ee(e)}verifyPhoneNumber(e,t){return Ot(this.auth,e,(0,a.Ku)(t))}static credential(e,t){return Ke._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Mt.credentialFromTaggedObject(t)}static credentialFromError(e){return Mt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ke._fromTokenResponse(n,r):null}}function Lt(e,t){return t?ie(t):(S(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Mt.PROVIDER_ID="phone",Mt.PHONE_SIGN_IN_METHOD="phone";class Ft extends Fe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ze(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ze(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ze(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Vt(e){return at(e.auth,new Ft(e),e.bypassAuthState)}function Ut(e){const{auth:t,user:n}=e;return S(n,t,"internal-error"),st(n,new Ft(e),e.bypassAuthState)}async function Bt(e){const{auth:t,user:n}=e;return S(n,t,"internal-error"),ot(n,new Ft(e),e.bypassAuthState)}class zt{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vt;case"linkViaPopup":case"linkViaRedirect":return Bt;case"reauthViaPopup":case"reauthViaRedirect":return Ut;default:g(this.auth,"internal-error")}}resolve(e){k(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){k(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qt=new _(2e3,1e4);class Ht extends zt{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ht.currentPopupAction&&Ht.currentPopupAction.cancel(),Ht.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return S(e,this.auth,"internal-error"),e}async onExecution(){k(1===this.filter.length,"Popup operations only handle one event");const e=yt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(v(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(v(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ht.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(v(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,qt.get())};e()}}Ht.currentPopupAction=null;const Wt=new Map;class Kt extends zt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Wt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Yt(t),r=Qt(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Wt.set(this.auth._key(),e)}return this.bypassAuthState||Wt.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Gt(e,t){Wt.set(e._key(),t)}function Qt(e){return ie(e._redirectPersistence)}function Yt(e){return ae("pendingRedirect",e.config.apiKey,e.name)}async function Xt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(b(e));const r=Ee(e),i=Lt(r,t),o=new Kt(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Jt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $t(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!$t(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(v(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zt(e))}saveEventToCache(e){this.cachedEventUids.add(Zt(e)),this.lastProcessedEventTime=Date.now()}}function Zt(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function $t(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const en=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tn=/^https?/;async function nn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return O(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(rn(r))return}catch(n){}g(e,"unauthorized-domain")}function rn(e){const t=C(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!tn.test(n))return!1;if(en.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const on=new _(3e4,6e4);function sn(){const e=wt().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function an(e){return new Promise(((t,n)=>{var r,i,o;function s(){sn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{sn(),n(v(e,"network-request-failed"))},timeout:on.get()})}if(null===(i=null===(r=wt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=wt().gapi)||void 0===o?void 0:o.load)){const t=Te("iframefcb");return wt()[t]=()=>{gapi.load?s():n(v(e,"network-request-failed"))},Ae("".concat(Ce.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw ln=null,e}))}let ln=null;const cn=new _(5e3,15e3),un={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hn(e){const t=e.config;S(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?I(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:s.MF},i=dn.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat((0,a.Am)(r).slice(1))}async function fn(e){const t=await function(e){return ln=ln||an(e),ln}(e),n=wt().gapi;return S(n,e,"internal-error"),t.open({where:document.body,url:hn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:un,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=v(e,"network-request-failed"),o=wt().setTimeout((()=>{r(i)}),cn.get());function s(){wt().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const pn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function gn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},pn),{width:r.toString(),height:i.toString(),top:o,left:s}),u=(0,a.ZQ)().toLowerCase();n&&(l=he(u)?"_blank":n),ue(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return ve(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new mn(null);const h=window.open(t||"",l,d);S(h,e,"popup-blocked");try{h.focus()}catch(f){}return new mn(h)}const vn="__/auth/handler",yn="emulator/auth/handler",bn=encodeURIComponent("fac");async function wn(e,t,n,r,i,o){S(e.config.authDomain,e,"auth-domain-config-required"),S(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:s.MF,eventId:i};if(t instanceof Ye){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,a.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))l[e]=t}if(t instanceof Xe){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];const u=await e._getAppCheckToken(),d=u?"#".concat(bn,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(vn);return I(t,yn)}(e),"?").concat((0,a.Am)(c).slice(1)).concat(d)}const xn="webStorageSupport";const Sn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gt,this._completeRedirectFn=Xt,this._overrideRedirectResult=Gt}async _openPopup(e,t,n,r){var i;k(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return gn(e,await wn(e,t,n,C(),r),yt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){wt().location.href=e}(await wn(e,t,n,C(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(k(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await fn(e),n=new Jt(e);return t.register("authEvent",(t=>{S(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xn,{type:xn},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[xn];void 0!==i&&t(!!i),g(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ye()||de()||ve()}};var En="@firebase/auth",kn="1.8.1";class Cn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const An=(0,a.XA)("authIdTokenMaxAge")||300;let Tn=null;var _n;Ce={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=v("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},_n="Browser",(0,s.om)(new u.uA("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;S(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:_n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:be(_n)},c=new Se(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ie);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,s.om)(new u.uA("auth-internal",(e=>(e=>new Cn(e))(Ee(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.KO)(En,kn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_n)),(0,s.KO)(En,kn,"esm2017");var In=n(51);(0,s.KO)("firebase","11.1.0","app");var Pn=n(472);const Nn=(0,s.Wp)({apiKey:"AIzaSyCvs3XU6C8SCvUZtmjPJPuWMiFoJiDrkCk",authDomain:"souko-app.firebaseapp.com",projectId:"souko-app",storageBucket:"souko-app.firebasestorage.app",messagingSenderId:"713268951136",appId:"1:713268951136:web:a0f028d39557da4082ab05",measurementId:"G-6BBCWYJ3PD"}),Dn=(0,Pn.getFirestore)(Nn),Rn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.Sx)();const t=(0,s.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,s.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,a.bD)(r,null!==t&&void 0!==t?t:{}))return e;g(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Sn,persistence:[Nt,pt,gt]}),r=(0,a.XA)("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>An)return;const r=null===t||void 0===t?void 0:t.token;Tn!==r&&(Tn=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){(0,a.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){(0,a.Ku)(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=(0,a.Tj)("auth");return o&&je(n,"http://".concat(o)),n}(Nn),On=new Ze;new Map;var jn=n(579);const Mn=(0,r.createContext)(null);function Ln(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}const Fn=(0,r.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Vn extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Un(e){let{children:t,isPresent:n}=e;const i=(0,r.useId)(),o=(0,r.useRef)(null),s=(0,r.useRef)({width:0,height:0,top:0,left:0}),{nonce:a}=(0,r.useContext)(Fn);return(0,r.useInsertionEffect)((()=>{const{width:e,height:t,top:r,left:l}=s.current;if(n||!o.current||!e||!t)return;o.current.dataset.motionPopId=i;const c=document.createElement("style");return a&&(c.nonce=a),document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(l,"px !important;\n          }\n        ")),()=>{document.head.removeChild(c)}}),[n]),(0,jn.jsx)(Vn,{isPresent:n,childRef:o,sizeRef:s,children:r.cloneElement(t,{ref:o})})}const Bn=e=>{let{children:t,initial:n,isPresent:i,onExitComplete:o,custom:s,presenceAffectsLayout:a,mode:l}=e;const c=Ln(zn),u=(0,r.useId)(),d=(0,r.useCallback)((e=>{c.set(e,!0);for(const t of c.values())if(!t)return;o&&o()}),[c,o]),h=(0,r.useMemo)((()=>({id:u,initial:n,isPresent:i,custom:s,onExitComplete:d,register:e=>(c.set(e,!1),()=>c.delete(e))})),a?[Math.random(),d]:[i,d]);return(0,r.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[i]),r.useEffect((()=>{!i&&!c.size&&o&&o()}),[i]),"popLayout"===l&&(t=(0,jn.jsx)(Un,{isPresent:i,children:t})),(0,jn.jsx)(Mn.Provider,{value:h,children:t})};function zn(){return new Map}const qn=(0,r.createContext)({}),Hn=e=>e;let Wn=Hn,Kn=Hn;const Gn=e=>e.key||"";function Qn(e){const t=[];return r.Children.forEach(e,(e=>{(0,r.isValidElement)(e)&&t.push(e)})),t}const Yn="undefined"!==typeof window,Xn=Yn?r.useLayoutEffect:r.useEffect,Jn=e=>{let{children:t,exitBeforeEnter:n,custom:i,initial:o=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync"}=e;Kn(!n,"Replace exitBeforeEnter with mode='wait'");const c=(0,r.useMemo)((()=>Qn(t)),[t]),u=c.map(Gn),d=(0,r.useRef)(!0),h=(0,r.useRef)(c),f=Ln((()=>new Map)),[p,m]=(0,r.useState)(c),[g,v]=(0,r.useState)(c);Xn((()=>{d.current=!1,h.current=c;for(let e=0;e<g.length;e++){const t=Gn(g[e]);u.includes(t)?f.delete(t):!0!==f.get(t)&&f.set(t,!1)}}),[g,u.length,u.join("-")]);const y=[];if(c!==p){let e=[...c];for(let t=0;t<g.length;t++){const n=g[t],r=Gn(n);u.includes(r)||(e.splice(t,0,n),y.push(n))}return"wait"===l&&y.length&&(e=y),v(Qn(e)),void m(c)}const{forceRender:b}=(0,r.useContext)(qn);return(0,jn.jsx)(jn.Fragment,{children:g.map((e=>{const t=Gn(e),n=c===g||u.includes(t);return(0,jn.jsx)(Bn,{isPresent:n,initial:!(d.current&&!o)&&void 0,custom:n?void 0:i,presenceAffectsLayout:a,mode:l,onExitComplete:n?void 0:()=>{if(!f.has(t))return;f.set(t,!0);let e=!0;f.forEach((t=>{t||(e=!1)})),e&&(null===b||void 0===b||b(),v(h.current),s&&s())},children:e},t)}))})};function Zn(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function $n(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function er(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const tr=e=>Array.isArray(e);function nr(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function rr(e){return"string"===typeof e||Array.isArray(e)}function ir(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function or(e,t,n,r){if("function"===typeof t){const[i,o]=ir(r);t=t(void 0!==n?n:e.custom,i,o)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,o]=ir(r);t=t(void 0!==n?n:e.custom,i,o)}return t}function sr(e,t,n){const r=e.getProps();return or(r,t,void 0!==n?n:r.custom,e)}const ar=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lr=["initial",...ar],cr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ur=new Set(cr),dr=e=>1e3*e,hr=e=>e/1e3,fr={type:"spring",stiffness:500,damping:25,restSpeed:10},pr={type:"keyframes",duration:.8},mr={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gr=(e,t)=>{let{keyframes:n}=t;return n.length>2?pr:ur.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:fr:mr};function vr(e,t){return e?e[t]||e.default||e:void 0}const yr=!1,br=!1,wr=!1,xr=e=>null!==e;function Sr(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const o=e.filter(xr),s=r&&"loop"!==i&&r%2===1?0:o.length-1;return s&&void 0!==n?n:o[s]}const Er=["read","resolveKeyframes","update","preRender","render","postRender"];function kr(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=Er.reduce(((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function a(t){o.has(t)&&(l.schedule(t),e()),t(s)}const l={schedule:function(e){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),i.has(e)||i.add(e),e},cancel:e=>{n.delete(e),o.delete(e)},process:e=>{s=e,r?i=!0:(r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(e)))}};return l}(o),e)),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=s,f=()=>{const o=br?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))},p=Er.reduce(((t,o)=>{const a=s[o];return t[o]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(f)),a.schedule(t,o,s)},t}),{});return{schedule:p,cancel:e=>{for(let t=0;t<Er.length;t++)s[Er[t]].cancel(e)},state:i,steps:s}}const{schedule:Cr,cancel:Ar,state:Tr,steps:_r}=kr("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Hn,!0),Ir=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Pr(e,t,n,r){if(e===t&&n===r)return Hn;const i=t=>function(e,t,n,r,i){let o,s,a=0;do{s=t+(n-t)/2,o=Ir(s,r,i)-e,o>0?n=s:t=s}while(Math.abs(o)>1e-7&&++a<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:Ir(i(e),t,r)}const Nr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Dr=e=>t=>1-e(1-t),Rr=Pr(.33,1.53,.69,.99),Or=Dr(Rr),jr=Nr(Or),Mr=e=>(e*=2)<1?.5*Or(e):.5*(2-Math.pow(2,-10*(e-1))),Lr=e=>1-Math.sin(Math.acos(e)),Fr=Dr(Lr),Vr=Nr(Lr),Ur=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);const Br=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),zr=e=>t=>"string"===typeof t&&t.startsWith(e),qr=zr("--"),Hr=zr("var(--"),Wr=e=>!!Hr(e)&&Kr.test(e.split("/*")[0].trim()),Kr=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,Gr=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function Qr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Kn(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=Gr.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return Br(e)?parseFloat(e):e}return Wr(i)?Qr(i,t,n+1):i}const Yr=(e,t,n)=>n>t?t:n<e?e:n,Xr={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Jr=(0,In.A)((0,In.A)({},Xr),{},{transform:e=>Yr(0,1,e)}),Zr=(0,In.A)((0,In.A)({},Xr),{},{default:1}),$r=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),ei=$r("deg"),ti=$r("%"),ni=$r("px"),ri=$r("vh"),ii=$r("vw"),oi=(0,In.A)((0,In.A)({},ti),{},{parse:e=>ti.parse(e)/100,transform:e=>ti.transform(100*e)}),si=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ai=e=>e===Xr||e===ni,li=(e,t)=>parseFloat(e.split(", ")[t]),ci=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const o=i.match(/^matrix3d\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);if(o)return li(o[1],t);{const t=i.match(/^matrix\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);return t?li(t[1],e):0}},ui=new Set(["x","y","z"]),di=cr.filter((e=>!ui.has(e)));const hi={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:ci(4,13),y:ci(5,14)};hi.translateX=hi.x,hi.translateY=hi.y;const fi=e=>t=>t.test(e),pi=[Xr,ni,ti,ei,ii,ri,{test:e=>"auto"===e,parse:e=>e}],mi=e=>pi.find(fi(e)),gi=new Set;let vi=!1,yi=!1;function bi(){if(yi){const e=Array.from(gi).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return di.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var i;null===(i=e.getValue(n))||void 0===i||i.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}yi=!1,vi=!1,gi.forEach((e=>e.complete())),gi.clear()}function wi(){gi.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(yi=!0)}))}class xi{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(gi.add(this),vi||(vi=!0,Cr.read(wi),Cr.resolveKeyframes(bi))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),o=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,o);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=o),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),gi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,gi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Si=e=>Math.round(1e5*e)/1e5,Ei=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const ki=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,Ci=(e,t)=>n=>Boolean("string"===typeof n&&ki.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ai=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,o,s,a]=r.match(Ei);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},Ti=(0,In.A)((0,In.A)({},Xr),{},{transform:e=>Math.round((e=>Yr(0,255,e))(e))}),_i={test:Ci("rgb","red"),parse:Ai("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Ti.transform(t)+", "+Ti.transform(n)+", "+Ti.transform(r)+", "+Si(Jr.transform(i))+")"}};const Ii={test:Ci("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:_i.transform},Pi={test:Ci("hsl","hue"),parse:Ai("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+ti.transform(Si(n))+", "+ti.transform(Si(r))+", "+Si(Jr.transform(i))+")"}},Ni={test:e=>_i.test(e)||Ii.test(e)||Pi.test(e),parse:e=>_i.test(e)?_i.parse(e):Pi.test(e)?Pi.parse(e):Ii.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?_i.transform(e):Pi.transform(e)},Di=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const Ri="number",Oi="color",ji=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function Mi(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const s=t.replace(ji,(e=>(Ni.test(e)?(r.color.push(o),i.push(Oi),n.push(Ni.parse(e))):e.startsWith("var(")?(r.var.push(o),i.push("var"),n.push(e)):(r.number.push(o),i.push(Ri),n.push(parseFloat(e))),++o,"${}"))).split("${}");return{values:n,split:s,indexes:r,types:i}}function Li(e){return Mi(e).values}function Fi(e){const{split:t,types:n}=Mi(e),r=t.length;return e=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],void 0!==e[o]){const t=n[o];i+=t===Ri?Si(e[o]):t===Oi?Ni.transform(e[o]):e[o]}return i}}const Vi=e=>"number"===typeof e?0:e;const Ui={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Ei))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Di))||void 0===n?void 0:n.length)||0)>0},parse:Li,createTransformer:Fi,getAnimatableNone:function(e){const t=Li(e);return Fi(e)(t.map(Vi))}},Bi=new Set(["brightness","contrast","saturate","opacity"]);function zi(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Ei)||[];if(!r)return e;const i=n.replace(r,"");let o=Bi.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const qi=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,Hi=(0,In.A)((0,In.A)({},Ui),{},{getAnimatableNone:e=>{const t=e.match(qi);return t?t.map(zi).join(" "):e}}),Wi={borderWidth:ni,borderTopWidth:ni,borderRightWidth:ni,borderBottomWidth:ni,borderLeftWidth:ni,borderRadius:ni,radius:ni,borderTopLeftRadius:ni,borderTopRightRadius:ni,borderBottomRightRadius:ni,borderBottomLeftRadius:ni,width:ni,maxWidth:ni,height:ni,maxHeight:ni,top:ni,right:ni,bottom:ni,left:ni,padding:ni,paddingTop:ni,paddingRight:ni,paddingBottom:ni,paddingLeft:ni,margin:ni,marginTop:ni,marginRight:ni,marginBottom:ni,marginLeft:ni,backgroundPositionX:ni,backgroundPositionY:ni},Ki={rotate:ei,rotateX:ei,rotateY:ei,rotateZ:ei,scale:Zr,scaleX:Zr,scaleY:Zr,scaleZ:Zr,skew:ei,skewX:ei,skewY:ei,distance:ni,translateX:ni,translateY:ni,translateZ:ni,x:ni,y:ni,z:ni,perspective:ni,transformPerspective:ni,opacity:Jr,originX:oi,originY:oi,originZ:ni},Gi=(0,In.A)((0,In.A)({},Xr),{},{transform:Math.round}),Qi=(0,In.A)((0,In.A)((0,In.A)({},Wi),Ki),{},{zIndex:Gi,size:ni,fillOpacity:Jr,strokeOpacity:Jr,numOctaves:Gi}),Yi=(0,In.A)((0,In.A)({},Qi),{},{color:Ni,backgroundColor:Ni,outlineColor:Ni,fill:Ni,stroke:Ni,borderColor:Ni,borderTopColor:Ni,borderRightColor:Ni,borderBottomColor:Ni,borderLeftColor:Ni,filter:Hi,WebkitFilter:Hi}),Xi=e=>Yi[e];function Ji(e,t){let n=Xi(e);return n!==Hi&&(n=Ui),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Zi=new Set(["auto","none","0"]);class $i extends xi{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),Wr(n))){const r=Qr(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!si.has(n)||2!==e.length)return;const[r,i]=e,o=mi(r),s=mi(i);if(o!==s)if(ai(o)&&ai(s))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)("number"===typeof(r=e[i])?0===r:null===r||"none"===r||"0"===r||Ur(r))&&n.push(i);var r;n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!Zi.has(t)&&Mi(t).values.length&&(r=e[i]),i++}if(r&&n)for(const o of t)e[o]=Ji(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=hi[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}function eo(e){return"function"===typeof e}let to;function no(){to=void 0}const ro={now:()=>(void 0===to&&ro.set(Tr.isProcessing||br?Tr.timestamp:performance.now()),to),set:e=>{to=e,queueMicrotask(no)}},io=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Ui.test(e)&&"0"!==e||e.startsWith("url(")));const oo=["autoplay","delay","type","repeat","repeatDelay","repeatType"];class so{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop"}=e,a=er(e,oo);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ro.now(),this.options=(0,In.A)({autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s},a),this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(wi(),bi()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ro.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:o,onComplete:s,onUpdate:a,isGenerator:l}=this.options;if(!l&&!function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const o=e[e.length-1],s=io(i,t),a=io(o,t);return Wn(s===a,"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(o,'". ').concat(i," is not an animatable value - to enable this animation set ").concat(i," to a value animatable to ").concat(o," via the `style` property.")),!(!s||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||eo(n))&&r)}(e,n,r,i)){if(wr||!o)return null===a||void 0===a||a(Sr(e,this.options,t)),null===s||void 0===s||s(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved=(0,In.A)({keyframes:e,finalKeyframe:t},c),this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const ao=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},lo=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=e(ao(0,i-1,o))+", ";return"linear(".concat(r.substring(0,r.length-2),")")};function co(e,t){return t?e*(1e3/t):0}function uo(e,t,n){const r=Math.max(t-5,0);return co(n-e(r),t-r)}const ho={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fo=.001;function po(e){let t,n,{duration:r=ho.duration,bounce:i=ho.bounce,velocity:o=ho.velocity,mass:s=ho.mass}=e;Wn(r<=dr(ho.maxDuration),"Spring duration must be 10 seconds or less");let a=1-i;a=Yr(ho.minDamping,ho.maxDamping,a),r=Yr(ho.minDuration,ho.maxDuration,hr(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-o,s=go(e,a),l=Math.exp(-n);return fo-i/s*l},n=e=>{const n=e*a*r,i=n*o+o,s=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=go(Math.pow(e,2),a);return(-t(e)+fo>0?-1:1)*((i-s)*l)/c}):(t=e=>Math.exp(-e*r)*((e-o)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(o-e)));const l=function(e,t,n){let r=n;for(let i=1;i<mo;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=dr(r),isNaN(l))return{stiffness:ho.stiffness,damping:ho.damping,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*a*Math.sqrt(s*e),duration:r}}}const mo=12;function go(e,t){return e*Math.sqrt(1-t*t)}const vo=2e4;function yo(e){let t=0;let n=e.next(t);for(;!n.done&&t<vo;)t+=50,n=e.next(t);return t>=vo?1/0:t}const bo=["duration","bounce"],wo=["stiffness","damping","mass"];function xo(e,t){return t.some((t=>void 0!==e[t]))}function So(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ho.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ho.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t=(0,In.A)({velocity:ho.velocity,stiffness:ho.stiffness,damping:ho.damping,mass:ho.mass,isResolvedFromDuration:!1},e);if(!xo(e,wo)&&xo(e,bo))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,o=2*Yr(.05,1,1-e.bounce)*Math.sqrt(i);t=(0,In.A)((0,In.A)({},t),{},{mass:ho.mass,stiffness:i,damping:o})}else{const n=po(e);t=(0,In.A)((0,In.A)((0,In.A)({},t),n),{},{mass:ho.mass}),t.isResolvedFromDuration=!0}return t}((0,In.A)((0,In.A)({},n),{},{velocity:-hr(n.velocity||0)})),p=h||0,m=c/(2*Math.sqrt(l*u)),g=s-o,v=hr(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(r||(r=y?ho.restSpeed.granular:ho.restSpeed.default),i||(i=y?ho.restDelta.granular:ho.restDelta.default),m<1){const e=go(v,m);b=t=>{const n=Math.exp(-m*v*t);return s-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>s-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return s-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const w={calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)a.done=e>=d;else{let n=0;m<1&&(n=0===e?dr(p):uo(b,e,t));const o=Math.abs(n)<=r,l=Math.abs(s-t)<=i;a.done=o&&l}return a.value=a.done?s:t,a},toString:()=>{const e=Math.min(yo(w),vo),t=lo((t=>w.next(e*t).value),e,30);return e+"ms "+t}};return w}function Eo(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===a?g:a(g);v!==g&&(m=v-h);const y=e=>-m*Math.exp(-e/i),b=e=>v+y(e),w=e=>{const t=y(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let x,S;const E=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(x=e,S=So({keyframes:[f.value,p(f.value)],velocity:uo(b,e,f.value),damping:o,stiffness:s,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==x||(t=!0,w(e),E(e)),void 0!==x&&e>=x?S.next(e-x):(!t&&w(e),f)}}}const ko=Pr(.42,0,1,1),Co=Pr(0,0,.58,1),Ao=Pr(.42,0,.58,1),To=e=>Array.isArray(e)&&"number"!==typeof e[0],_o=e=>Array.isArray(e)&&"number"===typeof e[0],Io={linear:Hn,easeIn:ko,easeInOut:Ao,easeOut:Co,circIn:Lr,circInOut:Vr,circOut:Fr,backIn:Or,backInOut:jr,backOut:Rr,anticipate:Mr},Po=e=>{if(_o(e)){Kn(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return Pr(t,n,r,i)}return"string"===typeof e?(Kn(void 0!==Io[e],"Invalid easing type '".concat(e,"'")),Io[e]):e},No=(e,t)=>n=>t(e(n)),Do=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(No)},Ro=(e,t,n)=>e+(t-e)*n;function Oo(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function jo(e,t){return n=>n>0?t:e}const Mo=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Lo=[Ii,_i,Pi];function Fo(e){const t=(n=e,Lo.find((e=>e.test(n))));var n;if(Wn(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")),!Boolean(t))return!1;let r=t.parse(e);return t===Pi&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let o=0,s=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;o=Oo(i,e,t+1/3),s=Oo(i,e,t),a=Oo(i,e,t-1/3)}else o=s=a=r;return{red:Math.round(255*o),green:Math.round(255*s),blue:Math.round(255*a),alpha:i}}(r)),r}const Vo=(e,t)=>{const n=Fo(e),r=Fo(t);if(!n||!r)return jo(e,t);const i=(0,In.A)({},n);return e=>(i.red=Mo(n.red,r.red,e),i.green=Mo(n.green,r.green,e),i.blue=Mo(n.blue,r.blue,e),i.alpha=Ro(n.alpha,r.alpha,e),_i.transform(i))},Uo=new Set(["none","hidden"]);function Bo(e,t){return n=>Ro(e,t,n)}function zo(e){return"number"===typeof e?Bo:"string"===typeof e?Wr(e)?jo:Ni.test(e)?Vo:Wo:Array.isArray(e)?qo:"object"===typeof e?Ni.test(e)?Vo:Ho:jo}function qo(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>zo(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Ho(e,t){const n=(0,In.A)((0,In.A)({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=zo(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Wo=(e,t)=>{const n=Ui.createTransformer(t),r=Mi(e),i=Mi(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Uo.has(e)&&!i.values.length||Uo.has(t)&&!r.values.length?function(e,t){return Uo.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Do(qo(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const s=t.types[o],a=e.indexes[s][i[s]],l=null!==(n=e.values[a])&&void 0!==n?n:0;r[o]=l,i[s]++}return r}(r,i),i.values),n):(Wn(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),jo(e,t))};function Ko(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Ro(e,t,n);return zo(e)(e,t)}function Go(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(Kn(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];if(2===o&&e[0]===e[1])return()=>t[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],i=n||Ko,o=e.length-1;for(let s=0;s<o;s++){let n=i(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||Hn:t;n=Do(e,n)}r.push(n)}return r}(t,r,i),a=s.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=ao(e[n],e[n+1],t);return s[n](r)};return n?t=>l(Yr(e[0],e[o-1],t)):l}function Qo(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=ao(0,t,r);e.push(Ro(n,1,i))}}function Yo(e){const t=[0];return Qo(t,e.length-1),t}function Xo(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const o=To(i)?i.map(Po):Po(i),s={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:Yo(n),t),l=Go(a,n,{ease:Array.isArray(o)?o:(c=n,u=o,c.map((()=>u||Ao)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const Jo=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Cr.update(t,!0),stop:()=>Ar(t),now:()=>Tr.isProcessing?Tr.timestamp:ro.now()}},Zo={decay:Eo,inertia:Eo,tween:Xo,keyframes:Xo,spring:So},$o=e=>e/100;class es extends so{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:i}=this.options,o=(null===r||void 0===r?void 0:r.KeyframeResolver)||xi;this.resolver=new o(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=this.options,s=eo(t)?t:Zo[t]||Xo;let a,l;s!==Xo&&"number"!==typeof e[0]&&(a=Do($o,Ko(e[0],e[1])),e=[0,100]);const c=s((0,In.A)((0,In.A)({},this.options),{},{keyframes:e}));"mirror"===i&&(l=s((0,In.A)((0,In.A)({},this.options),{},{keyframes:[...e].reverse(),velocity:-o}))),null===c.calculatedDuration&&(c.calculatedDuration=yo(c));const{calculatedDuration:u}=c,d=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:a,calculatedDuration:u,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:a,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:d,repeat:h,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,b=i;if(h){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(b=o)),y=Yr(0,1,n)*u}const w=v?{done:!1,value:a[0]}:b.next(y);s&&(w.value=s(w.value));let{done:x}=w;v||null===l||(x=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return S&&void 0!==r&&(w.value=Sr(a,this.options,r)),m&&m(w.value),S&&this.finish(),w}get duration(){const{resolved:e}=this;return e?hr(e.calculatedDuration):0}get time(){return hr(this.currentTime)}set time(e){e=dr(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=hr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=Jo,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ts=new Set(["opacity","clipPath","filter","transform"]);function ns(e){let t;return()=>(void 0===t&&(t=e()),t)}const rs={linearEasing:void 0};function is(e,t){const n=ns(e);return()=>{var e;return null!==(e=rs[t])&&void 0!==e?e:n()}}const os=is((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),"linearEasing");function ss(e){return Boolean("function"===typeof e&&os()||!e||"string"===typeof e&&(e in ls||os())||_o(e)||Array.isArray(e)&&e.every(ss))}const as=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},ls={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:as([0,.65,.55,1]),circOut:as([.55,0,1,.45]),backIn:as([.31,.01,.66,-.59]),backOut:as([.33,1.53,.69,.99])};function cs(e,t){return e?"function"===typeof e&&os()?lo(e,t):_o(e)?as(e):Array.isArray(e)?e.map((e=>cs(e,t)||ls.easeOut)):ls[e]:void 0}function us(e,t,n){let{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=cs(a,i);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"})}function ds(e,t){e.timeline=t,e.onfinish=null}const hs=ns((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),fs=["onComplete","onUpdate","motionValue","element"],ps=["motionValue","onUpdate","onComplete","element"];const ms={anticipate:Mr,backInOut:jr,circInOut:Vr};class gs extends so{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new $i(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){var n;let{duration:r=300,times:i,ease:o,type:s,motionValue:a,name:l,startTime:c}=this.options;if(!(null===(n=a.owner)||void 0===n?void 0:n.current))return!1;var u;if("string"===typeof o&&os()&&o in ms&&(o=ms[o]),eo((u=this.options).type)||"spring"===u.type||!ss(u.ease)){const t=this.options,{onComplete:n,onUpdate:a,motionValue:l,element:c}=t,u=er(t,fs),d=function(e,t){const n=new es((0,In.A)((0,In.A)({},t),{},{keyframes:e,repeat:0,delay:0,isGenerator:!0}));let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<2e4;)r=n.sample(o),i.push(r.value),o+=10;return{times:void 0,keyframes:i,duration:o-10,ease:"linear"}}(e,u);1===(e=d.keyframes).length&&(e[1]=e[0]),r=d.duration,i=d.times,o=d.ease,s="keyframes"}const d=us(a.owner.current,l,e,(0,In.A)((0,In.A)({},this.options),{},{duration:r,times:i,ease:o}));return d.startTime=null!==c&&void 0!==c?c:this.calcStartTime(),this.pendingTimeline?(ds(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:n}=this.options;a.set(Sr(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:s,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return hr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return hr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=dr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Hn;const{animation:n}=t;ds(n,e)}else this.pendingTimeline=e;return Hn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:i,ease:o,times:s}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const e=this.options,{motionValue:t,onUpdate:a,onComplete:l,element:c}=e,u=er(e,ps),d=new es((0,In.A)((0,In.A)({},u),{},{keyframes:n,duration:r,type:i,ease:o,times:s,isGenerator:!0})),h=dr(this.time);t.setWithVelocity(d.sample(h-10).value,d.sample(h).value,10)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=e;return hs()&&n&&ts.has(n)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&"mirror"!==i&&0!==o&&"inertia"!==s}}const vs=ns((()=>void 0!==window.ScrollTimeline));class ys{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>vs()&&n.attachTimeline?n.attachTimeline(e):t(n)));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const bs=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const ws=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return s=>{const a=vr(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c-=dr(l);let u=(0,In.A)((0,In.A)({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},a),{},{delay:-c,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u}=e,d=er(e,bs);return!!Object.keys(d).length})(a)||(u=(0,In.A)((0,In.A)({},u),gr(e,u))),u.duration&&(u.duration=dr(u.duration)),u.repeatDelay&&(u.repeatDelay=dr(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(d=!0)),(wr||yr)&&(d=!0,u.duration=0,u.delay=0),d&&!o&&void 0!==t.get()){const e=Sr(u.keyframes,a);if(void 0!==e)return Cr.update((()=>{u.onUpdate(e),u.onComplete()})),new ys([])}return!o&&gs.supports(u)?new gs(u):new es(u)}};function xs(e,t){-1===e.indexOf(t)&&e.push(t)}function Ss(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Es{constructor(){this.subscriptions=[]}add(e){return xs(this.subscriptions,e),()=>Ss(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ks={current:void 0};class Cs{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=ro.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=ro.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Es);const n=this.events[e].add(t);return"change"===e?()=>{n(),Cr.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ks.current&&ks.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ro.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return co(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function As(e,t){return new Cs(e,t)}const Ts=["transitionEnd","transition"];function _s(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,As(n))}const Is=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ps="data-"+Is("framerAppearId");function Ns(e){return e.props[Ps]}const Ds=e=>Boolean(e&&e.getVelocity);function Rs(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Ds(r)&&r.add))return n.add(t);var r}const Os=["transition","transitionEnd"];function js(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function Ms(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o;let{transition:s=e.getDefaultTransition(),transitionEnd:a}=t,l=er(t,Os);r&&(s=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const t=e.getValue(d,null!==(o=e.latestValues[d])&&void 0!==o?o:null),r=l[d];if(void 0===r||u&&js(u,d))continue;const i=(0,In.A)({delay:n},vr(s||{},d));let a=!1;if(window.MotionHandoffAnimation){const t=Ns(e);if(t){const e=window.MotionHandoffAnimation(t,d,Cr);null!==e&&(i.startTime=e,a=!0)}}Rs(e,d),t.start(ws(d,t,r,e.shouldReduceMotion&&ur.has(d)?{type:!1}:i,e,a));const h=t.animation;h&&c.push(h)}return a&&Promise.all(c).then((()=>{Cr.update((()=>{a&&function(e,t){let n=sr(e,t)||{},{transitionEnd:r={},transition:i={}}=n,o=er(n,Ts);o=(0,In.A)((0,In.A)({},o),r);for(const a in o)_s(e,a,(s=o[a],tr(s)?s[s.length-1]||0:s));var s}(e,a)}))})),c}function Ls(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=sr(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(Ms(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:s,staggerDirection:a}=o;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const s=[],a=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Fs).forEach(((e,r)=>{e.notify("AnimationStart",t),s.push(Ls(e,t,(0,In.A)((0,In.A)({},o),{},{delay:n+l(r)})).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(s)}(e,t,i+r,s,a,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[e,t]="beforeChildren"===l?[s,a]:[a,s];return e().then((()=>t()))}return Promise.all([s(),a(n.delay)])}function Fs(e,t){return e.sortNodePosition(t)}const Vs=lr.length;function Us(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Us(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Vs;n++){const r=lr[n],i=e.props[r];(rr(i)||!1===i)&&(t[r]=i)}return t}const Bs=["transition","transitionEnd"],zs=[...ar].reverse(),qs=ar.length;function Hs(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>Ls(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=Ls(e,t,r);else{const i="function"===typeof t?sr(e,t,r.custom):t;n=Promise.all(Ms(e,i,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function Ws(e){let t=Hs(e),n=Qs(),r=!0;const i=t=>(n,r)=>{var i;const o=sr(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(o){const{transition:e,transitionEnd:t}=o,r=er(o,Bs);n=(0,In.A)((0,In.A)((0,In.A)({},n),r),t)}return n};function o(o){const{props:s}=e,a=Us(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<qs;t++){const h=zs[t],f=n[h],p=void 0!==s[h]?s[h]:a[h],m=rr(p),g=h===o?f.isActive:null;!1===g&&(d=t);let v=p===a[h]&&p!==s[h]&&m;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys=(0,In.A)({},u),!f.isActive&&null===g||!p&&!f.prevProp||$n(p)||"boolean"===typeof p)continue;const y=Ks(f.prevProp,p);let b=y||h===o&&f.isActive&&!v&&m||t>d&&m,w=!1;const x=Array.isArray(p)?p:[p];let S=x.reduce(i(h),{});!1===g&&(S={});const{prevResolvedValues:E={}}=f,k=(0,In.A)((0,In.A)({},E),S),C=t=>{b=!0,c.has(t)&&(w=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=S[e],n=E[e];if(u.hasOwnProperty(e))continue;let r=!1;r=tr(t)&&tr(n)?!nr(t,n):t!==n,r?void 0!==t&&null!==t?C(e):c.add(e):void 0!==t&&c.has(e)?C(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=S,f.isActive&&(u=(0,In.A)((0,In.A)({},u),S)),r&&e.blockInitialAnimation&&(b=!1);b&&(!(v&&y)||w)&&l.push(...x.map((e=>({animation:e,options:{type:h}}))))}if(c.size){const t={};c.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:o,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const s=o(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Qs(),r=!0}}}function Ks(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!nr(t,e)}function Gs(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Qs(){return{animate:Gs(!0),whileInView:Gs(),whileHover:Gs(),whileTap:Gs(),whileDrag:Gs(),whileFocus:Gs(),exit:Gs()}}class Ys{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Xs=0;const Js={animation:{Feature:class extends Ys{constructor(e){super(e),e.animationState||(e.animationState=Ws(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$n(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Ys{constructor(){super(...arguments),this.id=Xs++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Zs={x:!1,y:!1};function $s(){return Zs.x||Zs.y}function ea(e,t,n){var r;if(e instanceof Element)return[e];if("string"===typeof e){let i=document;t&&(i=t.current);const o=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function ta(e,t){const n=ea(e),r=new AbortController;return[n,(0,In.A)((0,In.A)({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function na(e){return t=>{"touch"===t.pointerType||$s()||e(t)}}const ra=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,ia=new WeakSet;function oa(e){return t=>{"Enter"===t.key&&e(t)}}function sa(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const aa=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const la=(e,t)=>!!t&&(e===t||la(e,t.parentElement));function ca(e){return ra(e)&&!$s()}function ua(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,o]=ta(e,n),s=e=>{const r=e.currentTarget;if(!ca(e)||ia.has(r))return;ia.add(r);const o=t(e),s=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),ca(e)&&ia.has(r)&&(ia.delete(r),o&&o(e,{success:t}))},a=e=>{s(e,n.useGlobalTarget||la(r,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",l,i)};return r.forEach((e=>{(function(e){return aa.has(e.tagName)||-1!==e.tabIndex})(e)||(e.tabIndex=0);(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,i),e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=oa((()=>{if(ia.has(n))return;sa(n,"down");const e=oa((()=>{sa(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>sa(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,i)),i)})),o}function da(e){return{point:{x:e.pageX,y:e.pageY}}}function ha(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function fa(e,t,n,r){return ha(e,t,(e=>t=>ra(t)&&e(t,da(t)))(n),r)}const pa=(e,t)=>Math.abs(e-t);class ma{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=ya(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=pa(e.x,t.x),r=pa(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Tr;this.history.push((0,In.A)((0,In.A)({},r),{},{timestamp:i}));const{onStart:o,onMove:s}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=ga(t,this.transformPagePoint),Cr.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=ya("pointercancel"===e.type?this.lastMoveEventInfo:ga(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},!ra(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const o=ga(da(e),this.transformPagePoint),{point:s}=o,{timestamp:a}=Tr;this.history=[(0,In.A)((0,In.A)({},s),{},{timestamp:a})];const{onSessionStart:l}=t;l&&l(e,ya(o,this.history)),this.removeListeners=Do(fa(this.contextWindow,"pointermove",this.handlePointerMove),fa(this.contextWindow,"pointerup",this.handlePointerUp),fa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ar(this.updatePoint)}}function ga(e,t){return t?{point:t(e.point)}:e}function va(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ya(e,t){let{point:n}=e;return{point:n,delta:va(n,wa(t)),offset:va(n,ba(t)),velocity:xa(t,.1)}}function ba(e){return e[0]}function wa(e){return e[e.length-1]}function xa(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=wa(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>dr(t)));)n--;if(!r)return{x:0,y:0};const o=hr(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Sa(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Ea(e){return e.max-e.min}function ka(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Ro(t.min,t.max,e.origin),e.scale=Ea(n)/Ea(t),e.translate=Ro(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Ca(e,t,n,r){ka(e.x,t.x,n.x,r?r.originX:void 0),ka(e.y,t.y,n.y,r?r.originY:void 0)}function Aa(e,t,n){e.min=n.min+t.min,e.max=e.min+Ea(t)}function Ta(e,t,n){e.min=t.min-n.min,e.max=e.min+Ea(t)}function _a(e,t,n){Ta(e.x,t.x,n.x),Ta(e.y,t.y,n.y)}function Ia(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Pa(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Na=.35;function Da(e,t,n){return{min:Ra(e,t),max:Ra(e,n)}}function Ra(e,t){return"number"===typeof e?e:e[t]||0}const Oa=()=>({x:{min:0,max:0},y:{min:0,max:0}});function ja(e){return[e("x"),e("y")]}function Ma(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function La(e){return void 0===e||1===e}function Fa(e){let{scale:t,scaleX:n,scaleY:r}=e;return!La(t)||!La(n)||!La(r)}function Va(e){return Fa(e)||Ua(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ua(e){return Ba(e.x)||Ba(e.y)}function Ba(e){return e&&"0%"!==e}function za(e,t,n){return n+t*(e-n)}function qa(e,t,n,r,i){return void 0!==i&&(e=za(e,i,r)),za(e,n,r)+t}function Ha(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=qa(e.min,t,n,r,i),e.max=qa(e.max,t,n,r,i)}function Wa(e,t){let{x:n,y:r}=t;Ha(e.x,n.translate,n.scale,n.originPoint),Ha(e.y,r.translate,r.scale,r.originPoint)}const Ka=.999999999999,Ga=1.0000000000001;function Qa(e,t){e.min=e.min+t,e.max=e.max+t}function Ya(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Ha(e,t,n,Ro(e.min,e.max,i),r)}function Xa(e,t){Ya(e.x,t.x,t.scaleX,t.scale,t.originX),Ya(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ja(e,t){return Ma(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Za=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},$a=new WeakMap;class el{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new ma(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(da(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(o=n)||"y"===o?Zs[o]?null:(Zs[o]=!0,()=>{Zs[o]=!1}):Zs.x||Zs.y?null:(Zs.x=Zs.y=!0,()=>{Zs.x=Zs.y=!1}),!this.openDragLock))return;var o;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ja((e=>{let t=this.getAxisMotionValue(e).get()||0;if(ti.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Ea(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&Cr.postRender((()=>i(e,t))),Rs(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>ja((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Za(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Cr.postRender((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!tl(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Ro(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Ro(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Sa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:o}=t;return{x:Ia(e.x,r,o),y:Ia(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na;return!1===e?e=0:!0===e&&(e=Na),{x:Da(e,"left","right"),y:Da(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ja((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Sa(e))return!1;const n=e.current;Kn(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Ja(e,n),{scroll:i}=t;return i&&(Qa(r.x,i.offset.x),Qa(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:Pa(e.x,t.x),y:Pa(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=Ma(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=ja((s=>{if(!tl(s,t,this.currentDirection))return;let l=a&&a[s]||{};o&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d=(0,In.A)((0,In.A)({type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(s,d)}));return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Rs(this.visualElement,e),n.start(ws(e,n,0,t,this.visualElement,!1))}stopAnimation(){ja((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){ja((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ja((t=>{const{drag:n}=this.getProps();if(!tl(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-Ro(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Sa(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ja((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Ea(e),i=Ea(t);return i>r?n=ao(t.min,t.max-r,e.min):r>i&&(n=ao(e.min,e.max-i,t.min)),Yr(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ja((t=>{if(!tl(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(Ro(i,o,r[t]))}))}addListeners(){if(!this.visualElement.current)return;$a.set(this.visualElement,this);const e=fa(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Sa(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Cr.read(t);const i=ha(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(ja((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=Na,dragMomentum:s=!0}=e;return(0,In.A)((0,In.A)({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:s})}}function tl(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const nl=e=>(t,n)=>{e&&Cr.postRender((()=>e(t,n)))};const rl=(0,r.createContext)({}),il={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ol(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const sl={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!ni.test(e))return e;e=parseFloat(e)}const n=ol(e,t.target.x),r=ol(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},al={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,o=Ui.parse(e);if(o.length>5)return i;const s=Ui.createTransformer(e),a="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;o[0+a]/=l,o[1+a]/=c;const u=Ro(l,c,.5);return"number"===typeof o[2+a]&&(o[2+a]/=u),"number"===typeof o[3+a]&&(o[3+a]/=u),s(o)}},ll={};const{schedule:cl,cancel:ul}=kr(queueMicrotask,!1);class dl extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var o;o=fl,Object.assign(ll,o),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions((0,In.A)((0,In.A)({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),il.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Cr.postRender((()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cl.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hl(e){const[t,n]=function(){const e=(0,r.useContext)(Mn);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,o=(0,r.useId)();(0,r.useEffect)((()=>i(o)),[]);const s=(0,r.useCallback)((()=>n&&n(o)),[o,n]);return!t&&n?[!1,s]:[!0]}(),i=(0,r.useContext)(qn);return(0,jn.jsx)(dl,(0,In.A)((0,In.A)({},e),{},{layoutGroup:i,switchLayoutGroup:(0,r.useContext)(rl),isPresent:t,safeToRemove:n}))}const fl={borderRadius:(0,In.A)((0,In.A)({},sl),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:sl,borderTopRightRadius:sl,borderBottomLeftRadius:sl,borderBottomRightRadius:sl,boxShadow:al},pl=["TopLeft","TopRight","BottomLeft","BottomRight"],ml=pl.length,gl=e=>"string"===typeof e?parseFloat(e):e,vl=e=>"number"===typeof e||ni.test(e);function yl(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const bl=xl(0,.5,Fr),wl=xl(.5,.95,Hn);function xl(e,t,n){return r=>r<e?0:r>t?1:n(ao(e,t,r))}function Sl(e,t){e.min=t.min,e.max=t.max}function El(e,t){Sl(e.x,t.x),Sl(e.y,t.y)}function kl(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Cl(e,t,n,r,i){return e=za(e-=t,1/n,r),void 0!==i&&(e=za(e,1/i,r)),e}function Al(e,t,n,r,i){let[o,s,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;ti.test(t)&&(t=parseFloat(t),t=Ro(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let a=Ro(o.min,o.max,r);e===o&&(a-=t),e.min=Cl(e.min,t,n,a,i),e.max=Cl(e.max,t,n,a,i)}(e,t[o],t[s],t[a],t.scale,r,i)}const Tl=["x","scaleX","originX"],_l=["y","scaleY","originY"];function Il(e,t,n,r){Al(e.x,t,Tl,n?n.x:void 0,r?r.x:void 0),Al(e.y,t,_l,n?n.y:void 0,r?r.y:void 0)}function Pl(e){return 0===e.translate&&1===e.scale}function Nl(e){return Pl(e.x)&&Pl(e.y)}function Dl(e,t){return e.min===t.min&&e.max===t.max}function Rl(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ol(e,t){return Rl(e.x,t.x)&&Rl(e.y,t.y)}function jl(e){return Ea(e.x)/Ea(e.y)}function Ml(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Ll{constructor(){this.members=[]}add(e){xs(this.members,e),e.scheduleRender()}remove(e){if(Ss(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Fl=(e,t)=>e.depth-t.depth;class Vl{constructor(){this.children=[],this.isDirty=!1}add(e){xs(this.children,e),this.isDirty=!0}remove(e){Ss(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Fl),this.isDirty=!1,this.children.forEach(e)}}function Ul(e){const t=Ds(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}function Bl(e,t){const n=ro.now(),r=i=>{let{timestamp:o}=i;const s=o-n;s>=t&&(Ar(r),e(s-t))};return Cr.read(r,!0),()=>Ar(r)}function zl(e){return e instanceof SVGElement&&"svg"!==e.tagName}function ql(e,t,n){const r=Ds(e)?e:As(e);return r.start(ws("",r,t,n)),r.animation}const Hl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Wl="undefined"!==typeof window&&void 0!==window.MotionDebug,Kl=["","X","Y","Z"],Gl={visibility:"hidden"};let Ql=0;function Yl(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Xl(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ns(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Cr,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Xl(r)}function Jl(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Ql++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wl&&(Hl.totalNodes=Hl.resolvedTargetDeltas=Hl.recalculatedProjection=0),this.nodes.forEach(ec),this.nodes.forEach(ac),this.nodes.forEach(lc),this.nodes.forEach(tc),Wl&&window.MotionDebug.record(Hl)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vl)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Es),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;this.isSVG=zl(e),this.instance=e;const{layoutId:r,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||r)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=Bl(r,250),il.hasAnimatedSinceResize&&(il.hasAnimatedSinceResize=!1,this.nodes.forEach(sc))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||i)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||pc,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),c=!this.targetLayout||!Ol(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=(0,In.A)((0,In.A)({},vr(s,"layout")),{},{onPlay:a,onComplete:l});(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||sc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ar(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cc),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Xl(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(rc);this.isUpdating||this.nodes.forEach(ic),this.isUpdating=!1,this.nodes.forEach(oc),this.nodes.forEach(Zl),this.nodes.forEach($l),this.clearAllSnapshots();const e=ro.now();Tr.delta=Yr(0,1e3/60,e-Tr.timestamp),Tr.timestamp=e,Tr.isProcessing=!0,_r.update.process(Tr),_r.preRender.process(Tr),_r.render.process(Tr),Tr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cl.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nc),this.sharedNodes.forEach(uc)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Cr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Cr.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Nl(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||Va(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),vc((r=n).x),vc(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(bc))){const{scroll:e}=this.root;e&&(Qa(n.x,e.offset.x),Qa(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(El(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:o}=t;t!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&El(n,e),Qa(n.x,i.offset.x),Qa(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};El(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Xa(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Va(e.latestValues)&&Xa(n,e.latestValues)}return Va(this.latestValues)&&Xa(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};El(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Va(e.latestValues))continue;Fa(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};El(r,e.measurePageBox()),Il(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Va(this.latestValues)&&Il(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,In.A)((0,In.A)((0,In.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=Tr.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},_a(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),El(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,a=this.relativeTarget,l=this.relativeParent.target,Aa(s.x,a.x,l.x),Aa(s.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):El(this.target,this.layout.layoutBox),Wa(this.target,this.targetDelta)):El(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},_a(this.relativeTargetOrigin,this.target,e.target),El(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wl&&Hl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Fa(this.parent.latestValues)&&!Ua(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Tr.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;El(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,s;t.x=t.y=1;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:i}=o.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Xa(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Wa(e,s)),r&&Va(o.latestValues)&&Xa(e,o.latestValues))}t.x<Ga&&t.x>Ka&&(t.x=1),t.y<Ga&&t.y>Ka&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(kl(this.prevProjectionDelta.x,this.projectionDelta.x),kl(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Ca(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&Ml(this.projectionDelta.x,this.prevProjectionDelta.x)&&Ml(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Wl&&Hl.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=(0,In.A)({},this.latestValues),o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(fc));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h;dc(o.x,e.x,n),dc(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_a(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){hc(e.x,t.x,n.x,r),hc(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,s,n),d&&(l=this.relativeTarget,h=d,Dl(l.x,h.x)&&Dl(l.y,h.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),El(d,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,o){i?(e.opacity=Ro(0,void 0!==n.opacity?n.opacity:1,bl(r)),e.opacityExit=Ro(void 0!==t.opacity?t.opacity:1,0,wl(r))):o&&(e.opacity=Ro(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let s=0;s<ml;s++){const i="border".concat(pl[s],"Radius");let o=yl(t,i),a=yl(n,i);void 0===o&&void 0===a||(o||(o=0),a||(a=0),0===o||0===a||vl(o)===vl(a)?(e[i]=Math.max(Ro(gl(o),gl(a),r),0),(ti.test(a)||ti.test(o))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=Ro(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ar(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Cr.update((()=>{il.hasAnimatedSinceResize=!0,this.currentAnimation=ql(0,1e3,(0,In.A)((0,In.A)({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&yc(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Ea(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Ea(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}El(t,n),Xa(t,i),Ca(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Ll);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Yl("z",e,r,this.animationValues);for(let i=0;i<Kl.length;i++)Yl("rotate".concat(Kl[i]),e,r,this.animationValues),Yl("skew".concat(Kl[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Gl;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Ul(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Ul(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Va(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(null===n||void 0===n?void 0:n.z)||0;if((i||o||s)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, ").concat(s,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:o,skewX:s,skewY:a}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),o&&(r+="rotateY(".concat(o,"deg) ")),s&&(r+="skewX(".concat(s,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+="scale(".concat(a,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*a.origin,"% ").concat(100*l.origin,"% 0"),o.animationValues?r.opacity=o===this?null!==(n=null!==(t=s.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const c in ll){if(void 0===s[c])continue;const{correct:e,applyTo:t}=ll[c],n="none"===r.transform?s[c]:e(s[c],o);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=o===this?Ul(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(rc),this.root.sharedNodes.clear()}}}function Zl(e){e.updateLayout()}function $l(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?ja((e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=Ea(r);r.min=t[e].min,r.max=r.min+i})):yc(i,n.layoutBox,t)&&ja((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],s=Ea(t[r]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)}));const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Ca(s,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?Ca(a,e.applyTransform(r,!0),n.measuredBox):Ca(a,t,n.layoutBox);const l=!Nl(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const s={x:{min:0,max:0},y:{min:0,max:0}};_a(s,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};_a(a,t,o.layoutBox),Ol(s,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function ec(e){Wl&&Hl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tc(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nc(e){e.clearSnapshot()}function rc(e){e.clearMeasurements()}function ic(e){e.isLayoutDirty=!1}function oc(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function sc(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ac(e){e.resolveTargetDelta()}function lc(e){e.calcProjection()}function cc(e){e.resetSkewAndRotation()}function uc(e){e.removeLeadSnapshot()}function dc(e,t,n){e.translate=Ro(t.translate,0,n),e.scale=Ro(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function hc(e,t,n,r){e.min=Ro(t.min,n.min,r),e.max=Ro(t.max,n.max,r)}function fc(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const pc={duration:.45,ease:[.4,0,.1,1]},mc=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),gc=mc("applewebkit/")&&!mc("chrome/")?Math.round:Hn;function vc(e){e.min=gc(e.min),e.max=gc(e.max)}function yc(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=jl(t),i=jl(n),o=.2,!(Math.abs(r-i)<=o));var r,i,o}function bc(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const wc=Jl({attachResizeListener:(e,t)=>ha(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xc={current:void 0},Sc=Jl({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xc.current){const e=new wc({});e.mount(window),e.setOptions({layoutScroll:!0}),xc.current=e}return xc.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Ec={pan:{Feature:class extends Ys{constructor(){super(...arguments),this.removePointerDownListener=Hn}onPointerDown(e){this.session=new ma(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Za(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:nl(e),onStart:nl(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Cr.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=fa(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Ys{constructor(e){super(e),this.removeGroupControls=Hn,this.removeListeners=Hn,this.controls=new el(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hn}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Sc,MeasureLayout:hl}};function kc(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&Cr.postRender((()=>i(t,da(t))))}function Cc(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&Cr.postRender((()=>i(t,da(t))))}const Ac=["root"],Tc=new WeakMap,_c=new WeakMap,Ic=e=>{const t=Tc.get(e.target);t&&t(e)},Pc=e=>{e.forEach(Ic)};function Nc(e,t,n){const r=function(e){let{root:t}=e,n=er(e,Ac);const r=t||document;_c.has(r)||_c.set(r,{});const i=_c.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(Pc,(0,In.A)({root:t},n))),i[o]}(t);return Tc.set(e,n),r.observe(e),()=>{Tc.delete(e),r.unobserve(e)}}const Dc={some:0,all:1};const Rc={inView:{Feature:class extends Ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Dc[r]};return Nc(this.node.current,o,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Ys{mount(){const{current:e}=this.node;e&&(this.unmount=ua(e,(e=>(Cc(this.node,e,"Start"),(e,t)=>{let{success:n}=t;return Cc(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Do(ha(this.node.current,"focus",(()=>this.onFocus())),ha(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Ys{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,o]=ta(e,n),s=na((e=>{const{target:n}=e,r=t(e);if(!r||!n)return;const o=na((e=>{r(e),n.removeEventListener("pointerleave",o)}));n.addEventListener("pointerleave",o,i)}));return r.forEach((e=>{e.addEventListener("pointerenter",s,i)})),o}(e,(e=>(kc(this.node,e,"Start"),e=>kc(this.node,e,"End")))))}unmount(){}}}},Oc={layout:{ProjectionNode:Sc,MeasureLayout:hl}},jc=(0,r.createContext)({}),Mc=(0,r.createContext)({strict:!1});function Lc(e,t,n,i,o){var s,a;const{visualElement:l}=(0,r.useContext)(jc),c=(0,r.useContext)(Mc),u=(0,r.useContext)(Mn),d=(0,r.useContext)(Fn).reducedMotion,h=(0,r.useRef)(null);i=i||c.renderer,!h.current&&i&&(h.current=i(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:d}));const f=h.current,p=(0,r.useContext)(rl);!f||f.projection||!o||"html"!==f.type&&"svg"!==f.type||function(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Fc(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:Boolean(s)||a&&Sa(a),visualElement:e,animationType:"string"===typeof o?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(h.current,n,o,p);const m=(0,r.useRef)(!1);(0,r.useInsertionEffect)((()=>{f&&m.current&&f.update(n,u)}));const g=n[Ps],v=(0,r.useRef)(Boolean(g)&&!(null===(s=window.MotionHandoffIsComplete)||void 0===s?void 0:s.call(window,g))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,g)));return Xn((()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),cl.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())})),(0,r.useEffect)((()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)})),v.current=!1))})),f}function Fc(e){if(e)return!1!==e.options.allowProjection?e.projection:Fc(e.parent)}function Vc(e,t,n){return(0,r.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Sa(n)&&(n.current=r))}),[t])}function Uc(e){return $n(e.animate)||lr.some((t=>rr(e[t])))}function Bc(e){return Boolean(Uc(e)||e.variants)}function zc(e){const{initial:t,animate:n}=function(e,t){if(Uc(e)){const{initial:t,animate:n}=e;return{initial:!1===t||rr(t)?t:void 0,animate:rr(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(jc));return(0,r.useMemo)((()=>({initial:t,animate:n})),[qc(t),qc(n)])}function qc(e){return Array.isArray(e)?e.join(" "):e}const Hc={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wc={};for(const RC in Hc)Wc[RC]={isEnabled:e=>Hc[RC].some((t=>!!e[t]))};const Kc=Symbol.for("motionComponentSymbol");function Gc(e){let{preloadedFeatures:t,createVisualElement:n,useRender:i,useVisualState:o,Component:s}=e;t&&function(e){for(const t in e)Wc[t]=(0,In.A)((0,In.A)({},Wc[t]),e[t])}(t);const a=(0,r.forwardRef)((function(e,t){let a;const l=(0,In.A)((0,In.A)((0,In.A)({},(0,r.useContext)(Fn)),e),{},{layoutId:Qc(e)}),{isStatic:c}=l,u=zc(e),d=o(e,c);if(!c&&Yn){!function(){(0,r.useContext)(Mc).strict;0}();const e=function(e){const{drag:t,layout:n}=Wc;if(!t&&!n)return{};const r=(0,In.A)((0,In.A)({},t),n);return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);a=e.MeasureLayout,u.visualElement=Lc(s,d,l,n,e.ProjectionNode)}return(0,jn.jsxs)(jc.Provider,{value:u,children:[a&&u.visualElement?(0,jn.jsx)(a,(0,In.A)({visualElement:u.visualElement},l)):null,i(s,e,Vc(d,u.visualElement,t),d,c,u.visualElement)]})}));return a[Kc]=s,a}function Qc(e){let{layoutId:t}=e;const n=(0,r.useContext)(qn).id;return n&&void 0!==t?n+"-"+t:t}const Yc=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xc(e){return"string"===typeof e&&!e.includes("-")&&!!(Yc.indexOf(e)>-1||/[A-Z]/.test(e))}function Jc(e,t,n,r){let{style:i,vars:o}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const s in o)e.style.setProperty(s,o[s])}const Zc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $c(e,t,n,r){Jc(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Zc.has(i)?i:Is(i),t.attrs[i])}function eu(e,t){let{layout:n,layoutId:r}=t;return ur.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!ll[e]||"opacity"===e)}function tu(e,t,n){var r;const{style:i}=e,o={};for(const s in i)(Ds(i[s])||t.style&&Ds(t.style[s])||eu(s,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(s))||void 0===r?void 0:r.liveStyle))&&(o[s]=i[s]);return o}function nu(e,t,n){const r=tu(e,t,n);for(const i in e)if(Ds(e[i])||Ds(t[i])){r[-1!==cr.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const ru=["transitionEnd","transition"];const iu=e=>(t,n)=>{const i=(0,r.useContext)(jc),o=(0,r.useContext)(Mn),s=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o,onMount:s}=e;const a={latestValues:ou(t,n,r,i),renderState:o()};return s&&(a.mount=e=>s(t,e,a)),a}(e,t,i,o);return n?s():Ln(s)};function ou(e,t,n,r){const i={},o=r(e,{});for(const h in o)i[h]=Ul(o[h]);let{initial:s,animate:a}=e;const l=Uc(e),c=Bc(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===s;const d=u?a:s;if(d&&"boolean"!==typeof d&&!$n(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=or(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=er(r,ru);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const su=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),au=()=>(0,In.A)((0,In.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),lu=(e,t)=>t&&"number"===typeof e?t.transform(e):e,cu={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uu=cr.length;function du(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const e=t[l];if(ur.has(l))s=!0;else if(qr(l))i[l]=e;else{const t=lu(e,Qi[l]);l.startsWith("origin")?(a=!0,o[l]=t):r[l]=t}}if(t.transform||(s||n?r.transform=function(e,t,n){let r="",i=!0;for(let o=0;o<uu;o++){const s=cr[o],a=e[s];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(s.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=lu(a,Qi[s]);l||(i=!1,r+="".concat(cu[s]||s,"(").concat(e,") ")),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function hu(e,t,n){return"string"===typeof e?e:ni.transform(t+n*e)}const fu={offset:"stroke-dashoffset",array:"stroke-dasharray"},pu={offset:"strokeDashoffset",array:"strokeDasharray"};const mu=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function gu(e,t,n,r){let{attrX:i,attrY:o,attrScale:s,originX:a,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0}=t;if(du(e,er(t,mu),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:f,dimensions:p}=e;h.transform&&(p&&(f.transform=h.transform),delete h.transform),p&&(void 0!==a||void 0!==l||f.transform)&&(f.transformOrigin=function(e,t,n){const r=hu(t,e.x,e.width),i=hu(n,e.y,e.height);return"".concat(r," ").concat(i)}(p,void 0!==a?a:.5,void 0!==l?l:.5)),void 0!==i&&(h.x=i),void 0!==o&&(h.y=o),void 0!==s&&(h.scale=s),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=i?fu:pu;e[o.offset]=ni.transform(-r);const s=ni.transform(t),a=ni.transform(n);e[o.array]="".concat(s," ").concat(a)}(h,c,u,d,!1)}const vu=e=>"string"===typeof e&&"svg"===e.toLowerCase(),yu={useVisualState:iu({scrapeMotionValuesFromProps:nu,createRenderState:au,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;Cr.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}})),Cr.render((()=>{gu(r,i,vu(t.tagName),e.transformTemplate),$c(t,r)}))}})},bu={useVisualState:iu({scrapeMotionValuesFromProps:tu,createRenderState:su})};function wu(e,t,n){for(const r in t)Ds(t[r])||eu(r,n)||(e[r]=t[r])}function xu(e,t){const n={};return wu(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,r.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return du(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function Su(e,t){const n={},r=xu(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Eu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ku(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Eu.has(e)}let Cu=e=>!ku(e);try{(Au=require("@emotion/is-prop-valid").default)&&(Cu=e=>e.startsWith("on")?!ku(e):Au(e))}catch(DC){}var Au;function Tu(e,t,n,i){const o=(0,r.useMemo)((()=>{const n=au();return gu(n,t,vu(i),e.transformTemplate),(0,In.A)((0,In.A)({},n.attrs),{},{style:(0,In.A)({},n.style)})}),[t]);if(e.style){const t={};wu(t,e.style,e),o.style=(0,In.A)((0,In.A)({},t),o.style)}return o}function _u(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,i,o,s)=>{let{latestValues:a}=o;const l=(Xc(t)?Tu:Su)(n,a,s,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Cu(i)||!0===n&&ku(i)||!t&&!ku(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u=t!==r.Fragment?(0,In.A)((0,In.A)((0,In.A)({},c),l),{},{ref:i}):{},{children:d}=n,h=(0,r.useMemo)((()=>Ds(d)?d.get():d),[d]);return(0,r.createElement)(t,(0,In.A)((0,In.A)({},u),{},{children:h}))}}function Iu(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};const i=Xc(n)?yu:bu;return Gc((0,In.A)((0,In.A)({},i),{},{preloadedFeatures:e,useRender:_u(r),createVisualElement:t,Component:n}))}}const Pu={current:null},Nu={current:!1};const Du=new WeakMap,Ru=[...pi,Ni,Ui],Ou=["willChange"],ju=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Mu{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xi,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=ro.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Cr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget=(0,In.A)({},l),this.initialValues=n.initial?(0,In.A)({},l):{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=Uc(n),this.isVariantNode=Bc(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const u=this.scrapeMotionValuesFromProps(n,{},this),{willChange:d}=u,h=er(u,Ou);for(const f in h){const e=h[f];void 0!==l[f]&&Ds(e)&&e.set(l[f],!1)}}mount(e){this.current=e,Du.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Nu.current||function(){if(Nu.current=!0,Yn)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Pu.current=e.matches;e.addListener(t),t()}else Pu.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Pu.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Du.delete(this.current),this.projection&&this.projection.unmount(),Ar(this.notifyUpdate),Ar(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=ur.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Cr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),i(),o&&o(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Wc){const t=Wc[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<ju.length;n++){const t=ju[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],o=n[r];if(Ds(i))e.addValue(r,i);else if(Ds(o))e.addValue(r,As(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,As(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=As(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return void 0!==r&&null!==r&&("string"===typeof r&&(Br(r)||Ur(r))?r=parseFloat(r):(i=r,!Ru.find(fi(i))&&Ui.test(t)&&(r=Ji(e,t))),this.setBaseTarget(e,Ds(r)?r.get():r)),Ds(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=or(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Ds(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Es),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class Lu extends Mu{constructor(){super(...arguments),this.KeyframeResolver=$i}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ds(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}}class Fu extends Lu{constructor(){super(...arguments),this.type="html",this.renderInstance=Jc}readValueFromInstance(e,t){if(ur.has(t)){const e=Xi(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(qr(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Ja(e,n)}build(e,t,n){du(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return tu(e,t,n)}}class Vu extends Lu{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Oa}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ur.has(t)){const e=Xi(t);return e&&e.default||0}return t=Zc.has(t)?t:Is(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return nu(e,t,n)}build(e,t,n){gu(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){$c(e,t,0,r)}mount(e){this.isSVGTag=vu(e.tagName),super.mount(e)}}const Uu=(e,t)=>Xc(e)?new Vu(t):new Fu(t,{allowProjection:e!==r.Fragment}),Bu=Zn(Iu((0,In.A)((0,In.A)((0,In.A)((0,In.A)({},Js),Rc),Ec),Oc),Uu));const zu=n.p+"static/media/google-icon.1c335cf830dd9db35c6ad89cdc7e4865.svg";function qu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)((0,In.A)((0,In.A)({},e),{},{keyframes:[0,t]})),r=Math.min(yo(n),vo);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:hr(r)}}function Hu(e){return"object"===typeof e&&!Array.isArray(e)}function Wu(e,t,n,r){return"string"===typeof e&&Hu(t)?ea(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function Ku(e,t,n,r){var i;return"number"===typeof t?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):"<"===t?n:null!==(i=r.get(t))&&void 0!==i?i:e}function Gu(e,t){return To(e)?e[((e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e})(0,e.length,t)]:e}function Qu(e,t,n,r,i,o){!function(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(Ss(e,i),r--)}}(e,i,o);for(let s=0;s<t.length;s++)e.push({value:t[s],at:Ro(i,o,r[s]),easing:Gu(n,s)})}function Yu(e,t){return e.at===t.at?null===e.value?1:null===t.value?-1:0:e.at-t.at}function Xu(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function Ju(e,t,n){return e*(t+1)}const Zu=["defaultTransition"],$u=["delay","times","type","repeat","repeatType","repeatDelay"];function ed(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function td(e,t){return t[e]||(t[e]=[]),t[e]}function nd(e){return Array.isArray(e)?e:[e]}function rd(e,t){return e&&e[t]?(0,In.A)((0,In.A)({},e),e[t]):(0,In.A)({},e)}const id=e=>"number"===typeof e,od=e=>e.every(id);class sd extends Mu{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,t){if(function(e,t){return e in t}(t,e)){const n=e[t];if("string"===typeof n||"number"===typeof n)return n}}getBaseTargetFromProps(){}removeValueFromRenderState(e,t){delete t.output[e]}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}build(e,t){Object.assign(e.output,t)}renderInstance(e,t){let{output:n}=t;Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function ad(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=zl(e)?new Vu(t):new Fu(t);n.mount(e),Du.set(e,n)}function ld(e){const t=new sd({presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}});t.mount(e),Du.set(e,t)}function cd(e,t,n,r){const i=[];if(function(e,t){return Ds(e)||"number"===typeof e||"string"===typeof e&&!Hu(t)}(e,t))i.push(ql(e,Hu(t)&&t.default||t,n&&n.default||n));else{const o=Wu(e,t,r),s=o.length;Kn(Boolean(s),"No valid elements provided.");for(let e=0;e<s;e++){const r=o[e],a=r instanceof Element?ad:ld;Du.has(r)||a(r);const l=Du.get(r),c=(0,In.A)({},n);"delay"in c&&"function"===typeof c.delay&&(c.delay=c.delay(e,s)),i.push(...Ms(l,(0,In.A)((0,In.A)({},t),{},{transition:c}),{}))}}return i}function ud(e,t,n){const r=[],i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{defaultTransition:n={}}=t,r=er(t,Zu),i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;const s=n.duration||.3,a=new Map,l=new Map,c={},u=new Map;let d=0,h=0,f=0;for(let p=0;p<e.length;p++){const t=e[p];if("string"===typeof t){u.set(t,h);continue}if(!Array.isArray(t)){u.set(t.name,Ku(h,t.at,d,u));continue}let[r,a,m={}]=t;void 0!==m.at&&(h=Ku(h,m.at,d,u));let g=0;const v=function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const l=nd(e),{delay:c=0,times:u=Yo(l),type:d="keyframes",repeat:p,repeatType:m,repeatDelay:v=0}=t,y=er(t,$u);let{ease:b=n.ease||"easeOut",duration:w}=t;const x="function"===typeof c?c(i,a):c,S=l.length,E=eo(d)?d:null===o||void 0===o?void 0:o[d];if(S<=2&&E){let e=100;if(2===S&&od(l)){const t=l[1]-l[0];e=Math.abs(t)}const t=(0,In.A)({},y);void 0!==w&&(t.duration=dr(w));const n=qu(t,e,E);b=n.ease,w=n.duration}null!==w&&void 0!==w||(w=s);const k=h+x;1===u.length&&0===u[0]&&(u[1]=1);const C=u.length-l.length;if(C>0&&Qo(u,C),1===l.length&&l.unshift(null),p){Kn(p<20,"Repeat count too high, must be less than 20"),w=Ju(w,p);const e=[...l],t=[...u];b=Array.isArray(b)?[...b]:[b];const n=[...b];for(let r=0;r<p;r++){l.push(...e);for(let i=0;i<e.length;i++)u.push(t[i]+(r+1)),b.push(0===i?"linear":Gu(n,i-1))}Xu(u,p)}const A=k+w;Qu(r,l,b,u,k,A),g=Math.max(x+w,g),f=Math.max(A,f)};if(Ds(r))v(a,m,td("default",ed(r,l)));else{const e=Wu(r,a,i,c),t=e.length;for(let n=0;n<t;n++){const r=ed(e[n],l);for(const e in a)v(a[e],rd(m,e),td(e,r),n,t)}}d=h,h+=g}return l.forEach(((e,t)=>{for(const i in e){const o=e[i];o.sort(Yu);const s=[],l=[],c=[];for(let e=0;e<o.length;e++){const{at:t,value:n,easing:r}=o[e];s.push(n),l.push(ao(0,f,t)),c.push(r||"easeOut")}0!==l[0]&&(l.unshift(0),s.unshift(s[0]),c.unshift("easeInOut")),1!==l[l.length-1]&&(l.push(1),s.push(null)),a.has(t)||a.set(t,{keyframes:{},transition:{}});const u=a.get(t);u.keyframes[i]=s,u.transition[i]=(0,In.A)((0,In.A)({},n),{},{duration:f,ease:c,times:l},r)}})),a}(e,t,n,{spring:So});return i.forEach(((e,t)=>{let{keyframes:n,transition:i}=e;r.push(...cd(t,n,i))})),r}function dd(e){return function(t,n,r){let i=[];var o;o=t,i=Array.isArray(o)&&Array.isArray(o[0])?ud(t,n,e):cd(t,n,r,e);const s=new ys(i);return e&&e.animations.push(s),s}}dd();function hd(){const e=Ln((()=>({current:null,animations:[]}))),t=Ln((()=>dd(e)));var n;return n=()=>{e.animations.forEach((e=>e.stop()))},(0,r.useEffect)((()=>()=>n()),[]),[e,t]}function fd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,{startDelay:t=0,from:n=0,ease:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(i,o)=>{const s="number"===typeof n?n:function(e,t){if("first"===e)return 0;{const n=t-1;return"last"===e?n:n/2}}(n,o),a=Math.abs(s-i);let l=e*a;if(r){const t=o*e;l=Po(r)(l/t)*t}return t+l}}function pd(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=pd(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function md(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=pd(e))&&(r&&(r+=" "),r+=t);return r}const gd=md,vd=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),o=i?vd(e.slice(1),i):void 0;if(o)return o;if(0===t.validators.length)return;const s=e.join("-");return null===(n=t.validators.find((e=>{let{validator:t}=e;return t(s)})))||void 0===n?void 0:n.classGroupId},yd=/^\[(.+)\]$/,bd=e=>{if(yd.test(e)){const t=yd.exec(e)[1],n=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},wd=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return kd(Object.entries(e.classGroups),n).forEach((e=>{let[n,i]=e;xd(i,r,n,t)})),r},xd=(e,t,n,r)=>{e.forEach((e=>{if("string"!==typeof e){if("function"===typeof e)return Ed(e)?void xd(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((e=>{let[i,o]=e;xd(o,Sd(t,i),n,r)}))}else{(""===e?t:Sd(t,e)).classGroupId=n}}))},Sd=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},Ed=e=>e.isThemeGetter,kd=(e,t)=>t?e.map((e=>{let[n,r]=e;return[n,r.map((e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map((e=>{let[n,r]=e;return[t+n,r]}))):e))]})):e,Cd=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},Ad=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,i=t[0],o=t.length,s=e=>{const n=[];let s,a=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===a){if(c===i&&(r||e.slice(d,d+o)===t)){n.push(e.slice(l,d)),l=d+o;continue}if("/"===c){s=d;continue}}"["===c?a++:"]"===c&&a--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:s&&s>l?s-l:void 0}};return n?e=>n({className:e,parseClassName:s}):s},Td=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t},_d=e=>(0,In.A)({cache:Cd(e.cacheSize),parseClassName:Ad(e)},(e=>{const t=wd(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),vd(n,t)||bd(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}})(e)),Id=/\s+/;function Pd(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Nd(e))&&(r&&(r+=" "),r+=t);return r}const Nd=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Nd(e[r]))&&(n&&(n+=" "),n+=t);return n};function Dd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,o,s,a=function(t){const r=n.reduce(((e,t)=>t(e)),e());return i=_d(r),o=i.cache.get,s=i.cache.set,a=l,l(t)};function l(e){const t=o(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],s=e.trim().split(Id);let a="";for(let l=s.length-1;l>=0;l-=1){const e=s[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let h=Boolean(d),f=r(h?u.substring(0,d):u);if(!f){if(!h){a=e+(a.length>0?" "+a:a);continue}if(f=r(u),!f){a=e+(a.length>0?" "+a:a);continue}h=!1}const p=Td(t).join(":"),m=c?p+"!":p,g=m+f;if(o.includes(g))continue;o.push(g);const v=i(f,h);for(let n=0;n<v.length;++n){const e=v[n];o.push(m+e)}a=e+(a.length>0?" "+a:a)}return a})(e,i);return s(e,n),n}return function(){return a(Pd.apply(null,arguments))}}const Rd=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Od=/^\[(?:([a-z-]+):)?(.+)\]$/i,jd=/^\d+\/\d+$/,Md=new Set(["px","full","screen"]),Ld=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Fd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Vd=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ud=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bd=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zd=e=>Hd(e)||Md.has(e)||jd.test(e),qd=e=>rh(e,"length",ih),Hd=e=>Boolean(e)&&!Number.isNaN(Number(e)),Wd=e=>rh(e,"number",Hd),Kd=e=>Boolean(e)&&Number.isInteger(Number(e)),Gd=e=>e.endsWith("%")&&Hd(e.slice(0,-1)),Qd=e=>Od.test(e),Yd=e=>Ld.test(e),Xd=new Set(["length","size","percentage"]),Jd=e=>rh(e,Xd,oh),Zd=e=>rh(e,"position",oh),$d=new Set(["image","url"]),eh=e=>rh(e,$d,ah),th=e=>rh(e,"",sh),nh=()=>!0,rh=(e,t,n)=>{const r=Od.exec(e);return!!r&&(r[1]?"string"===typeof t?r[1]===t:t.has(r[1]):n(r[2]))},ih=e=>Fd.test(e)&&!Vd.test(e),oh=()=>!1,sh=e=>Ud.test(e),ah=e=>Bd.test(e),lh=(Symbol.toStringTag,()=>{const e=Rd("colors"),t=Rd("spacing"),n=Rd("blur"),r=Rd("brightness"),i=Rd("borderColor"),o=Rd("borderRadius"),s=Rd("borderSpacing"),a=Rd("borderWidth"),l=Rd("contrast"),c=Rd("grayscale"),u=Rd("hueRotate"),d=Rd("invert"),h=Rd("gap"),f=Rd("gradientColorStops"),p=Rd("gradientColorStopPositions"),m=Rd("inset"),g=Rd("margin"),v=Rd("opacity"),y=Rd("padding"),b=Rd("saturate"),w=Rd("scale"),x=Rd("sepia"),S=Rd("skew"),E=Rd("space"),k=Rd("translate"),C=()=>["auto",Qd,t],A=()=>[Qd,t],T=()=>["",zd,qd],_=()=>["auto",Hd,Qd],I=()=>["","0",Qd],P=()=>[Hd,Qd];return{cacheSize:500,separator:":",theme:{colors:[nh],spacing:[zd,qd],blur:["none","",Yd,Qd],brightness:P(),borderColor:[e],borderRadius:["none","","full",Yd,Qd],borderSpacing:A(),borderWidth:T(),contrast:P(),grayscale:I(),hueRotate:P(),invert:I(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[Gd,qd],inset:C(),margin:C(),opacity:P(),padding:A(),saturate:P(),scale:P(),sepia:I(),skew:P(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Qd]}],container:["container"],columns:[{columns:[Yd]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Qd]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kd,Qd]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qd]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Kd,Qd]}],"grid-cols":[{"grid-cols":[nh]}],"col-start-end":[{col:["auto",{span:["full",Kd,Qd]},Qd]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[nh]}],"row-start-end":[{row:["auto",{span:[Kd,Qd]},Qd]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qd]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qd]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qd,t]}],"min-w":[{"min-w":[Qd,t,"min","max","fit"]}],"max-w":[{"max-w":[Qd,t,"none","full","min","max","fit","prose",{screen:[Yd]},Yd]}],h:[{h:[Qd,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qd,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qd,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qd,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Yd,qd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wd]}],"font-family":[{font:[nh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qd]}],"line-clamp":[{"line-clamp":["none",Hd,Wd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zd,Qd]}],"list-image":[{"list-image":["none",Qd]}],"list-style-type":[{list:["none","disc","decimal",Qd]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zd,qd]}],"underline-offset":[{"underline-offset":["auto",zd,Qd]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qd]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qd]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Zd]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jd]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eh]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[zd,Qd]}],"outline-w":[{outline:[zd,qd]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[zd,qd]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Yd,th]}],"shadow-color":[{shadow:[nh]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Yd,Qd]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qd]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",Qd]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qd]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Kd,Qd]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qd]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qd]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qd]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[zd,qd,Wd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),ch=Dd(lh);function uh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ch(md(t))}const dh=e=>{let{words:t,className:n,filter:i=!0,duration:o=.5}=e;const[s,a]=hd();let l=t?t.split("\n"):[];(0,r.useEffect)((()=>{s.current&&l.length>0&&a("div",{opacity:1,filter:i?"blur(0px)":"none"},{duration:o||1,delay:fd(.2)})}),[s,a,i,o,l.length]);return(0,jn.jsx)("div",{className:uh("font-bold",n),children:(0,jn.jsx)("div",{className:"mt-4",children:(0,jn.jsx)("div",{className:" dark:text-white text-black text-2xl leading-snug tracking-wide",children:(0,jn.jsx)(Bu.div,{ref:s,initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:.2}},children:l.map(((e,t)=>{const n=e.split('<span class="accent-text">'),r=n[0],o=n.length>1?n[1].split("</span>"):[],s=o[0],a=o.length>1?o[1]:"";return(0,jn.jsxs)(Bu.div,{className:"dark:text-white text-black",style:{filter:i?"blur(5px)":"none"},children:[r,s&&(0,jn.jsx)("span",{className:"accent-text",children:s}),a]},t)}))})})})})};var hh;const fh=["title","titleId"];function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ph.apply(null,arguments)}function mh(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,fh);return r.createElement("svg",ph({width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,hh||(hh=r.createElement("path",{d:"M13.2511 22.4015C13.2511 22.7112 13.3553 22.994 13.5325 23.2203C13.601 23.3112 13.6814 23.3931 13.7722 23.46L18.4203 28.1082L17.1772 29.3529L9.24318 21.4189L8 20.1757L9.24318 18.9325L17.1742 11L18.4174 12.2432L13.6903 16.9717C13.6591 17 13.6278 17.0313 13.5995 17.0625C13.3836 17.2993 13.2511 17.6179 13.2511 17.9633C13.2511 18.7032 13.8511 19.3032 14.5911 19.3032H32V21.0615H14.5911C13.8511 21.0615 13.2511 21.6615 13.2511 22.4015Z",fill:"#494750"})))}const gh=r.forwardRef(mh);n.p;var vh;const yh=["title","titleId"];function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bh.apply(null,arguments)}function wh(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,yh);return r.createElement("svg",bh({width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,vh||(vh=r.createElement("path",{d:"M31 14.7783L30.0887 13.2224L23.1579 17.1661C22.1594 17.7342 20.9119 17.0238 20.9119 15.8887V8H19.0893V15.8875C19.0893 17.0238 17.8418 17.733 16.8434 17.1649L9.91132 13.2224L9 14.7783L15.9308 18.722C16.9293 19.2901 16.9293 20.7099 15.9308 21.278L9 25.2217L9.91132 26.7776L16.8421 22.8339C17.8406 22.2658 19.0881 22.9762 19.0881 24.1113V31.9988H20.9107V24.1113C20.9107 22.975 22.1582 22.2658 23.1566 22.8339L30.0874 26.7776L30.9988 25.2217L24.068 21.278C23.0695 20.7099 23.0695 19.2901 24.068 18.722L30.9988 14.7783H31Z",fill:"#E682FF"})))}const xh=r.forwardRef(wh);n.p;function Sh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in e){const o=e[i];let s="",a=!0;for(let e=0;e<o.length;e+=1){const r=o[e];r&&(s+=(!0===a?"":" ")+t(r),a=!1,n&&n[r]&&(s+=" "+n[r]))}r[i]=s}return r}function Eh(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.searchParams.append("args[]",e))),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}const kh=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function Ch(e){return kh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function Ah(e){if(e.type)return e;if("#"===e.charAt(0))return Ah(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Eh(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(Eh(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const Th=(e,t)=>{try{return(e=>{const t=Ah(e);return t.values.slice(0,3).map(((e,n)=>t.type.includes("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")})(e)}catch(n){return e}};function _h(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):t.includes("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=t.includes("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Ih(e){e=Ah(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),_h({type:a,values:l})}function Ph(e){let t="hsl"===(e=Ah(e)).type||"hsla"===e.type?Ah(Ih(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Nh(e,t){return e=Ah(e),t=Ch(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,_h(e)}function Dh(e,t,n){try{return Nh(e,t)}catch(r){return e}}function Rh(e,t){if(e=Ah(e),t=Ch(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return _h(e)}function Oh(e,t,n){try{return Rh(e,t)}catch(r){return e}}function jh(e,t){if(e=Ah(e),t=Ch(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return _h(e)}function Mh(e,t,n){try{return jh(e,t)}catch(r){return e}}function Lh(e,t,n){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return Ph(e)>.5?Rh(e,t):jh(e,t)}(e,t)}catch(r){return e}}function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fh.apply(null,arguments)}var Vh=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Uh=Math.abs,Bh=String.fromCharCode,zh=Object.assign;function qh(e){return e.trim()}function Hh(e,t,n){return e.replace(t,n)}function Wh(e,t){return e.indexOf(t)}function Kh(e,t){return 0|e.charCodeAt(t)}function Gh(e,t,n){return e.slice(t,n)}function Qh(e){return e.length}function Yh(e){return e.length}function Xh(e,t){return t.push(e),e}var Jh=1,Zh=1,$h=0,ef=0,tf=0,nf="";function rf(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Jh,column:Zh,length:s,return:""}}function of(e,t){return zh(rf("",null,null,"",null,null,0),e,{length:-e.length},t)}function sf(){return tf=ef<$h?Kh(nf,ef++):0,Zh++,10===tf&&(Zh=1,Jh++),tf}function af(){return Kh(nf,ef)}function lf(){return ef}function cf(e,t){return Gh(nf,e,t)}function uf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function df(e){return Jh=Zh=1,$h=Qh(nf=e),ef=0,[]}function hf(e){return nf="",e}function ff(e){return qh(cf(ef-1,gf(91===e?e+2:40===e?e+1:e)))}function pf(e){for(;(tf=af())&&tf<33;)sf();return uf(e)>2||uf(tf)>3?"":" "}function mf(e,t){for(;--t&&sf()&&!(tf<48||tf>102||tf>57&&tf<65||tf>70&&tf<97););return cf(e,lf()+(t<6&&32==af()&&32==sf()))}function gf(e){for(;sf();)switch(tf){case e:return ef;case 34:case 39:34!==e&&39!==e&&gf(tf);break;case 40:41===e&&gf(e);break;case 92:sf()}return ef}function vf(e,t){for(;sf()&&e+tf!==57&&(e+tf!==84||47!==af()););return"/*"+cf(t,ef-1)+"*"+Bh(47===e?e:sf())}function yf(e){for(;!uf(af());)sf();return cf(e,ef)}var bf="-ms-",wf="-moz-",xf="-webkit-",Sf="comm",Ef="rule",kf="decl",Cf="@keyframes";function Af(e,t){for(var n="",r=Yh(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Tf(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case kf:return e.return=e.return||e.value;case Sf:return"";case Cf:return e.return=e.value+"{"+Af(e.children,r)+"}";case Ef:e.value=e.props.join(",")}return Qh(n=Af(e.children,r))?e.return=e.value+"{"+n+"}":""}function _f(e){return hf(If("",null,null,null,[""],e=df(e),0,[0],e))}function If(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",w=i,x=o,S=r,E=b;g;)switch(p=y,y=sf()){case 40:if(108!=p&&58==Kh(E,d-1)){-1!=Wh(E+=Hh(ff(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:E+=ff(y);break;case 9:case 10:case 13:case 32:E+=pf(p);break;case 92:E+=mf(lf()-1,7);continue;case 47:switch(af()){case 42:case 47:Xh(Nf(vf(sf(),lf()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=Qh(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(E=Hh(E,/\f/g,"")),f>0&&Qh(E)-d&&Xh(f>32?Df(E+";",r,n,d-1):Df(Hh(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(Xh(S=Pf(E,t,n,c,u,i,a,b,w=[],x=[],d),o),123===y)if(0===u)If(E,t,S,S,w,o,d,a,x);else switch(99===h&&110===Kh(E,3)?100:h){case 100:case 108:case 109:case 115:If(e,S,S,r&&Xh(Pf(e,S,S,0,0,i,a,b,i,w=[],d),x),i,x,d,a,r?w:x);break;default:If(E,S,S,S,[""],x,0,a,x)}}c=u=f=0,m=v=1,b=E="",d=s;break;case 58:d=1+Qh(E),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==(tf=ef>0?Kh(nf,--ef):0,Zh--,10===tf&&(Zh=1,Jh--),tf))continue;switch(E+=Bh(y),y*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(Qh(E)-1)*v,v=1;break;case 64:45===af()&&(E+=ff(sf())),h=af(),u=d=Qh(b=E+=yf(lf())),y++;break;case 45:45===p&&2==Qh(E)&&(m=0)}}return o}function Pf(e,t,n,r,i,o,s,a,l,c,u){for(var d=i-1,h=0===i?o:[""],f=Yh(h),p=0,m=0,g=0;p<r;++p)for(var v=0,y=Gh(e,d+1,d=Uh(m=s[p])),b=e;v<f;++v)(b=qh(m>0?h[v]+" "+y:Hh(y,/&\f/g,h[v])))&&(l[g++]=b);return rf(e,t,n,0===i?Ef:a,l,c,u)}function Nf(e,t,n){return rf(e,t,n,Sf,Bh(tf),Gh(e,2,-2),0)}function Df(e,t,n,r){return rf(e,t,n,kf,Gh(e,0,r),Gh(e,r+1,-1),r)}var Rf=function(e,t,n){for(var r=0,i=0;r=i,i=af(),38===r&&12===i&&(t[n]=1),!uf(i);)sf();return cf(e,ef)},Of=function(e,t){return hf(function(e,t){var n=-1,r=44;do{switch(uf(r)){case 0:38===r&&12===af()&&(t[n]=1),e[n]+=Rf(ef-1,t,n);break;case 2:e[n]+=ff(r);break;case 4:if(44===r){e[++n]=58===af()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Bh(r)}}while(r=sf());return e}(df(e),t))},jf=new WeakMap,Mf=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||jf.get(n))&&!r){jf.set(e,!0);for(var i=[],o=Of(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},Lf=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Ff(e,t){switch(function(e,t){return 45^Kh(e,0)?(((t<<2^Kh(e,0))<<2^Kh(e,1))<<2^Kh(e,2))<<2^Kh(e,3):0}(e,t)){case 5103:return xf+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return xf+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return xf+e+wf+e+bf+e+e;case 6828:case 4268:return xf+e+bf+e+e;case 6165:return xf+e+bf+"flex-"+e+e;case 5187:return xf+e+Hh(e,/(\w+).+(:[^]+)/,xf+"box-$1$2"+bf+"flex-$1$2")+e;case 5443:return xf+e+bf+"flex-item-"+Hh(e,/flex-|-self/,"")+e;case 4675:return xf+e+bf+"flex-line-pack"+Hh(e,/align-content|flex-|-self/,"")+e;case 5548:return xf+e+bf+Hh(e,"shrink","negative")+e;case 5292:return xf+e+bf+Hh(e,"basis","preferred-size")+e;case 6060:return xf+"box-"+Hh(e,"-grow","")+xf+e+bf+Hh(e,"grow","positive")+e;case 4554:return xf+Hh(e,/([^-])(transform)/g,"$1"+xf+"$2")+e;case 6187:return Hh(Hh(Hh(e,/(zoom-|grab)/,xf+"$1"),/(image-set)/,xf+"$1"),e,"")+e;case 5495:case 3959:return Hh(e,/(image-set\([^]*)/,xf+"$1$`$1");case 4968:return Hh(Hh(e,/(.+:)(flex-)?(.*)/,xf+"box-pack:$3"+bf+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+xf+e+e;case 4095:case 3583:case 4068:case 2532:return Hh(e,/(.+)-inline(.+)/,xf+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qh(e)-1-t>6)switch(Kh(e,t+1)){case 109:if(45!==Kh(e,t+4))break;case 102:return Hh(e,/(.+:)(.+)-([^]+)/,"$1"+xf+"$2-$3$1"+wf+(108==Kh(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Wh(e,"stretch")?Ff(Hh(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Kh(e,t+1))break;case 6444:switch(Kh(e,Qh(e)-3-(~Wh(e,"!important")&&10))){case 107:return Hh(e,":",":"+xf)+e;case 101:return Hh(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+xf+(45===Kh(e,14)?"inline-":"")+"box$3$1"+xf+"$2$3$1"+bf+"$2box$3")+e}break;case 5936:switch(Kh(e,t+11)){case 114:return xf+e+bf+Hh(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return xf+e+bf+Hh(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return xf+e+bf+Hh(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return xf+e+bf+e+e}return e}var Vf=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case kf:e.return=Ff(e.value,e.length);break;case Cf:return Af([of(e,{value:Hh(e.value,"@","@"+xf)})],r);case Ef:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Af([of(e,{props:[Hh(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Af([of(e,{props:[Hh(t,/:(plac\w+)/,":"+xf+"input-$1")]}),of(e,{props:[Hh(t,/:(plac\w+)/,":-moz-$1")]}),of(e,{props:[Hh(t,/:(plac\w+)/,bf+"input-$1")]})],r)}return""}))}}],Uf=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,o=e.stylisPlugins||Vf,s={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l,c,u=[Tf,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=Yh(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([Mf,Lf].concat(o,u));i=function(e,t,n,r){l=n,Af(_f(e?e+"{"+t.styles+"}":t.styles),d),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Vh({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return h.sheet.hydrate(a),h};function Bf(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var zf=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},qf=function(e,t,n){zf(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};var Hf={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Wf(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Kf=/[A-Z]|^ms/g,Gf=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Qf=function(e){return 45===e.charCodeAt(1)},Yf=function(e){return null!=e&&"boolean"!==typeof e},Xf=Wf((function(e){return Qf(e)?e:e.replace(Kf,"-$&").toLowerCase()})),Jf=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Gf,(function(e,t,n){return $f={name:t,styles:n,next:$f},t}))}return 1===Hf[e]||Qf(e)||"number"!==typeof t||0===t?t:t+"px"};function Zf(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return $f={name:i.name,styles:i.styles,next:$f},i.name;var o=n;if(void 0!==o.styles){var s=o.next;if(void 0!==s)for(;void 0!==s;)$f={name:s.name,styles:s.styles,next:$f},s=s.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Zf(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s){var a=s;null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":Yf(a)&&(r+=Xf(o)+":"+Jf(o,a)+";")}else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=Zf(e,t,s);switch(o){case"animation":case"animationName":r+=Xf(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<s.length;c++)Yf(s[c])&&(r+=Xf(o)+":"+Jf(o,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=$f,l=n(e);return $f=a,Zf(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var $f,ep=/label:\s*([^\s;{]+)\s*(;|$)/g;function tp(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";$f=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Zf(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++){if(i+=Zf(n,t,e[s]),r)i+=o[s]}ep.lastIndex=0;for(var a,l="";null!==(a=ep.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:$f}}var np=!!i.useInsertionEffect&&i.useInsertionEffect,rp=np||function(e){return e()},ip=(np||r.useLayoutEffect,r.createContext("undefined"!==typeof HTMLElement?Uf({key:"css"}):null)),op=(ip.Provider,function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(ip);return e(t,i,n)}))}),sp=r.createContext({});var ap={}.hasOwnProperty,lp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",cp=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return zf(t,n,r),rp((function(){return qf(t,n,r)})),null},up=op((function(e,t,n){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var o=e[lp],s=[i],a="";"string"===typeof e.className?a=Bf(t.registered,s,e.className):null!=e.className&&(a=e.className+" ");var l=tp(s,void 0,r.useContext(sp));a+=t.key+"-"+l.name;var c={};for(var u in e)ap.call(e,u)&&"css"!==u&&u!==lp&&(c[u]=e[u]);return c.className=a,n&&(c.ref=n),r.createElement(r.Fragment,null,r.createElement(cp,{cache:t,serialized:l,isStringTag:"string"===typeof o}),r.createElement(o,c))})),dp=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,hp=Wf((function(e){return dp.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),fp=function(e){return"theme"!==e},pp=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?hp:fp},mp=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},gp=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return zf(t,n,r),rp((function(){return qf(t,n,r)})),null},vp=function e(t,n){var i,o,s=t.__emotion_real===t,a=s&&t.__emotion_base||t;void 0!==n&&(i=n.label,o=n.target);var l=mp(t,n,s),c=l||pp(a),u=!c("as");return function(){var d=arguments,h=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{var f=d[0];h.push(f[0]);for(var p=d.length,m=1;m<p;m++)h.push(d[m],f[m])}var g=op((function(e,t,n){var i=u&&e.as||a,s="",d=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=r.useContext(sp)}"string"===typeof e.className?s=Bf(t.registered,d,e.className):null!=e.className&&(s=e.className+" ");var m=tp(h.concat(d),t.registered,f);s+=t.key+"-"+m.name,void 0!==o&&(s+=" "+o);var g=u&&void 0===l?pp(i):c,v={};for(var y in e)u&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=s,n&&(v.ref=n),r.createElement(r.Fragment,null,r.createElement(gp,{cache:t,serialized:m,isStringTag:"string"===typeof i}),r.createElement(i,v))}));return g.displayName=void 0!==i?i:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=a,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(t,r){return e(t,Fh({},n,r,{shouldForwardProp:mp(g,r,!0)})).apply(void 0,h)},g}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){vp[e]=vp(e)}));const yp=[];function bp(e){return yp[0]=e,tp(yp)}var wp=n(191);function xp(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Sp(e){if(r.isValidElement(e)||(0,wp.Hy)(e)||!xp(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=Sp(e[n])})),t}function Ep(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const i=n.clone?(0,In.A)({},e):e;return xp(e)&&xp(t)&&Object.keys(t).forEach((o=>{r.isValidElement(t[o])||(0,wp.Hy)(t[o])?i[o]=t[o]:xp(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&xp(e[o])?i[o]=Ep(e[o],t[o],n):n.clone?i[o]=xp(t[o])?Sp(t[o]):t[o]:i[o]=t[o]})),i}const kp=["values","unit","step"];function Cp(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=er(e,kp),o=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,In.A)((0,In.A)({},e),{},{[t.key]:t.val})),{})})(t),s=Object.keys(o);function a(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function l(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function c(e,i){const o=s.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[s[o]]?t[s[o]]:i)-r/100).concat(n,")")}return(0,In.A)({keys:s,values:o,up:a,down:l,between:c,only:function(e){return s.indexOf(e)+1<s.length?c(e,s[s.indexOf(e)+1]):a(e)},not:function(e){const t=s.indexOf(e);return 0===t?a(s[1]):t===s.length-1?l(s[t]):c(e,s[s.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}const Ap={borderRadius:4},Tp={xs:0,sm:600,md:900,lg:1200,xl:1536},_p={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(Tp[e],"px)")},Ip={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:Tp[t]||t;return"number"===typeof n&&(n="".concat(n,"px")),e?"@container ".concat(e," (min-width:").concat(n,")"):"@container (min-width:".concat(n,")")}})};function Pp(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||_p;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||_p;return Object.keys(t).reduce(((i,o)=>{if(s=e.keys,"@"===(a=o)||a.startsWith("@")&&(s.some((e=>a.startsWith("@".concat(e))))||a.match(/^@\d/))){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}(r.containerQueries?r:Ip,o);e&&(i[e]=n(t[o],o))}else if(Object.keys(e.values||Tp).includes(o)){i[e.up(o)]=n(t[o],o)}else{const e=o;i[e]=t[e]}var s,a;return i}),{})}return n(t)}function Np(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=t.keys)||void 0===e?void 0:e.reduce(((e,n)=>(e[t.up(n)]={},e)),{}))||{}}function Dp(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function Rp(e){if("string"!==typeof e)throw new Error(Eh(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Op(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function jp(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:Op(e,n)||i,t&&(r=t(r,i,e)),r}const Mp=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],s=Op(e.theme,r)||{};return Pp(e,o,(e=>{let r=jp(s,i,e);return e===r&&"string"===typeof e&&(r=jp(s,i,"".concat(t).concat("default"===e?"":Rp(e)),e)),!1===n?r:{[n]:r}}))};return o.propTypes={},o.filterProps=[t],o};const Lp=function(e,t){return t?Ep(e,t,{clone:!1}):e};const Fp={m:"margin",p:"padding"},Vp={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Up={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Bp=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!Up[e])return[e];e=Up[e]}const[t,n]=e.split(""),r=Fp[t],i=Vp[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),zp=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],qp=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Hp=[...zp,...qp];function Wp(e,t,n,r){var i;const o=null!==(i=Op(e,t,!0))&&void 0!==i?i:n;return"number"===typeof o||"string"===typeof o?e=>"string"===typeof e?e:"string"===typeof o?"calc(".concat(e," * ").concat(o,")"):o*e:Array.isArray(o)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=o[t];return e>=0?n:"number"===typeof n?-n:"-".concat(n)}:"function"===typeof o?o:()=>{}}function Kp(e){return Wp(e,"spacing",8)}function Gp(e,t){return"string"===typeof t||null==t?t:e(t)}function Qp(e,t,n,r){if(!t.includes(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=Gp(t,n),e)),{})}(Bp(n),r);return Pp(e,e[n],i)}function Yp(e,t){const n=Kp(e.theme);return Object.keys(e).map((r=>Qp(e,t,r,n))).reduce(Lp,{})}function Xp(e){return Yp(e,zp)}function Jp(e){return Yp(e,qp)}function Zp(e){return Yp(e,Hp)}Xp.propTypes={},Xp.filterProps=zp,Jp.propTypes={},Jp.filterProps=qp,Zp.propTypes={},Zp.filterProps=Hp;function $p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kp({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}const em=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?Lp(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function tm(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function nm(e,t){return Mp({prop:e,themeKey:"borders",transform:t})}const rm=nm("border",tm),im=nm("borderTop",tm),om=nm("borderRight",tm),sm=nm("borderBottom",tm),am=nm("borderLeft",tm),lm=nm("borderColor"),cm=nm("borderTopColor"),um=nm("borderRightColor"),dm=nm("borderBottomColor"),hm=nm("borderLeftColor"),fm=nm("outline",tm),pm=nm("outlineColor"),mm=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=Wp(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:Gp(t,e)});return Pp(e,e.borderRadius,n)}return null};mm.propTypes={},mm.filterProps=["borderRadius"];em(rm,im,om,sm,am,lm,cm,um,dm,hm,mm,fm,pm);const gm=e=>{if(void 0!==e.gap&&null!==e.gap){const t=Wp(e.theme,"spacing",8),n=e=>({gap:Gp(t,e)});return Pp(e,e.gap,n)}return null};gm.propTypes={},gm.filterProps=["gap"];const vm=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=Wp(e.theme,"spacing",8),n=e=>({columnGap:Gp(t,e)});return Pp(e,e.columnGap,n)}return null};vm.propTypes={},vm.filterProps=["columnGap"];const ym=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=Wp(e.theme,"spacing",8),n=e=>({rowGap:Gp(t,e)});return Pp(e,e.rowGap,n)}return null};ym.propTypes={},ym.filterProps=["rowGap"];em(gm,vm,ym,Mp({prop:"gridColumn"}),Mp({prop:"gridRow"}),Mp({prop:"gridAutoFlow"}),Mp({prop:"gridAutoColumns"}),Mp({prop:"gridAutoRows"}),Mp({prop:"gridTemplateColumns"}),Mp({prop:"gridTemplateRows"}),Mp({prop:"gridTemplateAreas"}),Mp({prop:"gridArea"}));function bm(e,t){return"grey"===t?t:e}em(Mp({prop:"color",themeKey:"palette",transform:bm}),Mp({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:bm}),Mp({prop:"backgroundColor",themeKey:"palette",transform:bm}));function wm(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const xm=Mp({prop:"width",transform:wm}),Sm=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n||null===(n=n.values)||void 0===n?void 0:n[t])||Tp[t];return i?"px"!==(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:wm(t)}};return Pp(e,e.maxWidth,t)}return null};Sm.filterProps=["maxWidth"];const Em=Mp({prop:"minWidth",transform:wm}),km=Mp({prop:"height",transform:wm}),Cm=Mp({prop:"maxHeight",transform:wm}),Am=Mp({prop:"minHeight",transform:wm}),Tm=(Mp({prop:"size",cssProperty:"width",transform:wm}),Mp({prop:"size",cssProperty:"height",transform:wm}),em(xm,Sm,Em,km,Cm,Am,Mp({prop:"boxSizing"})),{border:{themeKey:"borders",transform:tm},borderTop:{themeKey:"borders",transform:tm},borderRight:{themeKey:"borders",transform:tm},borderBottom:{themeKey:"borders",transform:tm},borderLeft:{themeKey:"borders",transform:tm},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:tm},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:mm},color:{themeKey:"palette",transform:bm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:bm},backgroundColor:{themeKey:"palette",transform:bm},p:{style:Jp},pt:{style:Jp},pr:{style:Jp},pb:{style:Jp},pl:{style:Jp},px:{style:Jp},py:{style:Jp},padding:{style:Jp},paddingTop:{style:Jp},paddingRight:{style:Jp},paddingBottom:{style:Jp},paddingLeft:{style:Jp},paddingX:{style:Jp},paddingY:{style:Jp},paddingInline:{style:Jp},paddingInlineStart:{style:Jp},paddingInlineEnd:{style:Jp},paddingBlock:{style:Jp},paddingBlockStart:{style:Jp},paddingBlockEnd:{style:Jp},m:{style:Xp},mt:{style:Xp},mr:{style:Xp},mb:{style:Xp},ml:{style:Xp},mx:{style:Xp},my:{style:Xp},margin:{style:Xp},marginTop:{style:Xp},marginRight:{style:Xp},marginBottom:{style:Xp},marginLeft:{style:Xp},marginX:{style:Xp},marginY:{style:Xp},marginInline:{style:Xp},marginInlineStart:{style:Xp},marginInlineEnd:{style:Xp},marginBlock:{style:Xp},marginBlockStart:{style:Xp},marginBlockEnd:{style:Xp},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gm},rowGap:{style:ym},columnGap:{style:vm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:wm},maxWidth:{style:Sm},minWidth:{transform:wm},height:{transform:wm},maxHeight:{transform:wm},minHeight:{transform:wm},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const _m=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:s=e,themeKey:a,transform:l,style:c}=o;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=Op(n,a)||{};if(c)return c(i);return Pp(i,t,(t=>{let n=jp(u,l,t);return t===n&&"string"===typeof t&&(n=jp(u,l,"".concat(e).concat("default"===t?"":Rp(t)),t)),!1===s?n:{[s]:n}}))}return function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=null!==(r=o.unstable_sxConfig)&&void 0!==r?r:Tm;function a(n){let r=n;if("function"===typeof n)r=n(o);else if("object"!==typeof n)return n;if(!r)return null;const i=Np(o.breakpoints),a=Object.keys(i);let l=i;return Object.keys(r).forEach((n=>{const i=(a=r[n],c=o,"function"===typeof a?a(c):a);var a,c;if(null!==i&&void 0!==i)if("object"===typeof i)if(s[n])l=Lp(l,e(n,i,o,s));else{const e=Pp({theme:o},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,i)?l=Lp(l,e):l[n]=t({sx:i,theme:o})}else l=Lp(l,e(n,i,o,s))})),function(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter((e=>e.startsWith("@container"))).sort(((e,t)=>{var n,r;const i=/min-width:\s*([0-9.]+)/;return+((null===(n=e.match(i))||void 0===n?void 0:n[1])||0)-+((null===(r=t.match(i))||void 0===r?void 0:r[1])||0)}));return n.length?n.reduce(((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e}),(0,In.A)({},t)):t}(o,Dp(a,l))}return Array.isArray(i)?i.map(a):a(i)}}();_m.filterProps=["sx"];const Im=_m;function Pm(e,t){const n=this;if(n.vars){var r;if(null===(r=n.colorSchemes)||void 0===r||!r[e]||"function"!==typeof n.getColorSchemeSelector)return{};let i=n.getColorSchemeSelector(e);return"&"===i?t:((i.includes("data-")||i.includes("."))&&(i="*:where(".concat(i.replace(/\s*&$/,""),") &")),{[i]:t})}return n.palette.mode===e?t:{}}const Nm=["breakpoints","palette","spacing","shape"];const Dm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,o=er(e,Nm),s=Cp(t),a=$p(r);let l=Ep({breakpoints:s,direction:"ltr",components:{},palette:(0,In.A)({mode:"light"},n),spacing:a,shape:(0,In.A)((0,In.A)({},Ap),i)},o);l=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=e=>(n(r,e),r);return n(i),(0,In.A)((0,In.A)({},e),{},{containerQueries:i})}(l),l.applyStyles=Pm;for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];return l=u.reduce(((e,t)=>Ep(e,t)),l),l.unstable_sxConfig=(0,In.A)((0,In.A)({},Tm),null===o||void 0===o?void 0:o.unstable_sxConfig),l.unstable_sx=function(e){return Im({sx:e,theme:this})},l},Rm=["variants"];function Om(e){const{variants:t}=e,n=er(e,Rm),r={variants:t,style:bp(n),isProcessed:!0};return r.style===n||t&&t.forEach((e=>{"function"!==typeof e.style&&(e.style=bp(e.style))})),r}const jm=["variants"],Mm=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Lm=Dm();function Fm(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function Vm(e){return e?(t,n)=>n[e]:null}function Um(e,t){const n="function"===typeof t?t(e):t;if(Array.isArray(n))return n.flatMap((t=>Um(e,t)));if(Array.isArray(null===n||void 0===n?void 0:n.variants)){let t;if(n.isProcessed)t=n.style;else{const{variants:e}=n;t=er(n,jm)}return Bm(e,n.variants,[t])}return null!==n&&void 0!==n&&n.isProcessed?n.style:n}function Bm(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e:for(let a=0;a<t.length;a+=1){const l=t[a];var i,o;if("function"===typeof l.props){if(null!==(i=n)&&void 0!==i||(n=(0,In.A)((0,In.A)((0,In.A)({},e),e.ownerState),{},{ownerState:e.ownerState})),!l.props(n))continue}else for(const t in l.props){var s;if(e[t]!==l.props[t]&&(null===(s=e.ownerState)||void 0===s?void 0:s[t])!==l.props[t])continue e}if("function"===typeof l.style)null!==(o=n)&&void 0!==o||(n=(0,In.A)((0,In.A)((0,In.A)({},e),e.ownerState),{},{ownerState:e.ownerState})),r.push(l.style(n));else r.push(l.style)}return r}function zm(e,t){}function qm(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const Hm={black:"#000",white:"#fff"},Wm={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Km={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Gm={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Qm={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ym={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Xm={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Jm={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Zm=["mode","contrastThreshold","tonalOffset"];function $m(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hm.white,default:Hm.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const eg=$m();function tg(){return{text:{primary:Hm.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hm.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const ng=tg();function rg(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=jh(e.main,i):"dark"===t&&(e.dark=Rh(e.main,o)))}function ig(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=er(e,Zm),o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ym[200],light:Ym[50],dark:Ym[400]}:{main:Ym[700],light:Ym[400],dark:Ym[800]}}(t),s=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Km[200],light:Km[50],dark:Km[400]}:{main:Km[500],light:Km[300],dark:Km[700]}}(t),a=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Gm[500],light:Gm[300],dark:Gm[700]}:{main:Gm[700],light:Gm[400],dark:Gm[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Xm[400],light:Xm[300],dark:Xm[700]}:{main:Xm[700],light:Xm[500],dark:Xm[900]}}(t),c=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Jm[400],light:Jm[300],dark:Jm[700]}:{main:Jm[800],light:Jm[500],dark:Jm[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Qm[400],light:Qm[300],dark:Qm[700]}:{main:"#ed6c02",light:Qm[500],dark:Qm[900]}}(t);function d(e){const t=function(e,t){const n=Ph(e),r=Ph(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,ng.text.primary)>=n?ng.text.primary:eg.text.primary;return t}const h=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:s=700}=e;if(t=(0,In.A)({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Eh(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Eh(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return rg(t,"light",o,r),rg(t,"dark",s,r),t.contrastText||(t.contrastText=d(t.main)),t};let f;"light"===t?f=$m():"dark"===t&&(f=tg());return Ep((0,In.A)({common:(0,In.A)({},Hm),mode:t,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:Wm,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f),i)}var og=n(526);function sg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const o=r[0];return"string"!==typeof o||o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(o):", var(--".concat(e?"".concat(e,"-"):"").concat(o).concat(t(...r.slice(1)),")")}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...i),")")}}function ag(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;"object"===typeof r&&(t[n]="".concat(r.fontStyle?"".concat(r.fontStyle," "):"").concat(r.fontVariant?"".concat(r.fontVariant," "):"").concat(r.fontWeight?"".concat(r.fontWeight," "):"").concat(r.fontStretch?"".concat(r.fontStretch," "):"").concat(r.fontSize||"").concat(r.lineHeight?"/".concat(r.lineHeight," "):"").concat(r.fontFamily||""))})),t}const lg=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e;t.forEach(((e,o)=>{o===t.length-1?Array.isArray(i)?i[Number(e)]=n:i&&"object"===typeof i&&(i[e]=n):i&&"object"===typeof i&&(i[e]||(i[e]=r.includes(e)?[]:{}),i=i[e])}))};function cg(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},s={};var a,l;return a=(e,t,a)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r="--".concat(n?"".concat(n,"-"):"").concat(e.join("-")),l=((e,t)=>"number"===typeof t?["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t)))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px"):t)(e,t);Object.assign(i,{[r]:l}),lg(o,e,"var(".concat(r,")"),a),lg(s,e,"var(".concat(r,", ").concat(l,")"),a)}},l=e=>"vars"===e[0],function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(t).forEach((t=>{let[i,o]=t;(!l||l&&!l([...n,i]))&&void 0!==o&&null!==o&&("object"===typeof o&&Object.keys(o).length>0?e(o,[...n,i],Array.isArray(o)?[...r,i]:r):a([...n,i],o,r))}))}(e),{css:i,vars:o,varsWithDefaults:s}}const ug=["colorSchemes","components","defaultColorScheme"];const dg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=g,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:o={},components:s,defaultColorScheme:a="light"}=e,l=er(e,ug),{vars:c,css:u,varsWithDefaults:d}=cg(l,t);let h=d;const f={},{[a]:p}=o,m=er(o,[a].map(og.A));if(Object.entries(m||{}).forEach((e=>{let[n,r]=e;const{vars:i,css:o,varsWithDefaults:s}=cg(r,t);h=Ep(h,s),f[n]={css:o,vars:i}})),p){const{css:e,vars:n,varsWithDefaults:r}=cg(p,t);h=Ep(h,r),f[a]={css:e,vars:n}}function g(t,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(r="[".concat(i,'="%s"]')),t){if("media"===r){var s;if(e.defaultColorScheme===t)return":root";const r=(null===(s=o[t])||void 0===s||null===(s=s.palette)||void 0===s?void 0:s.mode)||t;return{["@media (prefers-color-scheme: ".concat(r,")")]:{":root":n}}}if(r)return e.defaultColorScheme===t?":root, ".concat(r.replace("%s",String(t))):r.replace("%s",String(t))}return":root"}return{vars:h,generateThemeVars:()=>{let e=(0,In.A)({},c);return Object.entries(f).forEach((t=>{let[,{vars:n}]=t;e=Ep(e,n)})),e},generateStyleSheets:()=>{const t=[],i=e.defaultColorScheme||"light";function s(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:(0,In.A)({},n)}:e)}s(n(void 0,(0,In.A)({},u)),u);const{[i]:a}=f,l=er(f,[i].map(og.A));if(a){var c;const{css:e}=a,t=null===(c=o[i])||void 0===c||null===(c=c.palette)||void 0===c?void 0:c.mode,l=!r&&t?(0,In.A)({colorScheme:t},e):(0,In.A)({},e);s(n(i,(0,In.A)({},l)),l)}return Object.entries(l).forEach((e=>{var t;let[i,{css:a}]=e;const l=null===(t=o[i])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,c=!r&&l?(0,In.A)({colorScheme:l},a):(0,In.A)({},a);s(n(i,(0,In.A)({},c)),c)})),t}}};const hg=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const fg={textTransform:"uppercase"},pg='"Roboto", "Helvetica", "Arial", sans-serif';function mg(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=pg,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=er(n,hg);const f=i/14,p=d||(e=>"".concat(e/c*f,"rem")),m=(e,t,n,i,o)=>{return(0,In.A)((0,In.A)((0,In.A)({fontFamily:r,fontWeight:e,fontSize:p(t),lineHeight:n},r===pg?{letterSpacing:"".concat((s=i/t,Math.round(1e5*s)/1e5),"em")}:{}),o),u);var s},g={h1:m(o,96,1.167,-1.5),h2:m(o,60,1.2,-.5),h3:m(s,48,1.167,0),h4:m(s,34,1.235,.25),h5:m(s,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(s,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(s,16,1.5,.15),body2:m(s,14,1.43,.15),button:m(a,14,1.75,.4,fg),caption:m(s,12,1.66,.4),overline:m(s,12,2.66,1,fg),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ep((0,In.A)({htmlFontSize:c,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},g),h,{clone:!1})}function gg(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const vg=["none",gg(0,2,1,-1,0,1,1,0,0,1,3,0),gg(0,3,1,-2,0,2,2,0,0,1,5,0),gg(0,3,3,-2,0,3,4,0,0,1,8,0),gg(0,2,4,-1,0,4,5,0,0,1,10,0),gg(0,3,5,-1,0,5,8,0,0,1,14,0),gg(0,3,5,-1,0,6,10,0,0,1,18,0),gg(0,4,5,-2,0,7,10,1,0,2,16,1),gg(0,5,5,-3,0,8,10,1,0,3,14,2),gg(0,5,6,-3,0,9,12,1,0,3,16,2),gg(0,6,6,-3,0,10,14,1,0,4,18,3),gg(0,6,7,-4,0,11,15,1,0,4,20,3),gg(0,7,8,-4,0,12,17,2,0,5,22,4),gg(0,7,8,-4,0,13,19,2,0,5,24,4),gg(0,7,9,-4,0,14,21,2,0,5,26,4),gg(0,8,9,-5,0,15,22,2,0,6,28,5),gg(0,8,10,-5,0,16,24,2,0,6,30,5),gg(0,8,11,-5,0,17,26,2,0,6,32,5),gg(0,9,11,-5,0,18,28,2,0,7,34,6),gg(0,9,12,-6,0,19,29,2,0,7,36,6),gg(0,10,13,-6,0,20,31,3,0,8,38,7),gg(0,10,13,-6,0,21,33,3,0,8,40,7),gg(0,10,14,-6,0,22,35,3,0,8,42,7),gg(0,11,14,-7,0,23,36,3,0,9,44,8),gg(0,11,15,-7,0,24,38,3,0,9,46,8)],yg=["duration","easing","delay"],bg={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},wg={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function xg(e){return"".concat(Math.round(e),"ms")}function Sg(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function Eg(e){const t=(0,In.A)((0,In.A)({},bg),e.easing),n=(0,In.A)((0,In.A)({},wg),e.duration);return(0,In.A)((0,In.A)({getAutoHeightDuration:Sg,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:s=0}=r;er(r,yg);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:xg(i)," ").concat(o," ").concat("string"===typeof s?s:xg(s)))).join(",")}},e),{},{easing:t,duration:n})}const kg={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Cg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,In.A)({},e);return function e(t){const n=Object.entries(t);for(let i=0;i<n.length;i++){const[o,s]=n[i];!xp(r=s)&&"undefined"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r&&"number"!==typeof r&&!Array.isArray(r)||o.startsWith("unstable_")?delete t[o]:xp(s)&&(t[o]=(0,In.A)({},s),e(t[o]))}var r}(t),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(t,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const Ag=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Tg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:i={},transitions:o={},typography:s={},shape:a}=e,l=er(e,Ag);if(e.vars)throw new Error(Eh(20));const c=ig(i),u=Dm(e);let d=Ep(u,{mixins:(h=u.breakpoints,f=n,(0,In.A)({toolbar:{minHeight:56,[h.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[h.up("sm")]:{minHeight:64}}},f)),palette:c,shadows:vg.slice(),typography:mg(c,s),transitions:Eg(o),zIndex:(0,In.A)({},kg)});var h,f;d=Ep(d,l);for(var p=arguments.length,m=new Array(p>1?p-1:0),g=1;g<p;g++)m[g-1]=arguments[g];return d=m.reduce(((e,t)=>Ep(e,t)),d),d.unstable_sxConfig=(0,In.A)((0,In.A)({},Tm),null===l||void 0===l?void 0:l.unstable_sxConfig),d.unstable_sx=function(e){return Im({sx:e,theme:this})},d.toRuntimeSource=Cg,d}const _g=Tg;function Ig(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const Pg=["palette","opacity","overlays"],Ng=[...Array(25)].map(((e,t)=>{if(0===t)return"none";const n=Ig(t);return"linear-gradient(rgba(255 255 255 / ".concat(n,"), rgba(255 255 255 / ").concat(n,"))")}));function Dg(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function Rg(e){return"dark"===e?Ng:[]}function Og(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const jg=e=>[...[...Array(25)].map(((t,n)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(n))),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],Mg=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if("class"===i&&(o=".%s"),"data"===i&&(o="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(o="[".concat(i,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const i={};return jg(e.cssVarPrefix).forEach((e=>{i[e]=n[e],delete n[e]})),"media"===o?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:o?{[o.replace("%s",t)]:i,["".concat(r,", ").concat(o.replace("%s",t))]:n}:{[r]:(0,In.A)((0,In.A)({},n),i)}}if(o&&"media"!==o)return"".concat(r,", ").concat(o.replace("%s",String(t)))}else if(t){if("media"===o)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r},Lg=["palette"],Fg=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function Vg(e,t,n){!e[t]&&n&&(e[t]=n)}function Ug(e){return"string"===typeof e&&e.startsWith("hsl")?Ih(e):e}function Bg(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=Th(Ug(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const zg=e=>{try{return e()}catch(t){}};function qg(e,t,n,r){var i,o,s;if(!t)return;t=!0===t?{}:t;const a="dark"===r?"dark":"light";var l;if(!n)return void(e[r]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r}=e,i=er(e,Pg),o=ig(t);return(0,In.A)({palette:o,opacity:(0,In.A)((0,In.A)({},Dg(o.mode)),n),overlays:r||Rg(o.mode)},i)}((0,In.A)((0,In.A)({},t),{},{palette:(0,In.A)({mode:a},null===(l=t)||void 0===l?void 0:l.palette)})));const c=_g((0,In.A)((0,In.A)({},n),{},{palette:(0,In.A)({mode:a},null===(i=t)||void 0===i?void 0:i.palette)})),{palette:u}=c,d=er(c,Lg);return e[r]=(0,In.A)((0,In.A)({},t),{},{palette:u,opacity:(0,In.A)((0,In.A)({},Dg(a)),null===(o=t)||void 0===o?void 0:o.opacity),overlays:(null===(s=t)||void 0===s?void 0:s.overlays)||Rg(a)}),d}function Hg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:o=Og,colorSchemeSelector:s=(t.light&&t.dark?"media":void 0),rootSelector:a=":root"}=e,l=er(e,Fg),c=Object.keys(t)[0],u=n||(t.light&&"light"!==c?"light":c),d=function(){return sg(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[u]:h,light:f,dark:p}=t,m=er(t,[u,"light","dark"].map(og.A)),g=(0,In.A)({},m);let v=h;if(("dark"===u&&!("dark"in t)||"light"===u&&!("light"in t))&&(v=!0),!v)throw new Error(Eh(21,u));const y=qg(g,v,l,u);f&&!g.light&&qg(g,f,void 0,"light"),p&&!g.dark&&qg(g,p,void 0,"dark");let b=(0,In.A)((0,In.A)({defaultColorScheme:u},y),{},{cssVarPrefix:i,colorSchemeSelector:s,rootSelector:a,getCssVar:d,colorSchemes:g,font:(0,In.A)((0,In.A)({},ag(y.typography)),y.font),spacing:(w=l.spacing,"number"===typeof w?"".concat(w,"px"):"string"===typeof w||"function"===typeof w||Array.isArray(w)?w:"8px")});var w;Object.keys(b.colorSchemes).forEach((e=>{const t=b.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],i=n[2];return d(e,t[r][i])};var r;if("light"===t.mode&&(Vg(t.common,"background","#fff"),Vg(t.common,"onBackground","#000")),"dark"===t.mode&&(Vg(t.common,"background","#000"),Vg(t.common,"onBackground","#fff")),r=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach((e=>{r[e]||(r[e]={})})),"light"===t.mode){Vg(t.Alert,"errorColor",Oh(t.error.light,.6)),Vg(t.Alert,"infoColor",Oh(t.info.light,.6)),Vg(t.Alert,"successColor",Oh(t.success.light,.6)),Vg(t.Alert,"warningColor",Oh(t.warning.light,.6)),Vg(t.Alert,"errorFilledBg",n("palette-error-main")),Vg(t.Alert,"infoFilledBg",n("palette-info-main")),Vg(t.Alert,"successFilledBg",n("palette-success-main")),Vg(t.Alert,"warningFilledBg",n("palette-warning-main")),Vg(t.Alert,"errorFilledColor",zg((()=>t.getContrastText(t.error.main)))),Vg(t.Alert,"infoFilledColor",zg((()=>t.getContrastText(t.info.main)))),Vg(t.Alert,"successFilledColor",zg((()=>t.getContrastText(t.success.main)))),Vg(t.Alert,"warningFilledColor",zg((()=>t.getContrastText(t.warning.main)))),Vg(t.Alert,"errorStandardBg",Mh(t.error.light,.9)),Vg(t.Alert,"infoStandardBg",Mh(t.info.light,.9)),Vg(t.Alert,"successStandardBg",Mh(t.success.light,.9)),Vg(t.Alert,"warningStandardBg",Mh(t.warning.light,.9)),Vg(t.Alert,"errorIconColor",n("palette-error-main")),Vg(t.Alert,"infoIconColor",n("palette-info-main")),Vg(t.Alert,"successIconColor",n("palette-success-main")),Vg(t.Alert,"warningIconColor",n("palette-warning-main")),Vg(t.AppBar,"defaultBg",n("palette-grey-100")),Vg(t.Avatar,"defaultBg",n("palette-grey-400")),Vg(t.Button,"inheritContainedBg",n("palette-grey-300")),Vg(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),Vg(t.Chip,"defaultBorder",n("palette-grey-400")),Vg(t.Chip,"defaultAvatarColor",n("palette-grey-700")),Vg(t.Chip,"defaultIconColor",n("palette-grey-700")),Vg(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Vg(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Vg(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Vg(t.LinearProgress,"primaryBg",Mh(t.primary.main,.62)),Vg(t.LinearProgress,"secondaryBg",Mh(t.secondary.main,.62)),Vg(t.LinearProgress,"errorBg",Mh(t.error.main,.62)),Vg(t.LinearProgress,"infoBg",Mh(t.info.main,.62)),Vg(t.LinearProgress,"successBg",Mh(t.success.main,.62)),Vg(t.LinearProgress,"warningBg",Mh(t.warning.main,.62)),Vg(t.Skeleton,"bg","rgba(".concat(n("palette-text-primaryChannel")," / 0.11)")),Vg(t.Slider,"primaryTrack",Mh(t.primary.main,.62)),Vg(t.Slider,"secondaryTrack",Mh(t.secondary.main,.62)),Vg(t.Slider,"errorTrack",Mh(t.error.main,.62)),Vg(t.Slider,"infoTrack",Mh(t.info.main,.62)),Vg(t.Slider,"successTrack",Mh(t.success.main,.62)),Vg(t.Slider,"warningTrack",Mh(t.warning.main,.62));const e=Lh(t.background.default,.8);Vg(t.SnackbarContent,"bg",e),Vg(t.SnackbarContent,"color",zg((()=>t.getContrastText(e)))),Vg(t.SpeedDialAction,"fabHoverBg",Lh(t.background.paper,.15)),Vg(t.StepConnector,"border",n("palette-grey-400")),Vg(t.StepContent,"border",n("palette-grey-400")),Vg(t.Switch,"defaultColor",n("palette-common-white")),Vg(t.Switch,"defaultDisabledColor",n("palette-grey-100")),Vg(t.Switch,"primaryDisabledColor",Mh(t.primary.main,.62)),Vg(t.Switch,"secondaryDisabledColor",Mh(t.secondary.main,.62)),Vg(t.Switch,"errorDisabledColor",Mh(t.error.main,.62)),Vg(t.Switch,"infoDisabledColor",Mh(t.info.main,.62)),Vg(t.Switch,"successDisabledColor",Mh(t.success.main,.62)),Vg(t.Switch,"warningDisabledColor",Mh(t.warning.main,.62)),Vg(t.TableCell,"border",Mh(Dh(t.divider,1),.88)),Vg(t.Tooltip,"bg",Dh(t.grey[700],.92))}if("dark"===t.mode){Vg(t.Alert,"errorColor",Mh(t.error.light,.6)),Vg(t.Alert,"infoColor",Mh(t.info.light,.6)),Vg(t.Alert,"successColor",Mh(t.success.light,.6)),Vg(t.Alert,"warningColor",Mh(t.warning.light,.6)),Vg(t.Alert,"errorFilledBg",n("palette-error-dark")),Vg(t.Alert,"infoFilledBg",n("palette-info-dark")),Vg(t.Alert,"successFilledBg",n("palette-success-dark")),Vg(t.Alert,"warningFilledBg",n("palette-warning-dark")),Vg(t.Alert,"errorFilledColor",zg((()=>t.getContrastText(t.error.dark)))),Vg(t.Alert,"infoFilledColor",zg((()=>t.getContrastText(t.info.dark)))),Vg(t.Alert,"successFilledColor",zg((()=>t.getContrastText(t.success.dark)))),Vg(t.Alert,"warningFilledColor",zg((()=>t.getContrastText(t.warning.dark)))),Vg(t.Alert,"errorStandardBg",Oh(t.error.light,.9)),Vg(t.Alert,"infoStandardBg",Oh(t.info.light,.9)),Vg(t.Alert,"successStandardBg",Oh(t.success.light,.9)),Vg(t.Alert,"warningStandardBg",Oh(t.warning.light,.9)),Vg(t.Alert,"errorIconColor",n("palette-error-main")),Vg(t.Alert,"infoIconColor",n("palette-info-main")),Vg(t.Alert,"successIconColor",n("palette-success-main")),Vg(t.Alert,"warningIconColor",n("palette-warning-main")),Vg(t.AppBar,"defaultBg",n("palette-grey-900")),Vg(t.AppBar,"darkBg",n("palette-background-paper")),Vg(t.AppBar,"darkColor",n("palette-text-primary")),Vg(t.Avatar,"defaultBg",n("palette-grey-600")),Vg(t.Button,"inheritContainedBg",n("palette-grey-800")),Vg(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),Vg(t.Chip,"defaultBorder",n("palette-grey-700")),Vg(t.Chip,"defaultAvatarColor",n("palette-grey-300")),Vg(t.Chip,"defaultIconColor",n("palette-grey-300")),Vg(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Vg(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Vg(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Vg(t.LinearProgress,"primaryBg",Oh(t.primary.main,.5)),Vg(t.LinearProgress,"secondaryBg",Oh(t.secondary.main,.5)),Vg(t.LinearProgress,"errorBg",Oh(t.error.main,.5)),Vg(t.LinearProgress,"infoBg",Oh(t.info.main,.5)),Vg(t.LinearProgress,"successBg",Oh(t.success.main,.5)),Vg(t.LinearProgress,"warningBg",Oh(t.warning.main,.5)),Vg(t.Skeleton,"bg","rgba(".concat(n("palette-text-primaryChannel")," / 0.13)")),Vg(t.Slider,"primaryTrack",Oh(t.primary.main,.5)),Vg(t.Slider,"secondaryTrack",Oh(t.secondary.main,.5)),Vg(t.Slider,"errorTrack",Oh(t.error.main,.5)),Vg(t.Slider,"infoTrack",Oh(t.info.main,.5)),Vg(t.Slider,"successTrack",Oh(t.success.main,.5)),Vg(t.Slider,"warningTrack",Oh(t.warning.main,.5));const e=Lh(t.background.default,.98);Vg(t.SnackbarContent,"bg",e),Vg(t.SnackbarContent,"color",zg((()=>t.getContrastText(e)))),Vg(t.SpeedDialAction,"fabHoverBg",Lh(t.background.paper,.15)),Vg(t.StepConnector,"border",n("palette-grey-600")),Vg(t.StepContent,"border",n("palette-grey-600")),Vg(t.Switch,"defaultColor",n("palette-grey-300")),Vg(t.Switch,"defaultDisabledColor",n("palette-grey-600")),Vg(t.Switch,"primaryDisabledColor",Oh(t.primary.main,.55)),Vg(t.Switch,"secondaryDisabledColor",Oh(t.secondary.main,.55)),Vg(t.Switch,"errorDisabledColor",Oh(t.error.main,.55)),Vg(t.Switch,"infoDisabledColor",Oh(t.info.main,.55)),Vg(t.Switch,"successDisabledColor",Oh(t.success.main,.55)),Vg(t.Switch,"warningDisabledColor",Oh(t.warning.main,.55)),Vg(t.TableCell,"border",Oh(Dh(t.divider,1),.68)),Vg(t.Tooltip,"bg",Dh(t.grey[700],.92))}Bg(t.background,"default"),Bg(t.background,"paper"),Bg(t.common,"background"),Bg(t.common,"onBackground"),Bg(t,"divider"),Object.keys(t).forEach((e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&Vg(t[e],"mainChannel",Th(Ug(n.main))),n.light&&Vg(t[e],"lightChannel",Th(Ug(n.light))),n.dark&&Vg(t[e],"darkChannel",Th(Ug(n.dark))),n.contrastText&&Vg(t[e],"contrastTextChannel",Th(Ug(n.contrastText))),"text"===e&&(Bg(t[e],"primary"),Bg(t[e],"secondary")),"action"===e&&(n.active&&Bg(t[e],"active"),n.selected&&Bg(t[e],"selected")))}))}));for(var x=arguments.length,S=new Array(x>1?x-1:0),E=1;E<x;E++)S[E-1]=arguments[E];b=S.reduce(((e,t)=>Ep(e,t)),b);const k={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:Mg(b)},{vars:C,generateThemeVars:A,generateStyleSheets:T}=dg(b,k);return b.vars=C,Object.entries(b.colorSchemes[b.defaultColorScheme]).forEach((e=>{let[t,n]=e;b[t]=n})),b.generateThemeVars=A,b.generateStyleSheets=T,b.generateSpacing=function(){return $p(l.spacing,Kp(this))},b.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(s),b.spacing=b.generateSpacing(),b.shouldSkipGeneratingVar=o,b.unstable_sxConfig=(0,In.A)((0,In.A)({},Tm),null===l||void 0===l?void 0:l.unstable_sxConfig),b.unstable_sx=function(e){return Im({sx:e,theme:this})},b.toRuntimeSource=Cg,b}const Wg=["palette","cssVariables","colorSchemes","defaultColorScheme"];function Kg(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]=(0,In.A)((0,In.A)({},!0!==n&&n),{},{palette:ig((0,In.A)((0,In.A)({},!0===n?{}:n.palette),{},{mode:t}))}))}const Gg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:i=(null===t||void 0===t?void 0:t.mode)}=e,o=er(e,Wg),s=i||"light",a=null===r||void 0===r?void 0:r[s],l=(0,In.A)((0,In.A)({},r),t?{[s]:(0,In.A)((0,In.A)({},"boolean"!==typeof a&&a),{},{palette:t})}:void 0);for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];if(!1===n){if(!("colorSchemes"in e))return _g(e,...u);let n=t;"palette"in e||l[s]&&(!0!==l[s]?n=l[s].palette:"dark"===s&&(n={mode:"dark"}));const r=_g((0,In.A)((0,In.A)({},e),{},{palette:n}),...u);return r.defaultColorScheme=s,r.colorSchemes=l,"light"===r.palette.mode&&(r.colorSchemes.light=(0,In.A)((0,In.A)({},!0!==l.light&&l.light),{},{palette:r.palette}),Kg(r,"dark",l.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark=(0,In.A)((0,In.A)({},!0!==l.dark&&l.dark),{},{palette:r.palette}),Kg(r,"light",l.light)),r}return t||"light"in l||"light"!==s||(l.light=!0),Hg((0,In.A)((0,In.A)({},o),{},{colorSchemes:l,defaultColorScheme:s},"boolean"!==typeof n&&n),...u)}(),Qg=Gg,Yg="$$material";const Xg=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},Jg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=Lm,rootShouldForwardProp:r=Fm,slotShouldForwardProp:i=Fm}=e;function o(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(e=>e.filter((e=>e!==Im))));const{name:n,slot:s,skipVariantsResolver:a,skipSx:l,overridesResolver:c=Vm(qm(s))}=t,u=er(t,Mm),d=void 0!==a?a:s&&"Root"!==s&&"root"!==s||!1,h=l||!1;let f=Fm;"Root"===s||"root"===s?f=r:s?f=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(f=void 0);const p=function(e,t){return vp(e,t)}(e,(0,In.A)({shouldForwardProp:f,label:zm(n,s)},u)),m=e=>{if("function"===typeof e&&e.__emotion_real!==e)return function(t){return Um(t,e)};if(xp(e)){const t=Om(e);return t.variants?function(e){return Um(e,t)}:t.style}return e},g=function(){const t=[];for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const a=i.map(m),l=[];if(t.push(o),n&&c&&l.push((function(e){var t;const r=null===(t=e.theme.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.styleOverrides;if(!r)return null;const i={};for(const n in r)i[n]=Um(e,r[n]);return c(e,i)})),n&&!d&&l.push((function(e){var t;const r=e.theme,i=null===r||void 0===r||null===(t=r.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.variants;return i?Bm(e,i):null})),h||l.push(Im),Array.isArray(a[0])){const e=a.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let i;i=[...n,...e,...r],i.raw=[...n,...e.raw,...r],t.unshift(i)}const u=[...t,...a,...l],f=p(...u);return e.muiName&&(f.muiName=e.muiName),f};return p.withConfig&&(g.withConfig=p.withConfig),g}}({themeId:Yg,defaultTheme:Qg,rootShouldForwardProp:e=>Xg(e)&&"classes"!==e});const Zg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(sp);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},$g=Dm();const ev=function(){return Zg(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$g)};const tv={theme:void 0};const nv=function(e){let t,n;return function(r){let i=t;return void 0!==i&&r.theme===n||(tv.theme=r.theme,i=Om(e(tv)),t=i,n=r.theme),i}};function rv(e,t){const n=(0,In.A)({},t);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if("components"===i||"slots"===i)n[i]=(0,In.A)((0,In.A)({},e[i]),n[i]);else if("componentsProps"===i||"slotProps"===i){const r=e[i],o=t[i];if(o)if(r){n[i]=(0,In.A)({},o);for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;n[i][t]=rv(r[t],o[t])}}else n[i]=o;else n[i]=r||{}}else void 0===n[i]&&(n[i]=e[i])}return n}const iv=r.createContext(void 0);function ov(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?rv(i.defaultProps,r):i.styleOverrides||i.variants?r:rv(i,r)}({props:t,name:n,theme:{components:r.useContext(iv)}})}function sv(e){return ov(e)}const av=e=>e,lv=(()=>{let e=av;return{configure(t){e=t},generate:t=>e(t),reset(){e=av}}})(),cv={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function uv(e,t){const n=cv[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(lv.generate(e),"-").concat(t)}function dv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=uv(e,t,n)})),r}function hv(e){return uv("MuiPaper",e)}dv("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const fv=["className","component","elevation","square","variant"],pv=Jg("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})(nv((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:"1px solid ".concat((t.vars||t).palette.divider)}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}}))),mv=r.forwardRef((function(e,t){var n;const r=sv({props:e,name:"MuiPaper"}),i=function(){const e=ev(Qg);return e[Yg]||e}(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:c="elevation"}=r,u=er(r,fv),d=(0,In.A)((0,In.A)({},r),{},{component:s,elevation:a,square:l,variant:c}),h=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return Sh({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},hv,i)})(d);return(0,jn.jsx)(pv,(0,In.A)((0,In.A)({as:s,ownerState:d,className:gd(h.root,o),ref:t},u),{},{style:(0,In.A)((0,In.A)({},"elevation"===c&&(0,In.A)((0,In.A)({"--Paper-shadow":(i.vars||i).shadows[a]},i.vars&&{"--Paper-overlay":null===(n=i.vars.overlays)||void 0===n?void 0:n[a]}),!i.vars&&"dark"===i.palette.mode&&{"--Paper-overlay":"linear-gradient(".concat(Nh("#fff",Ig(a)),", ").concat(Nh("#fff",Ig(a)),")")})),u.style)}))})),gv=Rp;function vv(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const yv=r.createContext();const bv=()=>{const e=r.useContext(yv);return null!==e&&void 0!==e&&e};n(219);var wv=function(e,t){var n=arguments;if(null==t||!ap.call(t,"css"))return r.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=up,o[1]=function(e,t){var n={};for(var r in t)ap.call(t,r)&&(n[r]=t[r]);return n[lp]=e,n}(e,t);for(var s=2;s<i;s++)o[s]=n[s];return r.createElement.apply(null,o)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(wv||(wv={}));function xv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tp(t)}function Sv(){var e=xv.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Ev(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function kv(e){return uv("MuiLinearProgress",e)}dv("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Cv=["className","color","value","valueBuffer","variant"];var Av,Tv,_v,Iv,Pv,Nv;const Dv=Sv(Av||(Av=vv(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"]))),Rv="string"!==typeof Dv?xv(Tv||(Tv=vv(["\n        animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n      "])),Dv):null,Ov=Sv(_v||(_v=vv(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"]))),jv="string"!==typeof Ov?xv(Iv||(Iv=vv(["\n        animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n      "])),Ov):null,Mv=Sv(Pv||(Pv=vv(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"]))),Lv="string"!==typeof Mv?xv(Nv||(Nv=vv(["\n        animation: "," 3s infinite linear;\n      "])),Mv):null,Fv=(e,t)=>e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?jh(e.palette[t].main,.62):Rh(e.palette[t].main,.5),Vv=Jg("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(gv(n.color))],t[n.variant]]}})(nv((e=>{let{theme:t}=e;return{position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(Ev()).map((e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:Fv(t,n)}}})),{props:e=>{let{ownerState:t}=e;return"inherit"===t.color&&"buffer"!==t.variant},style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}}))),Uv=Jg("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t["dashedColor".concat(gv(n.color))]]}})(nv((e=>{let{theme:t}=e;return{position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(Ev()).map((e=>{let[n]=e;const r=Fv(t,n);return{props:{color:n},style:{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)")}}}))]}})),Lv||{animation:"".concat(Mv," 3s infinite linear")}),Bv=Jg("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar1,t["barColor".concat(gv(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})(nv((e=>{let{theme:t}=e;return{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(Ev()).map((e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main}}})),{props:{variant:"determinate"},style:{transition:"transform .".concat(4,"s linear")}},{props:{variant:"buffer"},style:{zIndex:1,transition:"transform .".concat(4,"s linear")}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:Rv||{animation:"".concat(Dv," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite")}}]}}))),zv=Jg("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar2,t["barColor".concat(gv(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})(nv((e=>{let{theme:t}=e;return{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(Ev()).map((e=>{let[n]=e;return{props:{color:n},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[n].main}}})),{props:e=>{let{ownerState:t}=e;return"buffer"!==t.variant&&"inherit"!==t.color},style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:e=>{let{ownerState:t}=e;return"buffer"!==t.variant&&"inherit"===t.color},style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(Ev()).map((e=>{let[n]=e;return{props:{color:n,variant:"buffer"},style:{backgroundColor:Fv(t,n),transition:"transform .".concat(4,"s linear")}}})),{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:jv||{animation:"".concat(Ov," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite")}}]}}))),qv=r.forwardRef((function(e,t){const n=sv({props:e,name:"MuiLinearProgress"}),{className:r,color:i="primary",value:o,valueBuffer:s,variant:a="indeterminate"}=n,l=er(n,Cv),c=(0,In.A)((0,In.A)({},n),{},{color:i,variant:a}),u=(e=>{const{classes:t,variant:n,color:r}=e;return Sh({root:["root","color".concat(gv(r)),n],dashed:["dashed","dashedColor".concat(gv(r))],bar1:["bar","bar1","barColor".concat(gv(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","bar2","buffer"!==n&&"barColor".concat(gv(r)),"buffer"===n&&"color".concat(gv(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]},kv,t)})(c),d=bv(),h={},f={bar1:{},bar2:{}};if("determinate"===a||"buffer"===a)if(void 0!==o){h["aria-valuenow"]=Math.round(o),h["aria-valuemin"]=0,h["aria-valuemax"]=100;let e=o-100;d&&(e=-e),f.bar1.transform="translateX(".concat(e,"%)")}else 0;if("buffer"===a)if(void 0!==s){let e=(s||0)-100;d&&(e=-e),f.bar2.transform="translateX(".concat(e,"%)")}else 0;return(0,jn.jsxs)(Vv,(0,In.A)((0,In.A)((0,In.A)({className:gd(u.root,r),ownerState:c,role:"progressbar"},h),{},{ref:t},l),{},{children:["buffer"===a?(0,jn.jsx)(Uv,{className:u.dashed,ownerState:c}):null,(0,jn.jsx)(Bv,{className:u.bar1,ownerState:c,style:f.bar1}),"determinate"===a?null:(0,jn.jsx)(zv,{className:u.bar2,ownerState:c,style:f.bar2})]}))}));function Hv(e){return uv("MuiMobileStepper",e)}dv("MuiMobileStepper",["root","positionBottom","positionTop","positionStatic","dots","dot","dotActive","progress"]);const Wv=["activeStep","backButton","className","LinearProgressProps","nextButton","position","steps","variant"],Kv=Jg(mv,{name:"MuiMobileStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat(gv(n.position))]]}})(nv((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",background:(t.vars||t).palette.background.default,padding:8,variants:[{props:e=>{let{position:t}=e;return"top"===t||"bottom"===t},style:{position:"fixed",left:0,right:0,zIndex:(t.vars||t).zIndex.mobileStepper}},{props:{position:"top"},style:{top:0}},{props:{position:"bottom"},style:{bottom:0}}]}}))),Gv=Jg("div",{name:"MuiMobileStepper",slot:"Dots",overridesResolver:(e,t)=>t.dots})({variants:[{props:{variant:"dots"},style:{display:"flex",flexDirection:"row"}}]}),Qv=Jg("div",{name:"MuiMobileStepper",slot:"Dot",shouldForwardProp:e=>Xg(e)&&"dotActive"!==e,overridesResolver:(e,t)=>{const{dotActive:n}=e;return[t.dot,n&&t.dotActive]}})(nv((e=>{let{theme:t}=e;return{variants:[{props:{variant:"dots"},style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),backgroundColor:(t.vars||t).palette.action.disabled,borderRadius:"50%",width:8,height:8,margin:"0 2px"}},{props:{variant:"dots",dotActive:!0},style:{backgroundColor:(t.vars||t).palette.primary.main}}]}}))),Yv=Jg(qv,{name:"MuiMobileStepper",slot:"Progress",overridesResolver:(e,t)=>t.progress})({variants:[{props:{variant:"progress"},style:{width:"50%"}}]}),Xv=r.forwardRef((function(e,t){const n=sv({props:e,name:"MuiMobileStepper"}),{activeStep:i=0,backButton:o,className:s,LinearProgressProps:a,nextButton:l,position:c="bottom",steps:u,variant:d="dots"}=n,h=er(n,Wv),f=(0,In.A)((0,In.A)({},n),{},{activeStep:i,position:c,variant:d});let p;"progress"===d&&(p=1===u?100:Math.ceil(i/(u-1)*100));const m=(e=>{const{classes:t,position:n}=e;return Sh({root:["root","position".concat(gv(n))],dots:["dots"],dot:["dot"],dotActive:["dotActive"],progress:["progress"]},Hv,t)})(f);return(0,jn.jsxs)(Kv,(0,In.A)((0,In.A)({square:!0,elevation:0,className:gd(m.root,s),ref:t,ownerState:f},h),{},{children:[o,"text"===d&&(0,jn.jsxs)(r.Fragment,{children:[i+1," / ",u]}),"dots"===d&&(0,jn.jsx)(Gv,{ownerState:f,className:m.dots,children:[...new Array(u)].map(((e,t)=>(0,jn.jsx)(Qv,{className:gd(m.dot,t===i&&m.dotActive),ownerState:f,dotActive:t===i},t)))}),"progress"===d&&(0,jn.jsx)(Yv,(0,In.A)({ownerState:f,className:m.progress,variant:"determinate",value:p},a)),l]}))})),Jv=(0,r.memo)((e=>{let{variant:t="home",title:n,showBackArrow:i,onBack:o,hideProfile:s,children:a,showLiveTime:l=!1,onProfileClick:c,onActionClick:u=()=>{},currentStep:d=0,navigate:h}=e;const[f,p]=(0,r.useState)("");(0,r.useEffect)((()=>{if(l){const e=()=>{const e=new Date,t=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),r=String(e.getSeconds()).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0");p("".concat(t,":").concat(n,":").concat(r,".").concat(i,".").concat(o))};e();const t=setInterval(e,1e3);return()=>clearInterval(t)}}),[l]);const m=()=>{o?o():h("home")};if("onboarding"===t)return(0,jn.jsxs)("div",{className:"header header-onboarding",children:[i&&(0,jn.jsx)("button",{className:"back-button",onClick:m,children:(0,jn.jsx)(gh,{style:{width:"40px",height:"40px"}})}),(0,jn.jsx)(Xv,{className:"onboarding-stepper",variant:"progress",steps:5,activeStep:d,position:"static",nextButton:(0,jn.jsx)("div",{}),backButton:(0,jn.jsx)("div",{})})]});let g=null;return"projectOverview"===t?g=(0,jn.jsx)("span",{className:"header-action",onClick:u,children:"Add project"}):a?g=a:s||(g=(0,jn.jsx)(xh,{className:"profile-pic souko-logo-header spinning-logo",onClick:c,style:{cursor:"pointer"}})),(0,jn.jsxs)("div",{className:"header",children:[(0,jn.jsxs)("div",{className:"header-left-section",children:[i&&(0,jn.jsx)("button",{className:"back-button",onClick:m,children:(0,jn.jsx)(gh,{style:{width:"40px",height:"40px"}})}),n&&(0,jn.jsx)("h1",{className:"header-title",children:n}),l&&(0,jn.jsx)("div",{className:"header-live-time",children:f})]}),(0,jn.jsx)("div",{className:"header-right-section",children:g})]})}));Jv.displayName="Header";const Zv=Jv,$v=e=>{let{navigate:t}=e;const[n,i]=(0,r.useState)(!1),[o,a]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1),u=()=>/iphone|ipad|ipod/.test(window.navigator.userAgent.toLowerCase()),d=()=>"standalone"in window.navigator&&window.navigator.standalone,h=(0,r.useCallback)((async e=>{console.log("processLoginResult - START"),i(!0);try{const n=e.user;console.log("processLoginResult - User object:",n);const r=(0,Pn.doc)(Dn,"profiles",n.uid);(await(0,Pn.getDoc)(r)).exists()?console.log("processLoginResult - Profile already exists for user:",n.uid):(await(0,Pn.setDoc)(r,{uid:n.uid,email:n.email,displayName:n.displayName,profileImageUrl:n.photoURL,featureAccessLevel:"free",createdAt:(0,Pn.serverTimestamp)(),updatedAt:(0,Pn.serverTimestamp)()}),console.log("processLoginResult - New profile created for user:",n.uid)),console.log("processLoginResult - User Info:",n),t("home"),console.log("processLoginResult - Navigated to /home")}catch(n){console.error("processLoginResult - Error:",n),alert("Authentication failed during profile processing. Please try again.")}finally{i(!1),console.log("processLoginResult - FINISH")}}),[t]);(0,r.useEffect)((()=>{console.log("LoginPage useEffect - START"),document.body.classList.add("no-scroll");const e=e=>{e.preventDefault(),console.log("beforeinstallprompt event captured"),a(e),c(!0)};return window.addEventListener("beforeinstallprompt",e),()=>{document.body.classList.remove("no-scroll"),window.removeEventListener("beforeinstallprompt",e),console.log("LoginPage useEffect - CLEANUP")}}),[]);return(0,jn.jsxs)("div",{className:"login-page",children:[(0,jn.jsx)(Zv,{showLiveTime:!0}),(0,jn.jsxs)("main",{className:"login-content",children:[(0,jn.jsxs)("section",{className:"motivational-section",children:[(0,jn.jsx)(dh,{words:"Souko, the song of your roots is the song of now"}),(0,jn.jsx)("h4",{children:"This app is being built in public by @BramVanhaeren\u2014things might break, errors will happen, but that\u2019s all part of creating something cool!"})]}),(0,jn.jsx)("div",{className:"login-actions",children:(0,jn.jsxs)("button",{className:"login-button",onClick:async()=>{console.log("handleLogin - START"),i(!0);try{console.log("handleLogin - Using signInWithPopup");const e=await async function(e,t,n){if((0,s.xZ)(e.app))return Promise.reject(v(e,"operation-not-supported-in-this-environment"));const r=Ee(e);w(e,t,Ye);const i=Lt(r,n);return new Ht(r,"signInViaPopup",t,i).executeNotNull()}(Rn,On);console.log("handleLogin - signInWithPopup result:",e),await h(e)}catch(e){console.error("handleLogin - Login Error:",e),alert("Authentication failed during login. Please try again.")}finally{i(!1),console.log("handleLogin - FINISH")}},disabled:n,children:[(0,jn.jsx)("img",{src:zu,alt:"Google Icon",className:"google-icon"}),"Continue with Google"]})}),(l||u()&&!d())&&(0,jn.jsx)("div",{className:"install-pwa",children:u()&&!d()?(0,jn.jsxs)("h2",{className:"login-pwa",children:["For the best experience, tap the ",(0,jn.jsx)("strong",{children:"Share"})," icon and select ",(0,jn.jsx)("strong",{children:'"Add to Home Screen"'}),"."]}):(0,jn.jsx)("button",{onClick:async()=>{if(o){o.prompt();const e=await o.userChoice;console.log("User response to the install prompt:",e.outcome),"accepted"===e.outcome?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),a(null),c(!1)}},className:"install-button",children:"Add to Home Screen"})})]}),(0,jn.jsx)("div",{className:"sticky-login-container",children:(0,jn.jsxs)("h2",{className:"login-terms",children:["(Beta) By continuing, you agree to our ",(0,jn.jsx)("a",{href:"/terms",className:"login-link",children:"Terms"})," and ",(0,jn.jsx)("a",{href:"/privacy",className:"login-link",children:"Privacy Policy"}),"."]})})]})},ey=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60),i=[];return t>0&&i.push("".concat(t,"h")),(n>0||t>0)&&i.push("".concat(n,"m")),r>0&&0===t&&0===n&&i.push("".concat(r,"s")),i.join(" ").trim()},ty=e=>{const t=Math.floor(e/60),n=Math.floor(e%60),r=[];return t>0&&r.push("".concat(t,"h")),(n>0||t>0)&&r.push("".concat(n,"m")),r.join(" ").trim()||"0m"};var ny,ry,iy,oy;const sy=["title","titleId"];function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ay.apply(null,arguments)}function ly(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,sy);return r.createElement("svg",ay({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,ny||(ny=r.createElement("circle",{cx:32,cy:32,r:32,fill:"url(#paint0_linear_2889_2097)"})),ry||(ry=r.createElement("circle",{cx:32.0001,cy:32.0001,r:29.0909,fill:"url(#paint1_linear_2889_2097)"})),iy||(iy=r.createElement("g",{clipPath:"url(#clip0_2889_2097)"},r.createElement("g",{filter:"url(#filter0_di_2889_2097)"},r.createElement("path",{d:"M24 17.75V44.4062L25.5391 43.4297L44.8516 31.0781L24 17.75Z",fill:"white"})))),oy||(oy=r.createElement("defs",null,r.createElement("filter",{id:"filter0_di_2889_2097",x:23,y:15.75,width:22.8516,height:29.6562,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dy:-1}),r.createElement("feGaussianBlur",{stdDeviation:.5}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),r.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2889_2097"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2889_2097",result:"shape"}),r.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dy:1}),r.createElement("feGaussianBlur",{stdDeviation:.5}),r.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),r.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),r.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_2889_2097"})),r.createElement("linearGradient",{id:"paint0_linear_2889_2097",x1:40.809,y1:354681e-11,x2:40.809,y2:64,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"white"}),r.createElement("stop",{offset:.305,stopColor:"#CFCCCD"}),r.createElement("stop",{offset:.515,stopColor:"#393A3A"}),r.createElement("stop",{offset:.745,stopColor:"#ABABCF"}),r.createElement("stop",{offset:1,stopColor:"#D7B7DE"})),r.createElement("linearGradient",{id:"paint1_linear_2889_2097",x1:32.0001,y1:2.90918,x2:32.0001,y2:61.091,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#BDBDBD"}),r.createElement("stop",{offset:.24,stopColor:"#9FA2A1"}),r.createElement("stop",{offset:.535,stopColor:"#BCBCBC"}),r.createElement("stop",{offset:.85,stopColor:"#818381"}),r.createElement("stop",{offset:1,stopColor:"#818381"})),r.createElement("clipPath",{id:"clip0_2889_2097"},r.createElement("rect",{width:32,height:32,fill:"white",transform:"translate(18 16)"})))))}const cy=r.forwardRef(ly);n.p;var uy,dy,hy,fy;const py=["title","titleId"];function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},my.apply(null,arguments)}function gy(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,py);return r.createElement("svg",my({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,uy||(uy=r.createElement("circle",{cx:32,cy:32,r:32,fill:"url(#paint0_linear_2889_2103)"})),dy||(dy=r.createElement("circle",{cx:32.0001,cy:32.0001,r:29.0909,fill:"url(#paint1_linear_2889_2103)"})),hy||(hy=r.createElement("g",{filter:"url(#filter0_di_2889_2103)"},r.createElement("path",{d:"M23.6667 20C21.6535 20 20 21.6535 20 23.6667V40.3333C20 42.3465 21.6535 44 23.6667 44H40.3333C42.3465 44 44 42.3465 44 40.3333V23.6667C44 21.6535 42.3465 20 40.3333 20H23.6667Z",fill:"white"}))),fy||(fy=r.createElement("defs",null,r.createElement("filter",{id:"filter0_di_2889_2103",x:19,y:18,width:26,height:27,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dy:-1}),r.createElement("feGaussianBlur",{stdDeviation:.5}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),r.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2889_2103"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2889_2103",result:"shape"}),r.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dy:1}),r.createElement("feGaussianBlur",{stdDeviation:.5}),r.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),r.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),r.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_2889_2103"})),r.createElement("linearGradient",{id:"paint0_linear_2889_2103",x1:40.809,y1:354681e-11,x2:40.809,y2:64,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"white"}),r.createElement("stop",{offset:.305,stopColor:"#CFCCCD"}),r.createElement("stop",{offset:.515,stopColor:"#393A3A"}),r.createElement("stop",{offset:.745,stopColor:"#ABABCF"}),r.createElement("stop",{offset:1,stopColor:"#D7B7DE"})),r.createElement("linearGradient",{id:"paint1_linear_2889_2103",x1:32.0001,y1:2.90918,x2:32.0001,y2:61.091,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#BDBDBD"}),r.createElement("stop",{offset:.24,stopColor:"#9FA2A1"}),r.createElement("stop",{offset:.535,stopColor:"#BCBCBC"}),r.createElement("stop",{offset:.85,stopColor:"#818381"}),r.createElement("stop",{offset:1,stopColor:"#818381"})))))}const vy=r.forwardRef(gy);n.p;var yy,by;const wy=["title","titleId"];function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xy.apply(null,arguments)}function Sy(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,wy);return r.createElement("svg",xy({width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,yy||(yy=r.createElement("g",{clipPath:"url(#clip0_3602_4547)"},r.createElement("path",{d:"M33.9734 16.7995C35.3345 16.7536 36.8448 17.0503 38.2613 17.7621C38.9265 18.0962 39.5333 18.5376 39.8328 19.2322C40.2232 20.1377 39.9114 21.0903 39.0806 21.6928C38.031 22.4536 36.8504 22.8655 35.5628 23.0597C34.2625 23.2558 32.9733 23.2766 31.6921 23.0298C30.2257 22.7474 28.8216 22.3212 27.8279 21.0648C27.3851 20.505 27.4406 19.3757 27.831 18.8921C28.5058 18.0559 29.4113 17.6197 30.3842 17.2788C31.4742 16.8972 32.6068 16.7883 33.9734 16.7999V16.7995Z",fill:"#7B7BFF"}),r.createElement("path",{d:"M35.2038 30.8294C33.8435 30.8745 32.6203 30.376 31.4189 29.825C30.0747 29.2085 28.8717 28.3708 27.8353 27.3169C27.2041 26.675 26.6523 25.9696 26.3868 25.0752C26.0718 24.0146 26.5912 23.2116 27.6964 23.0389C29.2782 22.7921 30.7095 23.2482 32.1252 23.8762C33.2028 24.3543 34.2025 24.9496 35.1028 25.7013C36.0705 26.5091 36.9684 27.3811 37.39 28.6244C37.8041 29.8465 37.184 30.6312 36.0414 30.8222C35.7695 30.8677 35.4836 30.829 35.2042 30.829L35.2038 30.8294Z",fill:"#7B7BFF"}),r.createElement("path",{d:"M30.7197 35.6166C30.6862 36.0416 30.683 36.5417 30.3764 36.9775C29.8494 37.7263 29.0884 37.6159 28.3714 37.2442C26.7049 36.381 25.6521 34.9276 24.6851 33.3904C24.024 32.3398 23.5653 31.1966 23.2251 30.0187C22.9604 29.1016 22.8139 28.1439 23.156 27.1869C23.3736 26.5788 24.0707 26.216 24.7039 26.3855C25.7659 26.6694 26.5612 27.3556 27.2786 28.1235C28.2209 29.1319 28.9914 30.2691 29.5967 31.5164C30.2167 32.7931 30.6794 34.109 30.7197 35.6166Z",fill:"#7B7BFF"}),r.createElement("path",{d:"M17.7081 33.8028C17.6438 32.1162 17.94 30.5575 18.4726 29.0395C18.6155 28.632 18.8483 28.2672 19.1314 27.941C19.6528 27.3397 20.3642 27.3481 20.8865 27.953C21.2813 28.4099 21.5452 28.9466 21.7161 29.5136C22.2299 31.217 22.4387 32.9679 22.2978 34.7386C22.1804 36.2132 21.9852 37.6837 21.2546 39.0191C21.1472 39.2153 21.0106 39.3851 20.8729 39.5494C20.3335 40.1918 19.5526 40.1379 19.0483 39.4525C18.5497 38.7747 18.2961 38.0075 18.1013 37.1965C17.827 36.0537 17.6434 34.9093 17.7085 33.8032L17.7081 33.8028Z",fill:"#7B7BFF"}),r.createElement("path",{d:"M16.726 27.8839C16.7064 29.1949 16.2485 30.3584 15.7371 31.4889C14.9402 33.2493 13.9021 34.8634 12.51 36.225C12.0832 36.6425 11.6141 37.0241 11.0575 37.2546C10.0806 37.6593 9.59907 37.3236 9.4234 36.2992C9.31959 35.6947 9.46771 35.0954 9.61504 34.5256C9.92405 33.3334 10.3948 32.193 10.998 31.1145C11.846 29.5993 12.8457 28.1977 14.1832 27.0701C14.5729 26.7415 15.0212 26.4843 15.5327 26.3655C16.0632 26.2419 16.629 26.6267 16.6873 27.167C16.714 27.4162 16.7148 27.6682 16.7256 27.8839H16.726Z",fill:"#7B7BFF"}),r.createElement("path",{d:"M3.77355 30.3981C3.429 30.4049 3.09324 30.3487 2.81257 30.1604C2.45245 29.9192 2.44007 29.4627 2.78502 28.8817C3.32959 27.965 4.11051 27.2668 4.94374 26.6197C6.49401 25.4163 8.19559 24.4832 10.0237 23.7795C10.6841 23.5251 11.376 23.3716 12.0771 23.2803C12.3801 23.2408 12.6839 23.2731 12.9865 23.3632C13.498 23.5155 13.7084 23.8843 13.5207 24.3788C13.2433 25.1097 12.7254 25.6671 12.1685 26.1866C10.8254 27.4399 9.29631 28.4064 7.64104 29.2079C6.40298 29.8076 5.13338 30.2326 3.77355 30.3981Z",fill:"#7B7BFF"}),r.createElement("path",{d:"M27.6049 16.6615C27.4803 16.6615 27.4524 16.6631 27.4244 16.6615C27.0575 16.6384 26.6803 16.6029 26.497 16.2269C26.3113 15.8453 26.5485 15.5287 26.7401 15.2273C27.3897 14.2053 28.3343 13.4852 29.2929 12.7854C30.8875 11.6207 32.6178 10.7048 34.4851 10.0609C35.1399 9.83518 35.8138 9.64817 36.5209 9.66293C37.4148 9.68167 37.693 10.1554 37.2682 10.9433C36.8854 11.6534 36.3049 12.2017 35.6996 12.7045C34.3581 13.8194 32.8913 14.7508 31.3075 15.4913C30.2615 15.9805 29.1927 16.4036 28.0497 16.6101C27.8716 16.6424 27.6895 16.6524 27.6045 16.6619L27.6049 16.6615Z",fill:"#7B7BFF"}),r.createElement("path",{d:"M6.21626 21.7732C4.64523 21.7928 3.10015 21.6022 1.58741 21.1787C1.25604 21.0858 0.929856 20.9498 0.626031 20.788C0.310227 20.6201 -0.00238179 20.4195 1.36796e-05 19.9857C0.00240915 19.5503 0.332186 19.3689 0.63681 19.1874C1.24007 18.8278 1.92557 18.6595 2.6007 18.5491C4.10266 18.3038 5.61979 18.1715 7.14651 18.262C8.48198 18.3409 9.81427 18.4474 11.0982 18.8633C11.5346 19.0044 11.9418 19.2129 12.2844 19.5176C12.619 19.8154 12.5547 20.2353 12.1878 20.5439C11.6456 20.9997 10.9789 21.1755 10.3253 21.3314C8.97904 21.6528 7.60444 21.7948 6.21666 21.774L6.21626 21.7732Z",fill:"#7B7BFF"}),r.createElement("path",{d:"M30.4484 3.65214C30.3398 4.36149 30.24 5.06806 29.9729 5.7475C29.6759 6.50311 29.4048 7.27027 29.0191 7.98481C28.033 9.81062 26.9506 11.571 25.3572 12.9511C25.0003 13.2601 24.6294 13.5532 24.1204 13.5707C23.8317 13.5807 23.6712 13.4614 23.5634 13.1811C23.3203 12.5471 23.5019 11.9299 23.6445 11.3346C24.013 9.79308 24.7125 8.37756 25.5189 7.02505C26.3562 5.6207 27.2792 4.27178 28.5564 3.20915C28.7927 3.01257 29.0634 2.88418 29.3261 2.73306C29.8955 2.40569 30.3342 2.67444 30.4468 3.40094C30.4596 3.48268 30.4484 3.56801 30.4484 3.65175V3.65214Z",fill:"#7B7BFF"}),r.createElement("path",{d:"M12.833 16.4556C11.8493 16.3571 10.953 16.0457 10.0655 15.6777C8.81343 15.1585 7.62447 14.5174 6.48583 13.796C5.23738 13.0054 4.03246 12.1421 3.05351 11.0109C2.73252 10.64 2.5285 10.0567 2.71655 9.88843C3.03315 9.60533 3.42401 9.6464 3.82286 9.72495C6.10614 10.1759 8.0872 11.3087 10.0187 12.5181C11.2229 13.2717 12.3759 14.1218 13.263 15.267C13.3053 15.3216 13.3628 15.3675 13.3948 15.4273C13.5177 15.6585 13.7018 15.9054 13.5525 16.1645C13.3996 16.4305 13.0949 16.4496 12.8326 16.456L12.833 16.4556Z",fill:"#7B7BFF"}),r.createElement("path",{d:"M16.4432 12.8531C16.4432 12.9648 16.4528 13.0776 16.4412 13.1881C16.4133 13.4576 16.254 13.5553 16.0049 13.4676C15.6304 13.3352 15.3162 13.0988 15.0523 12.8109C14.0134 11.6769 13.1295 10.4312 12.3418 9.11021C11.7625 8.13889 11.2347 7.14324 10.7592 6.12009C10.3619 5.2656 10.0525 4.37721 9.87324 3.44895C9.84968 3.32654 9.8413 3.19775 9.85008 3.07374C9.88442 2.60762 10.0936 2.50435 10.5132 2.71847C10.9827 2.95811 11.3453 3.32216 11.6786 3.71332C13.0556 5.32939 14.1559 7.12849 15.1205 9.01092C15.6543 10.0528 16.1186 11.1286 16.3977 12.2722C16.4432 12.4592 16.4388 12.6586 16.4576 12.8523C16.4528 12.8527 16.448 12.8531 16.4432 12.8535V12.8531Z",fill:"#7B7BFF"}),r.createElement("path",{d:"M19.0682 6.20117C18.958 4.88374 19.1245 3.57868 19.2475 2.27601C19.3118 1.59537 19.4056 0.898776 19.713 0.261994C19.7765 0.130013 19.824 0.00201824 19.9957 2.45583e-05C20.1813 -0.00196912 20.2484 0.117652 20.3087 0.27595C20.6225 1.09974 20.7283 1.96101 20.8077 2.83105C20.9271 4.13731 20.9926 5.44437 20.9738 6.75701C20.9527 8.23392 20.8445 9.70406 20.6149 11.1618C20.5646 11.4828 20.4979 11.8166 20.3402 12.1192C20.2616 12.2699 20.2109 12.4494 20.022 12.4641C19.818 12.4797 19.7677 12.2943 19.6954 12.1427C19.3972 11.5167 19.3082 10.8325 19.2471 10.1646C19.1273 8.84758 18.9544 7.52896 19.0686 6.20196L19.0682 6.20117Z",fill:"#7B7BFF"}))),by||(by=r.createElement("defs",null,r.createElement("clipPath",{id:"clip0_3602_4547"},r.createElement("rect",{width:40,height:40,fill:"white"})))))}const Ey=r.forwardRef(Sy);n.p;var ky;const Cy=["title","titleId"];function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ay.apply(null,arguments)}function Ty(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Cy);return r.createElement("svg",Ay({width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,ky||(ky=r.createElement("path",{d:"M24.4284 23.2178C24.3421 23.1535 24.2661 23.0746 24.2003 22.9883C24.1813 22.9649 24.1637 22.9401 24.1477 22.9152L23.3655 22.133L22.5775 21.345C22.3319 20.9576 22.1901 20.4971 22.1901 20.0044C22.1901 19.5117 22.3406 19.0249 22.5994 18.6301L23.3319 17.8977L24.174 17.0556C24.2018 17.0161 24.2325 16.9781 24.2661 16.9415C24.2939 16.9108 24.3246 16.8801 24.3553 16.8523L28.9971 12.2091L27.788 11L23.2237 15.5629C23.1579 15.652 23.0775 15.731 22.9883 15.7982C22.9649 15.8173 22.9401 15.8348 22.9152 15.8509L22.0936 16.6725L21.3772 17.3889C20.981 17.652 20.5029 17.8056 19.9912 17.8056C19.4795 17.8056 19.0351 17.6623 18.6462 17.4152L17.867 16.636L17.0556 15.8246C17.0146 15.7968 16.9766 15.7661 16.9415 15.7325C16.9108 15.7047 16.8801 15.674 16.8523 15.6433L12.2091 11.0015L11 12.212L15.5629 16.7749C15.652 16.8406 15.731 16.9211 15.7982 17.0102C15.8173 17.0336 15.8348 17.0585 15.8509 17.0833L16.6842 17.9181C16.6842 17.9181 16.6871 17.9196 16.6886 17.9211L17.3611 18.5936C17.3611 18.5936 17.3626 18.5965 17.364 18.598C17.6345 19 17.7939 19.4839 17.7939 20.0044C17.7939 20.5249 17.6403 20.9927 17.3772 21.3904L16.6637 22.1038L15.8202 22.9474C15.7939 22.9854 15.7632 23.0219 15.7325 23.057C15.7047 23.0877 15.674 23.1184 15.6433 23.1462L11.0015 27.7895L12.2105 29L16.7734 24.4357C16.8392 24.3465 16.9196 24.2675 17.0088 24.2003C17.0322 24.1813 17.057 24.1637 17.0819 24.1477L17.8816 23.348L18.6199 22.6097C19.0146 22.3523 19.4839 22.2032 19.9898 22.2032C20.4956 22.2032 21.0058 22.3655 21.4108 22.6433L22.0687 23.3012L22.9459 24.1784C22.9839 24.2047 23.0205 24.2354 23.0556 24.2661C23.0863 24.2939 23.117 24.3246 23.1447 24.3553L27.788 28.9971L28.9971 27.788L24.4269 23.2178H24.4284Z",fill:"#8F92A9"})))}const _y=r.forwardRef(Ty),Iy=(n.p,e=>{let{isOpen:t,onClose:n,onLogout:r}=e;return(0,jn.jsx)("div",{className:"sidebar ".concat(t?"open":""),children:(0,jn.jsxs)("div",{className:"sidebar-content",children:[(0,jn.jsx)("div",{className:"close-button-container",children:(0,jn.jsx)("button",{className:"close-button",onClick:n,children:(0,jn.jsx)(_y,{className:"close-icon"})})}),(0,jn.jsx)("h1",{children:"Every journey begins with one moment."}),(0,jn.jsx)("p",{children:"Build & designed by Bram"}),(0,jn.jsxs)("button",{className:"signout-button",onClick:r,children:[(0,jn.jsx)("span",{className:"signout-button-icon",children:"\u2715"})," Sign Out"]})]})})});let Py={};function Ny(){return Py}Math.pow(10,8);const Dy=6048e5,Ry=6e4,Oy=36e5,jy=Symbol.for("constructDateFrom");function My(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&jy in e?e[jy](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ly(e,t){return My(t||e,e)}function Fy(e,t){var n,r,i,o,s,a;const l=Ny(),c=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(a=l.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==n?n:0,u=Ly(e,null===t||void 0===t?void 0:t.in),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function Vy(e,t){var n;const r=()=>My(null===t||void 0===t?void 0:t.in,NaN),i=null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2,o=function(e){const t={},n=e.split(Uy.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Uy.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Uy.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=Uy.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let s;if(o.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?i:100*o,restDateString:e.slice((r[1]||r[2]).length)}}(o.date,i);s=function(e,t){if(null===t)return new Date(NaN);const n=e.match(By);if(!n)return new Date(NaN);const r=!!n[4],i=Hy(n[1]),o=Hy(n[2])-1,s=Hy(n[3]),a=Hy(n[4]),l=Hy(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,a,l)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,o=7*(t-1)+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}(t,a,l):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Ky[t]||(Gy(e)?29:28))}(t,o,s)&&function(e,t){return t>=1&&t<=(Gy(e)?366:365)}(t,i)?(e.setUTCFullYear(t,o,Math.max(i,s)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!s||isNaN(+s))return r();const a=+s;let l,c=0;if(o.time&&(c=function(e){const t=e.match(zy);if(!t)return NaN;const n=Wy(t[1]),r=Wy(t[2]),i=Wy(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i))return NaN;return n*Oy+r*Ry+1e3*i}(o.time),isNaN(c)))return r();if(!o.timezone){const e=new Date(a+c),n=Ly(0,null===t||void 0===t?void 0:t.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return l=function(e){if("Z"===e)return 0;const t=e.match(qy);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,i))return NaN;return n*(r*Oy+i*Ry)}(o.timezone),isNaN(l)?r():Ly(a+c+l,null===t||void 0===t?void 0:t.in)}const Uy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},By=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zy=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,qy=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Hy(e){return e?parseInt(e):1}function Wy(e){return e&&parseFloat(e.replace(",","."))||0}const Ky=[31,null,31,30,31,30,31,31,30,31,30,31];function Gy(e){return e%400===0||e%4===0&&e%100!==0}function Qy(e,t,n){const r=Ly(e,null===n||void 0===n?void 0:n.in);return isNaN(t)?My((null===n||void 0===n?void 0:n.in)||e,NaN):t?(r.setDate(r.getDate()+t),r):r}const Yy={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Xy(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Jy={date:Xy({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Xy({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Xy({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Zy={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function $y(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function eb(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const s=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(a,(e=>e.test(s))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(a,(e=>e.test(s)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(s.length)}}}var tb;const nb={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=Yy[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Jy,formatRelative:(e,t,n,r)=>Zy[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:$y({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:$y({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:$y({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:$y({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:$y({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(tb={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(tb.matchPattern);if(!n)return null;const r=n[0],i=e.match(tb.parsePattern);if(!i)return null;let o=tb.valueCallback?tb.valueCallback(i[0]):i[0];return o=t.valueCallback?t.valueCallback(o):o,{value:o,rest:e.slice(r.length)}}),era:eb({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:eb({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:eb({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:eb({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:eb({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function rb(e){const t=Ly(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ib(e,t){const n=Ly(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function ob(e,t,n){const[r,i]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=My.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(i)}(null===n||void 0===n?void 0:n.in,e,t),o=ib(r),s=ib(i),a=+o-rb(o),l=+s-rb(s);return Math.round((a-l)/864e5)}function sb(e,t){const n=Ly(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ab(e,t){const n=Ly(e,null===t||void 0===t?void 0:t.in);return ob(n,sb(n))+1}function lb(e,t){return Fy(e,(0,In.A)((0,In.A)({},t),{},{weekStartsOn:1}))}function cb(e,t){const n=Ly(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),i=My(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=lb(i),s=My(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=lb(s);return n.getTime()>=o.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function ub(e,t){const n=cb(e,t),r=My((null===t||void 0===t?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),lb(r)}function db(e,t){const n=Ly(e,null===t||void 0===t?void 0:t.in),r=+lb(n)-+ub(n);return Math.round(r/Dy)+1}function hb(e,t){var n,r,i,o,s,a;const l=Ly(e,null===t||void 0===t?void 0:t.in),c=l.getFullYear(),u=Ny(),d=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(a=u.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==n?n:1,h=My((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(c+1,0,d),h.setHours(0,0,0,0);const f=Fy(h,t),p=My((null===t||void 0===t?void 0:t.in)||e,0);p.setFullYear(c,0,d),p.setHours(0,0,0,0);const m=Fy(p,t);return+l>=+f?c+1:+l>=+m?c:c-1}function fb(e,t){var n,r,i,o,s,a;const l=Ny(),c=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:l.firstWeekContainsDate)&&void 0!==r?r:null===(a=l.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==n?n:1,u=hb(e,t),d=My((null===t||void 0===t?void 0:t.in)||e,0);d.setFullYear(u,0,c),d.setHours(0,0,0,0);return Fy(d,t)}function pb(e,t){const n=Ly(e,null===t||void 0===t?void 0:t.in),r=+Fy(n,t)-+fb(n,t);return Math.round(r/Dy)+1}function mb(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const gb={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return mb("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):mb(n+1,2)},d:(e,t)=>mb(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>mb(e.getHours()%12||12,t.length),H:(e,t)=>mb(e.getHours(),t.length),m:(e,t)=>mb(e.getMinutes(),t.length),s:(e,t)=>mb(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return mb(Math.trunc(r*Math.pow(10,n-3)),t.length)}},vb="midnight",yb="noon",bb="morning",wb="afternoon",xb="evening",Sb="night",Eb={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return gb.y(e,t)},Y:function(e,t,n,r){const i=hb(e,r),o=i>0?i:1-i;if("YY"===t){return mb(o%100,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):mb(o,t.length)},R:function(e,t){return mb(cb(e),t.length)},u:function(e,t){return mb(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return mb(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return mb(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return gb.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return mb(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=pb(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):mb(i,t.length)},I:function(e,t,n){const r=db(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):mb(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):gb.d(e,t)},D:function(e,t,n){const r=ab(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):mb(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return mb(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return mb(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return mb(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?yb:0===r?vb:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?xb:r>=12?wb:r>=4?bb:Sb,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return gb.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):gb.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):mb(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):mb(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):gb.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):gb.s(e,t)},S:function(e,t){return gb.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Cb(r);case"XXXX":case"XX":return Ab(r);default:return Ab(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Cb(r);case"xxxx":case"xx":return Ab(r);default:return Ab(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+kb(r,":");default:return"GMT"+Ab(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+kb(r,":");default:return"GMT"+Ab(r,":")}},t:function(e,t,n){return mb(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return mb(+e,t.length)}};function kb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return 0===o?n+String(i):n+String(i)+t+mb(o,2)}function Cb(e,t){if(e%60===0){return(e>0?"-":"+")+mb(Math.abs(e)/60,2)}return Ab(e,t)}function Ab(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+mb(Math.trunc(r/60),2)+t+mb(r%60,2)}const Tb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},_b=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Ib={p:_b,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Tb(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",Tb(r,t)).replace("{{time}}",_b(i,t))}},Pb=/^D+$/,Nb=/^Y+$/,Db=["D","DD","YY","YYYY"];function Rb(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Ob(e){return!(!Rb(e)&&"number"!==typeof e||isNaN(+Ly(e)))}const jb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lb=/^'([^]*?)'?$/,Fb=/''/g,Vb=/[a-zA-Z]/;function Ub(e,t,n){var r,i,o,s,a,l,c,u,d,h,f,p,m,g;const v=Ny(),y=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:v.locale)&&void 0!==r?r:nb,b=null!==(o=null!==(s=null!==(a=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:v.firstWeekContainsDate)&&void 0!==s?s:null===(u=v.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==o?o:1,w=null!==(d=null!==(h=null!==(f=null!==(p=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==p?p:null===n||void 0===n||null===(m=n.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==f?f:v.weekStartsOn)&&void 0!==h?h:null===(g=v.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==d?d:0,x=Ly(e,null===n||void 0===n?void 0:n.in);if(!Ob(x))throw new RangeError("Invalid time value");let S=t.match(Mb).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,Ib[t])(e,y.formatLong)}return e})).join("").match(jb).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Bb(e)};if(Eb[t])return{isToken:!0,value:e};if(t.match(Vb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));y.localize.preprocessor&&(S=y.localize.preprocessor(x,S));const E={firstWeekContainsDate:b,weekStartsOn:w,locale:y};return S.map((r=>{if(!r.isToken)return r.value;const i=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!function(e){return Nb.test(e)}(i))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return Pb.test(e)}(i))||function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),Db.includes(e))throw new RangeError(r)}(i,t,String(e));return(0,Eb[i[0]])(x,i,y.localize,E)})).join("")}function Bb(e){const t=e.match(Lb);return t?t[1].replace(Fb,"'"):e}const zb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOBSURBVHgBxVhNTttAFH4zdiq6gEaIRVVSyagFsSPsumtyAtJdd8AJ4AZJlt2RG8ANwgninoCwqIQAiSlNEItSGdoFJRlP30x+OuPYxGlj80lJ7PHMvM9v3sz7XghMCCe3WuCCb+BlHgRxgAhn+FAQhvcMr5oWsQ5Z68SFCUDidHIcJ+s/PNsRVOyCgCzEB8OPa2WsKmMnbFxnkhCJUUOCVC6vTquP9oFIIqsO7/gN9L0D0wNDLxWjvBRKxllcznMCjTBvEAKeL+CAyLjIWC7AvccY84bjqO+AT0sEyHsR/iKeD1Bst8+aY8lEEVEkQNRsu7s3MD4OrxeXt5BUOYRUKCGDjFqaLj8KEhHg1+wMr8QlYcz5Eue0eAUvN4OE0LPr+pIR801WLoIxQoioXrbOK/CfyOXeVjCIy4FmjKHO+uAlrWHnVytlNFxKgojE3d0Pd+7FPK42KWjNWRD279u7G1fZk1+9ncMvAuP3v7XPtmHKyOXe7BFBd7QmXK7OkvQOlXdIxHAfke7jVhUSgG3zitwMWlPW7z7blRe0b76gDxAAVXY9/sT8F0gP+EBqhj0hlKdIDnMNEbwxeCC9ctk+W4IEoU72buZCaLvWIqJIKXAjaNErLiSM/u450Nu6gpQoslszegpyCCkA7QYPvDWqZIAGi2QYpADcIG6gyaGGHkGw9pcmpIGZe2+UzBMhLLWMkJGRDk8EqqSigZlUyDjOcj7QxGhfsw7BOS9ACuAcdY8OgmTwaD7W24QPeUgDPt0w7Ao4piiY6noj7vfNdOLGTEE2EXXaap27UYkrKUgFqOsmmYIY8lC7KSxxJeUdKVfQvKESBilIkbHth72gd3gnU4YE0JMr5kE7kCtK6Xmedz87t/Ac3VXQ+rzLzi7A7c+bzzAl9NQkGCEg1eTXq9P6kIzE/PxsE3z7I4AmxgkUpkWoL2srBhElV84/aPd/IZW8b/MjMVov7cctUYNQ2gWXHOMi4BHwaBerg+uI6kANxrrJx7ophJAcVEVdvA9xSUSUxoqIgCJ7rG6KQWhAypW6R8qNQZbv7b4ZDHx1gq/hzFtRFWkYkUgyanK5ZJbfEFOstWWMUI61doS+tqIGer++exi4tZBaZ3IS6A1BxCcr093Gw+06sl+MuYYl6iPFfCSJSerzWGR0YJlawHgpSc2Kwx3zAOv9cyWTHv7WZaqBCfAH5l60NVZgmAcAAAAASUVORK5CYII=",qb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKESURBVHgBzZjRbhJBFIbPmdmSeGElxgtjVzNNxKC9oD6BkJh4WV7BJ2jfoOXSu/Im+ATwBqUXVdI2cWyg6YXGNXphCrPHmSlsQKA7a1mWL4HdnT3L/HvOmZkzICRE+MWyIrWjT7eBUACSiG4SSn0t9VmbI/8ou50WJABdjIQQ+fA6t0uM9oAgD+5I/WnxNV6TsiPjjDElEdMdER5cXJ7WbrWBuUKKQvXDpva9gMUhtZcq87w0U4zYKGwrhOZdvTGHIASo9HpnbYgTk7KQWwVNiLGhGaijlIVEgnTIXo+HjI3ftTmyHCGGvOqrphkkU2L8Jy/2F5ysLohwkNsbXdgw3Ywc9QWyQYervymlDKxntJB9yI78yDvDMGEZMoSIdq0KX681SKoJGcORKoyBqsIKMCCsMiIowQqgR1KJ2TJgNRBsoh5xYOtVCbZelv6rLU6Ml8TadPDu7U50ffL52LnNBQaJwBnnrm3xeMNSUbgYn3waLrJk3radqM0BiU83CmaOKUPWILQYIrgFNGX0FHPMQqAGrAAeUsNm1zO/8IOWV8dMoUXIi97Zph1NIWAdMkTnecscrRjPuz7UuRNARnDF7RaGm68gCP7cX390DzMYVYhU+3p5avM2mpHshq2fO6Illp6jXBldRzOwLfsUqywrXKYfpnhlvG1iOZBXHckIUhdkheh+TH8T7bOMzUYu1Bu5NIZ7JMRlRxkJelwUIQ+bi8whkyMmNP96ZASf92Dw+1vw89f3+vqDh/pl7lawG28Q0ge+Nngvu+dXc+0cfst6SXF1oEW9SeIpI0IvN3XPGxyaARJrDwnx/edlXXZUTc2qHxeTu9Cbf67MoqePjW73vAUJ+As/GR3c2eFulAAAAABJRU5ErkJggg==",Hb={neutral:n(119),inspired:n(734),focused:n(353),unmotivated:n(784),frustrated:n(618)},Wb=r.memo((e=>{let{journalEntries:t=[],loading:n,navigate:i}=e;const[o,s]=(0,r.useState)(new Date),[a,l]=(0,r.useState)(0),c=(0,r.useMemo)((()=>new Date),[]),u=(0,r.useMemo)((()=>Fy(c,{weekStartsOn:1})),[c]);(0,r.useEffect)((()=>{const e=setInterval((()=>s(new Date)),6e4);return()=>clearInterval(e)}),[]),(0,r.useEffect)((()=>{(async()=>{try{const e=Rn.currentUser;if(e){const t=await(0,Pn.getDoc)((0,Pn.doc)(Dn,"profiles",e.uid));if(t.exists()){const e=t.data();l(e.currentStreak||0)}else l(0)}}catch(e){console.error("Error fetching streak:",e),l(0)}})()}),[]);const d=(0,r.useCallback)((e=>e?e instanceof Date?e:"string"===typeof e?Vy(e):"function"===typeof(null===e||void 0===e?void 0:e.toDate)?e.toDate():null:null),[]),h=(0,r.useCallback)((e=>{const n=Qy(u,e),r=Ub(n,"yyyy-MM-dd"),o=new Date;o.setHours(0,0,0,0),n.setHours(0,0,0,0);const s=n.getTime()===o.getTime(),a=n>o,l=t.find((e=>{const t=d(e.createdAt);return t&&Ub(t,"yyyy-MM-dd")===r}));s?i("journal-form",{selectedDate:r}):s||a||l&&i("journal-form",{selectedDate:r})}),[u,i,t,d]),f=(0,r.useMemo)((()=>[...Array(7)].map(((e,t)=>Qy(u,t)))),[u]),p=(0,r.useCallback)((()=>f.map(((e,r)=>{const i=Ub(e,"yyyy-MM-dd"),o=t.find((e=>{const t=d(e.createdAt);return t&&Ub(t,"yyyy-MM-dd")===i})),s=Ub(e,"yyyy-MM-dd")===Ub(c,"yyyy-MM-dd"),a=e>c;let l;return l=s?o?Hb[o.mood]:qb:a?zb:n?qb:o?Hb[o.mood]:zb,(0,jn.jsxs)("div",{className:"day-container",children:[(0,jn.jsx)("button",{className:"day-button ".concat(s?"day-button-today":""),onClick:()=>h(r),disabled:a,children:(0,jn.jsx)("img",{src:l,alt:"Mood Icon",className:"mood-icon"})}),(0,jn.jsx)("span",{className:"day-button-label ".concat(s?"day-button-label-today":a?"day-button-label-future":"day-button-label-past"),children:Ub(e,"EEE").charAt(0).toLowerCase()})]},r)}))),[f,c,t,n,h,d]);return(0,jn.jsxs)("section",{className:"journal-section",children:[(0,jn.jsxs)("div",{className:"journal-header",children:[(0,jn.jsx)("h2",{className:"journal-label",children:"Journal streak"}),(0,jn.jsx)("div",{className:"journal-badge",children:a})]}),(0,jn.jsx)("div",{className:"journal-days",children:p()})]})}));Wb.displayName="JournalSection";const Kb=Wb,Gb=r.memo((e=>{let{projectName:t,totalTrackedTimeMinutes:n,levelProgressionData:i}=e;const o=(0,r.useMemo)((()=>{if(!i)return 1;let e=1;for(let t=1;t<=Object.keys(i).length&&n>=i[t];t++)e=t;return e}),[n,i]),s=(0,r.useMemo)((()=>i&&i[o-1]&&i[o-1]||0),[o,i]),a=(0,r.useMemo)((()=>{if(!i)return 60;return i[o+1]||i[Object.keys(i).length]}),[o,i]),l=(0,r.useMemo)((()=>{const e=a-s,t=n-s;return e<=0?100:Math.min(100,Math.max(0,t/e*100))}),[n,s,a]),c=(0,r.useMemo)((()=>{const e=a;return Math.max(0,e-n)}),[n,a]),u=(0,r.useMemo)((()=>ty(n)),[n]),d=(0,r.useMemo)((()=>ty(c)),[c]);return i?(0,jn.jsxs)("div",{className:"level-profile-container",children:[(0,jn.jsxs)("div",{className:"level-header",children:[(0,jn.jsx)("span",{className:"project-label",children:t}),(0,jn.jsx)("div",{className:"level-badge",children:o})]}),(0,jn.jsxs)("div",{className:"level-stats",children:[(0,jn.jsx)("span",{className:"total-lvl-time",children:u})," ",(0,jn.jsxs)("span",{className:"time-to-level-up",children:[d," to level up"]})," "]}),(0,jn.jsx)("div",{className:"progress-bar",children:(0,jn.jsx)("div",{className:"progress-bar-fill",style:{width:"".concat(l,"%")}})})]}):(0,jn.jsx)("div",{children:"Loading Level Data..."})}));Gb.displayName="LevelProfile";const Qb=Gb,Yb=r.memo((e=>{let{navigate:t,skipAutoRedirect:i,currentPage:o}=e;const[s,a]=(0,r.useState)(null),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)([]),[h,f]=(0,r.useState)([]),[p,m]=(0,r.useState)(null),[g,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(!1),[w,x]=(0,r.useState)(!0),[S,E]=(0,r.useState)(null),[k,C]=(0,r.useState)(0),[A,T]=(0,r.useState)(!1),_=(0,r.useRef)(null),I=(0,r.useRef)(null),P=Boolean(S),N=r.useCallback((async e=>{const t=(e=>{const t="homePageData_".concat(e),n=localStorage.getItem(t);if(n)try{const e=JSON.parse(n);if(Date.now()-e.timestamp<3e4)return e}catch(r){console.error("Error parsing cached home page data",r)}return null})(e);t?(console.log("HomePage: Loaded data from cache"),c(t.projects||[]),d(t.sessions||[]),f(t.journalEntries||[]),m(t.userProfile||null),v(t.levelConfig||null),b(t.hasTrackedEver||!1)):(console.log("HomePage: No valid cache found, show spinner"),x(!0));try{const t=(await(0,Pn.getDocs)((0,Pn.query)((0,Pn.collection)(Dn,"projects"),(0,Pn.where)("userId","==",e)))).docs.map((e=>(0,In.A)({id:e.id},e.data()))),n=(await(0,Pn.getDocs)((0,Pn.query)((0,Pn.collection)(Dn,"sessions"),(0,Pn.where)("userId","==",e)))).docs.map((e=>e.data())),r=n.length>0,i=new Date;i.setDate(i.getDate()-7);const o=(await(0,Pn.getDocs)((0,Pn.query)((0,Pn.collection)(Dn,"journalEntries"),(0,Pn.where)("userId","==",e),(0,Pn.where)("createdAt",">=",i)))).docs.map((e=>(0,In.A)({id:e.id},e.data()))),s=(0,Pn.doc)(Dn,"profiles",e),a=await(0,Pn.getDoc)(s);let l=null,u=0;a.exists()&&(l=a.data(),u=l.totalTrackedTime||0);const h=(0,Pn.doc)(Dn,"config","level_config"),p=await(0,Pn.getDoc)(h);let g=null;p.exists()&&(g=p.data()),c(t),d(n),f(o),m(l),v(g),b(r),C(u),((e,t,n,r,i,o,s)=>{const a={projects:t,sessions:n,journalEntries:r,userProfile:i,levelConfig:o,hasTrackedEver:s,timestamp:Date.now()};localStorage.setItem("homePageData_".concat(e),JSON.stringify(a))})(e,t,n,o,l,g,r)}catch(n){console.error("HomePage: Error fetching fresh data:",n)}finally{x(!1)}}),[]);(0,r.useEffect)((()=>Rn.onAuthStateChanged((async e=>{e?(a(e),N(e.uid)):t("login")}))),[t,N]),(0,r.useEffect)((()=>{s&&Promise.resolve().then(n.bind(n,472)).then((e=>{let{onSnapshot:t}=e;const n=t((0,Pn.query)((0,Pn.collection)(Dn,"sessions"),(0,Pn.where)("userId","==",s.uid),(0,Pn.where)("endTime","==",null)),(e=>{if(e.empty)E(null);else{const t=e.docs[0],n=t.data();E((0,In.A)((0,In.A)({},n),{},{id:t.id}))}}));return()=>n&&n()}))}),[s]),(0,r.useEffect)((()=>{w||o.startsWith("onboarding")||p&&!0===p.onboardingComplete||t("onboarding-step1")}),[w,p,o,t]);const D=(0,r.useCallback)((async()=>{try{await ct(Rn),t("login")}catch(e){console.error("Logout Error:",e.message)}}),[t]),R=(0,r.useCallback)((()=>T(!0)),[]),O=(0,r.useCallback)((()=>T(!1)),[]);(0,r.useEffect)((()=>{const e=()=>{_.current&&(_.current.classList.add("scrolling"),clearTimeout(I.current),I.current=setTimeout((()=>{_.current&&_.current.classList.remove("scrolling")}),300))};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);const j=(0,r.useMemo)((()=>[...l].sort(((e,t)=>(t.lastTrackedTime||0)-(e.lastTrackedTime||0))).slice(0,3)),[l]),M=(0,r.useMemo)((()=>u.reduce(((e,t)=>{const n=t.projectId||"Unknown Project";return e[n]=(e[n]||0)+(t.elapsedTime||0),e}),{})),[u]),L=(null===p||void 0===p?void 0:p.weeklyTrackedTime)||0;if(w)return(0,jn.jsx)("div",{className:"homepage-loading",children:(0,jn.jsx)(Ey,{className:"profile-pic souko-logo-header spinning-logo"})});return(0,jn.jsxs)("div",{className:"homepage",children:[(0,jn.jsx)(Zv,{navigate:t,user:p,showLiveTime:!0,onProfileClick:R}),(0,jn.jsxs)("main",{className:"homepage-content",children:[(0,jn.jsx)("section",{className:"motivational-section",children:(0,jn.jsx)(dh,{words:y?L>0?'This moment is\n progress. You\n tracked <span class="accent-text">'.concat(ey(L),"</span>\n this week."):"Momentum begins with a single tracked hour. Let\u2019s go.":"Every journey begins with one moment.\nStart tracking yours."})}),(0,jn.jsx)("div",{className:"divider"}),(0,jn.jsx)(Qb,{projectName:"Souko",totalTrackedTimeMinutes:k,levelProgressionData:g}),(0,jn.jsx)(Kb,{navigate:t,journalEntries:h,loading:!1}),(0,jn.jsxs)("section",{className:"projects-section",children:[(0,jn.jsxs)("div",{className:"projects-header",children:[(0,jn.jsx)("h2",{className:"projects-label",children:"Your projects"}),(0,jn.jsx)("div",{className:"projects-actions",children:(0,jn.jsx)("button",{onClick:()=>t("projects"),className:"projects-all-link",children:"All"})})]}),j.length>0?(0,jn.jsx)("ul",{className:"projects-list",children:j.map((e=>{var n;return(0,jn.jsxs)("li",{className:"project-item",onClick:()=>t("project-detail",{projectId:e.id}),children:[(0,jn.jsx)("div",{className:"project-image-container",children:e.imageUrl?(0,jn.jsx)("img",{src:e.imageUrl,alt:e.name,className:"project-image"}):(0,jn.jsx)("div",{className:"default-project-image",style:{backgroundColor:"#FE2F00"},children:(0,jn.jsx)("span",{children:(null===(n=e.name)||void 0===n?void 0:n.charAt(0).toUpperCase())||"P"})})}),(0,jn.jsx)("div",{className:"project-name",children:e.name}),(0,jn.jsx)("div",{className:"project-total-time",children:M[e.id]?ey(M[e.id]):ey(0)})]},e.id)}))}):(0,jn.jsx)("p",{children:"No projects found. Start tracking to see results here!"})]})]}),(0,jn.jsx)(Iy,{isOpen:A,onClose:O,onLogout:D}),A&&(0,jn.jsx)("div",{className:"sidebar-overlay",onClick:O}),(0,jn.jsx)("button",{ref:_,className:"fab",onClick:()=>{S?t("time-tracker",{sessionId:S.id}):t("time-tracker-setup")},children:P?(0,jn.jsx)(vy,{className:"fab-icon"}):(0,jn.jsx)(cy,{className:"fab-icon"})})]})}));Yb.displayName="HomePage";const Xb=Yb;var Jb;const Zb=["title","titleId"];function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$b.apply(null,arguments)}function ew(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Zb);return r.createElement("svg",$b({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,Jb||(Jb=r.createElement("path",{d:"M15 2C7.82813 2 2 7.82813 2 15C2 22.1719 7.82813 28 15 28C22.1719 28 28 22.1719 28 15V14H26V15C26 21.0859 21.0859 26 15 26C8.91406 26 4 21.0859 4 15C4 8.91406 8.91406 4 15 4C18.2812 4 21.1953 5.44531 23.2109 7.71875L20.9297 10H28V2.92969L24.625 6.30469C22.2422 3.67188 18.8203 2 15 2Z",fill:"#413E4C"})))}const tw=r.forwardRef(ew);n.p;var nw;const rw=["title","titleId"];function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iw.apply(null,arguments)}function ow(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,rw);return r.createElement("svg",iw({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,nw||(nw=r.createElement("path",{d:"M15 2C7.82813 2 2 7.82813 2 15C2 22.1719 7.82813 28 15 28C22.1719 28 28 22.1719 28 15V14H26V15C26 21.0859 21.0859 26 15 26C8.91406 26 4 21.0859 4 15C4 8.91406 8.91406 4 15 4C18.2812 4 21.1953 5.44531 23.2109 7.71875L20.9297 10H28V2.92969L24.625 6.30469C22.2422 3.67188 18.8203 2 15 2Z",fill:"white"})))}const sw=r.forwardRef(ow);n.p;var aw;const lw=["title","titleId"];function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cw.apply(null,arguments)}function uw(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,lw);return r.createElement("svg",cw({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,aw||(aw=r.createElement("path",{d:"M10 4V28H12V4H10ZM20 4V28H22V4H20Z",fill:"#413E4C"})))}const dw=r.forwardRef(uw);n.p;var hw;const fw=["title","titleId"];function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pw.apply(null,arguments)}function mw(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,fw);return r.createElement("svg",pw({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,hw||(hw=r.createElement("path",{d:"M6 1.75V28.4062L7.53906 27.4297L26.8516 15.0781L6 1.75ZM8 5.39844L23.1484 15.0781L8 24.75V5.39844Z",fill:"white"})))}const gw=r.forwardRef(mw),vw=(n.p,e=>{let{show:t,onHide:n,title:r,body:i,onConfirm:o,confirmText:s,cancelText:a}=e;return t?(0,jn.jsxs)("div",{className:"modal-overlay",onClick:n,children:[" ",(0,jn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[" ",(0,jn.jsx)("h2",{className:"modal-title",children:r}),(0,jn.jsx)("div",{className:"modal-body",children:(0,jn.jsx)("p",{children:i})}),(0,jn.jsxs)("div",{className:"modal-footer",children:[(0,jn.jsx)("button",{className:"btn-secondary",onClick:n,children:a}),(0,jn.jsx)("button",{className:"btn-primary",onClick:o,children:s})]})]})]}):null});const yw=r.memo((e=>{let{navigate:t,sessionId:n}=e;console.log("TimeTrackerPage component rendered");const[i,o]=(0,r.useState)(null),[s,a]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(0),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[g,v]=(0,r.useState)([]),[y,b]=(0,r.useState)(0),[w,x]=(0,r.useState)(null),[S,E]=(0,r.useState)(null),[k,C]=(0,r.useState)(!1),A=(0,r.useMemo)((()=>(()=>{let e=localStorage.getItem("timeTrackerInstanceId");return e||(e="".concat(Date.now(),"-").concat(Math.random()),localStorage.setItem("timeTrackerInstanceId",e)),e})()),[]),[T,_]=(0,r.useState)(!1),[I,P]=(0,r.useState)(!1),[N,D]=(0,r.useState)(!1);(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=lt(Rn,(async e=>{if(e){if(o(e),!n)return void a(!1);try{const e=(0,Pn.doc)(Dn,"sessions",n),t=await(0,Pn.getDoc)(e);t.exists()?c(t.data()):console.log("Session not found in Firestore.")}catch(r){console.error("Error loading session doc:",r)}a(!1)}else t("login")}));return()=>e()}),[t,n]),(0,r.useEffect)((()=>{let e;if(n){const t=(0,Pn.doc)(Dn,"sessions",n);e=(0,Pn.onSnapshot)(t,(e=>{if(!e.exists())return void c(null);const t=e.data();c(t);const n=localStorage.getItem("sessionToken"),r=t.activeToken;if(r&&n&&r!==n&&C(!0),t.activeInstanceId&&t.activeInstanceId!==A&&C(!0),m(!!t.paused),f("running"===t.status||"paused"===t.status),t.pauseEvents&&v(t.pauseEvents),t.paused||"running"!==t.status)x(null),d(t.elapsedTime||0);else{const e=t.clientStartTime||t.startTimeMs||Date.now();x(e),b(t.elapsedTime||0)}E(t.activeInstanceId||null)}))}return()=>e&&e()}),[n,A]),(0,r.useEffect)((()=>{let e;return w&&(e=setInterval((()=>{const e=Date.now();let t=Math.floor((e-w)/1e3);t=Math.max(0,t),d(y+t)}),1e3)),()=>{e&&clearInterval(e)}}),[w,y]);const R=(0,r.useCallback)((async()=>{if(m(!0),n)try{const e=(0,Pn.doc)(Dn,"sessions",n),t={type:"pause",timestamp:Pn.Timestamp.now()};await(0,Pn.updateDoc)(e,{elapsedTime:u,paused:!0,status:"paused",pauseEvents:(0,Pn.arrayUnion)(t),activeInstanceId:A})}catch(e){console.error("Error pausing session:",e)}}),[n,u,A]),O=(0,r.useCallback)((async()=>{if(m(!1),n)try{const e=(0,Pn.doc)(Dn,"sessions",n),t={type:"resume",timestamp:Pn.Timestamp.now()};await(0,Pn.updateDoc)(e,{paused:!1,startTime:(0,Pn.serverTimestamp)(),clientStartTime:Date.now(),startTimeMs:Date.now(),status:"running",pauseEvents:(0,Pn.arrayUnion)(t),activeInstanceId:A})}catch(e){console.error("Error resuming session:",e)}f(!0)}),[n,A]),j=(0,r.useCallback)((()=>{P(!0)}),[]),M=(0,r.useCallback)((async()=>{if(P(!1),f(!1),m(!1),n&&l)try{const e=(0,Pn.doc)(Dn,"sessions",n),t=u,r=Math.round(t/60);let o=0,s=null;const a=[...g].sort(((e,t)=>e.timestamp.seconds-t.timestamp.seconds));for(const n of a)"pause"===n.type?s=n.timestamp:"resume"===n.type&&s&&(o+=1e3*n.timestamp.seconds-1e3*s.seconds,s=null);const c=Math.round(o/1e3);await(0,Pn.updateDoc)(e,{elapsedTime:u,endTime:(0,Pn.serverTimestamp)(),status:"stopped",pauseEvents:g,totalPausedTime:c}),await(0,Pn.runTransaction)(Dn,(async e=>{const t=(0,Pn.doc)(Dn,"projects",l.projectId),n=await e.get(t);if(n.exists()){var r;const i=n.data().lastTrackedTime,o=Date.now();(!i||o>(null===(r=i.toMillis)||void 0===r?void 0:r.call(i)))&&e.update(t,{lastTrackedTime:(0,Pn.serverTimestamp)()})}})),await(0,Pn.runTransaction)(Dn,(async e=>{const t=(0,Pn.doc)(Dn,"profiles",i.uid),n=await e.get(t);if(!n.exists())return;const o=n.data();let s=o.weeklyTrackedTime||0,a=o.weekStart||0;const l=function(){const e=new Date;e.setHours(0,0,0,0);const t=(e.getDay()+6)%7;return e.setDate(e.getDate()-t),e.getTime()}();a<l&&(s=0,a=l);const c=s+u;const d=(o.totalTrackedTime||0)+r;e.update(t,{weeklyTrackedTime:c,weekStart:a,totalTrackedTime:d,lastUpdated:(0,Pn.serverTimestamp)()})}))}catch(e){console.error("Error stopping session:",e)}localStorage.setItem("lastProjectId",(null===l||void 0===l?void 0:l.projectId)||""),t("session-overview",{totalTime:u,projectId:null===l||void 0===l?void 0:l.projectId}),d(0),c(null),v([])}),[t,n,l,u,g,i]),L=(0,r.useCallback)((()=>{(h||u>0)&&D(!0)}),[h,u]),F=(0,r.useCallback)((async()=>{if(D(!1),d(0),f(!1),m(!1),x(null),b(0),n)try{const e=(0,Pn.doc)(Dn,"sessions",n);await(0,Pn.updateDoc)(e,{elapsedTime:0,endTime:(0,Pn.serverTimestamp)(),paused:!0,status:"reset"})}catch(e){console.error("Error resetting session in database:",e)}}),[n]),V=(0,r.useCallback)((async()=>{try{if(n){const e=(0,Pn.doc)(Dn,"sessions",n);await(0,Pn.updateDoc)(e,{activeInstanceId:null,endTime:(0,Pn.serverTimestamp)(),status:"signedOut"})}await ct(Rn),t("login")}catch(e){console.error("Error during sign out:",e)}}),[n,t]);if(s)return(0,jn.jsx)("div",{className:"homepage-loading",children:(0,jn.jsx)(Ey,{className:"profile-pic souko-logo-header spinning-logo"})});if(!l)return(0,jn.jsxs)("div",{className:"time-tracker-page",children:[(0,jn.jsx)(Zv,{variant:"journalOverview",showBackArrow:!0,onBack:()=>t("home",{skipAutoRedirect:!0}),navigate:t}),(0,jn.jsx)("p",{style:{textAlign:"center",marginTop:"40px"},children:"No session found."})]});const{project:U,isBillable:B,hourRate:z,currencyId:q}=l;return(0,jn.jsxs)("div",{className:"time-tracker-page",children:[(0,jn.jsx)(Zv,{variant:"journalOverview",showBackArrow:!0,onBack:()=>t("home",{skipAutoRedirect:!0}),navigate:t,onProfileClick:()=>_(!0)}),(0,jn.jsx)("div",{className:"motivational-section",children:"The song of your roots is the song of now."}),(0,jn.jsx)("h2",{className:"projects-label",children:"Session details"}),(0,jn.jsxs)("div",{className:"input-tile-timer",style:{marginTop:"16px"},children:[(0,jn.jsx)("strong",{children:"Project: "}),"\xa0",U]}),(0,jn.jsxs)("div",{className:"input-tile-timer",style:{marginTop:"8px"},children:[(0,jn.jsx)("strong",{children:"Billable: "}),"\xa0",B?"Yes":"No"]}),(0,jn.jsxs)("div",{className:"input-tile-timer",style:{marginTop:"8px"},children:[(0,jn.jsx)("strong",{children:"Rate: "}),"\xa0",z," ",q]}),(0,jn.jsxs)("div",{className:"bottom-sticky-bar",children:[(0,jn.jsx)("div",{className:"timer ".concat(p?"paused":""),children:new Date(1e3*u).toISOString().substr(11,8)}),(0,jn.jsxs)("div",{className:"buttons-row",children:[(0,jn.jsx)("button",{className:"control-button small",onClick:L,disabled:!(h||u>0),children:h||u>0?(0,jn.jsx)(sw,{style:{width:"32px",height:"32px"}}):(0,jn.jsx)(tw,{style:{width:"32px",height:"32px"}})}),(0,jn.jsx)("button",{className:"control-button fab-like",onClick:j,children:(0,jn.jsx)(vy,{style:{width:"64px",height:"64px"}})}),(0,jn.jsx)("button",{className:"control-button small",onClick:h&&!p?R:p?O:void 0,children:h&&!p?(0,jn.jsx)(dw,{style:{width:"32px",height:"32px"}}):0===u?(0,jn.jsx)(dw,{style:{width:"32px",height:"32px",opacity:.5}}):(0,jn.jsx)(gw,{style:{width:"32px",height:"32px"}})})]})]}),(0,jn.jsx)(vw,{show:I,onHide:()=>P(!1),title:"Stop Timer Session?",body:"Do you want to save this session?",onConfirm:M,confirmText:"Yes, Stop & Save",cancelText:"Cancel"}),(0,jn.jsx)(vw,{show:N,onHide:()=>D(!1),title:"Reset Timer?",body:"Are you sure you want to reset the timer? Any unsaved progress will be lost.",onConfirm:F,confirmText:"Yes, Reset",cancelText:"Cancel"}),(0,jn.jsx)(vw,{show:k,onHide:()=>{t("home")},title:"Session Open on Another Device",body:"This session is currently open on another device. To prevent conflicts, please close the other instance or click 'Take Over' to use this device.",onConfirm:async()=>{if(n){const t=(0,Pn.doc)(Dn,"sessions",n);try{await(0,Pn.updateDoc)(t,{activeToken:localStorage.getItem("sessionToken"),activeInstanceId:A});const e=await(0,Pn.getDoc)(t);if(e.exists()){const t=e.data();if(m(!!t.paused),f("running"===t.status||"paused"===t.status),t.paused||"running"!==t.status)x(null),d(t.elapsedTime||0);else{const e=t.clientStartTime||t.startTimeMs||Date.now();x(e),b(t.elapsedTime||0)}}C(!1),E(A)}catch(e){console.error("Error taking over session:",e)}}},confirmText:"Take Over",cancelText:"Return Home"}),(0,jn.jsx)(Iy,{isOpen:T,onClose:()=>_(!1),onLogout:V}),T&&(0,jn.jsx)("div",{className:"sidebar-overlay",onClick:()=>_(!1)})]})}));yw.displayName="TimeTrackerPage";const bw=yw,ww="firebasestorage.googleapis.com",xw="storageBucket";class Sw extends a.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Tw(e),"Firebase Storage: ".concat(t," (").concat(Tw(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Sw.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Ew,kw,Cw,Aw;function Tw(e){return"storage/"+e}function _w(){return new Sw(Ew.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Iw(){return new Sw(Ew.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Pw(){return new Sw(Ew.CANCELED,"User canceled the upload/download.")}function Nw(){return new Sw(Ew.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Dw(e){return new Sw(Ew.INVALID_ARGUMENT,e)}function Rw(){return new Sw(Ew.APP_DELETED,"The Firebase app was deleted.")}function Ow(e,t){return new Sw(Ew.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function jw(e){throw new Sw(Ew.INTERNAL_ERROR,"Internal error: "+e)}(kw=Ew||(Ew={})).UNKNOWN="unknown",kw.OBJECT_NOT_FOUND="object-not-found",kw.BUCKET_NOT_FOUND="bucket-not-found",kw.PROJECT_NOT_FOUND="project-not-found",kw.QUOTA_EXCEEDED="quota-exceeded",kw.UNAUTHENTICATED="unauthenticated",kw.UNAUTHORIZED="unauthorized",kw.UNAUTHORIZED_APP="unauthorized-app",kw.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",kw.INVALID_CHECKSUM="invalid-checksum",kw.CANCELED="canceled",kw.INVALID_EVENT_NAME="invalid-event-name",kw.INVALID_URL="invalid-url",kw.INVALID_DEFAULT_BUCKET="invalid-default-bucket",kw.NO_DEFAULT_BUCKET="no-default-bucket",kw.CANNOT_SLICE_BLOB="cannot-slice-blob",kw.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",kw.NO_DOWNLOAD_URL="no-download-url",kw.INVALID_ARGUMENT="invalid-argument",kw.INVALID_ARGUMENT_COUNT="invalid-argument-count",kw.APP_DELETED="app-deleted",kw.INVALID_ROOT_OPERATION="invalid-root-operation",kw.INVALID_FORMAT="invalid-format",kw.INTERNAL_ERROR="internal-error",kw.UNSUPPORTED_ENVIRONMENT="unsupported-environment";class Mw{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Mw.makeFromUrl(e,t)}catch(i){return new Mw(e,"")}if(""===n.path)return n;throw r=e,new Sw(Ew.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===ww?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Mw(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Sw(Ew.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Lw{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Fw(e){return"string"===typeof e||e instanceof String}function Vw(e){return Uw()&&e instanceof Blob}function Uw(){return"undefined"!==typeof Blob}function Bw(e,t,n,r){if(r<t)throw Dw("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Dw("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function zw(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function qw(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Hw(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}(Aw=Cw||(Cw={}))[Aw.NO_ERROR=0]="NO_ERROR",Aw[Aw.NETWORK_ERROR=1]="NETWORK_ERROR",Aw[Aw.ABORT=2]="ABORT";class Ww{constructor(e,t,n,r,i,o,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Kw(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Cw.NO_ERROR,i=n.getStatus();if(!t||Hw(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Cw.ABORT;return void e(!1,new Kw(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new Kw(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(o){r(o)}else if(null!==i){const e=_w();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Rw():Pw())}else{r(Iw())}};this.canceled_?t(0,new Kw(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Kw{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Gw(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Qw(){const e=Gw();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Uw())return new Blob(n);throw new Sw(Ew.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Yw(e){if("undefined"===typeof atob)throw t="base-64",new Sw(Ew.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Xw="raw",Jw="base64",Zw="base64url",$w="data_url";class ex{constructor(e,t){this.data=e,this.contentType=t||null}}function tx(e,t){switch(e){case Xw:return new ex(nx(t));case Jw:case Zw:return new ex(rx(e,t));case $w:return new ex(function(e){const t=new ix(e);return t.base64?rx(Jw,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw Ow($w,"Malformed data URL.")}return nx(t)}(t.rest)}(t),new ix(t).contentType)}throw _w()}function nx(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function rx(e,t){switch(e){case Jw:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Ow(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Zw:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Ow(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Yw(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw Ow(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class ix{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ow($w,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class ox{constructor(e,t){let n=0,r="";Vw(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Vw(this.data_)){const o=this.data_,s=(r=e,i=t,(n=o).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===s?null:new ox(s)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new ox(n,!0)}var n,r,i}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Uw()){const e=t.map((e=>e instanceof ox?e.data_:e));return new ox(Qw.apply(null,e))}{const e=t.map((e=>Fw(e)?tx(Xw,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new ox(r,!0)}}uploadData(){return this.data_}}function sx(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function ax(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function lx(e,t){return t}class cx{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||lx}}let ux=null;function dx(){if(ux)return ux;const e=[];e.push(new cx("bucket")),e.push(new cx("generation")),e.push(new cx("metageneration")),e.push(new cx("name","fullPath",!0));const t=new cx("name");t.xform=function(e,t){return function(e){return!Fw(e)||e.length<2?e:ax(e)}(t)},e.push(t);const n=new cx("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new cx("timeCreated")),e.push(new cx("updated")),e.push(new cx("md5Hash",null,!0)),e.push(new cx("cacheControl",null,!0)),e.push(new cx("contentDisposition",null,!0)),e.push(new cx("contentEncoding",null,!0)),e.push(new cx("contentLanguage",null,!0)),e.push(new cx("contentType",null,!0)),e.push(new cx("metadata","customMetadata",!0)),ux=e,ux}function hx(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Mw(n,r);return t._makeStorageReference(i)}})}(r,e),r}function fx(e,t,n){const r=sx(t);if(null===r)return null;return hx(e,r,n)}function px(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class mx{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function gx(e){if(!e)throw _w()}function vx(e,t){return function(n,r){const i=fx(e,r,t);return gx(null!==i),i}}function yx(e,t){return function(n,r){const i=fx(e,r,t);return gx(null!==i),function(e,t,n,r){const i=sx(t);if(null===i)return null;if(!Fw(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return zw("/b/"+s(i)+"/o/"+s(o),n,r)+qw({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function bx(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Sw(Ew.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Sw(Ew.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Sw(Ew.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Sw(Ew.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function wx(e){const t=bx(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new Sw(Ew.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function xx(e,t,n){const r=zw(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new mx(r,"GET",vx(e,n),i);return o.errorHandler=wx(t),o}function Sx(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Ex(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=Sx(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+px(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=ox.getBlob(c,r,u);if(null===d)throw Nw();const h={name:l.fullPath},f=zw(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new mx(f,"POST",vx(e,n),p);return m.urlParams=h,m.headers=s,m.body=d.uploadData(),m.errorHandler=bx(t),m}class kx{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function Cx(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){gx(!1)}return gx(!!n&&-1!==(t||["active"]).indexOf(n)),n}const Ax=262144;function Tx(e,t,n,r,i,o,s,a){const l=new kx(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new Sw(Ew.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,h=d+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(d,h);if(null===m)throw Nw();const g=t.maxUploadRetryTime,v=new mx(n,"POST",(function(e,n){const i=Cx(e,["active","final"]),s=l.current+u,a=r.size();let c;return c="final"===i?vx(t,o)(e,n):null,new kx(s,a,"final"===i,c)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=bx(e),v}const _x="running",Ix="paused",Px="success",Nx="canceled",Dx="error";function Rx(e){switch(e){case"running":case"pausing":case"canceling":return _x;case"paused":return Ix;case"success":return Px;case"canceled":return Nx;default:return Dx}}class Ox{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function jx(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}class Mx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cw.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Cw.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Cw.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw jw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw jw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Lx extends Mx{initXhr(){this.xhr_.responseType="text"}}function Fx(){return new Lx}class Vx{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=dx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(Ew.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(Hw(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=Iw()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(Ew.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=Sx(t,r,i),a={name:s.fullPath},l=zw(o,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=px(s,n),d=e.maxUploadRetryTime,h=new mx(l,"POST",(function(e){let t;Cx(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){gx(!1)}return gx(Fw(t)),t}),d);return h.urlParams=a,h.headers=c,h.body=u,h.errorHandler=bx(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Fx,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new mx(n,"POST",(function(e){const t=Cx(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){gx(!1)}n||gx(!1);const i=Number(n);return gx(!isNaN(i)),new kx(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=bx(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,Fx,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=Ax*this._chunkMultiplier,t=new kx(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=Tx(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const s=this._ref.storage._makeRequest(o,Fx,r,i,!1);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(Ax*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=xx(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,Fx,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=Ex(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Fx,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Pw(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Rx(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new Ox(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Rx(this._state)){case Px:jx(this._resolve.bind(null,this.snapshot))();break;case Nx:case Dx:jx(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Rx(this._state)){case _x:case Ix:e.next&&jx(e.next.bind(e,this.snapshot))();break;case Px:e.complete&&jx(e.complete.bind(e))();break;default:e.error&&jx(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ux{constructor(e,t){this._service=e,this._location=t instanceof Mw?t:Mw.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ux(e,t)}get root(){const e=new Mw(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ax(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Mw(this._location.bucket,e);return new Ux(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Sw(Ew.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Bx(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=zw(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new mx(r,"GET",yx(e,n),i);return o.errorHandler=wx(t),o}(e.storage,e._location,dx());return e.storage.makeRequestWithTokens(t,Fx).then((e=>{if(null===e)throw new Sw(Ew.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function zx(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=zw(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new mx(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=wx(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Fx)}function qx(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Mw(e._location.bucket,n);return new Ux(e.storage,r)}function Hx(e,t){if(e instanceof Gx){const n=e;if(null==n._bucket)throw new Sw(Ew.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xw+"' property when initializing the app?");const r=new Ux(n,n._bucket);return null!=t?Hx(r,t):r}return void 0!==t?qx(e,t):e}function Wx(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Gx)return new Ux(e,t);throw Dw("To use ref(service, url), the first argument must be a Storage instance.")}return Hx(e,t)}function Kx(e,t){const n=null===t||void 0===t?void 0:t[xw];return null==n?null:Mw.makeFromBucketSpec(n,e)}class Gx{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=ww,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Mw.makeFromBucketSpec(r,this._host):Kx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Mw.makeFromBucketSpec(this._url,e):this._bucket=Kx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Bw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Bw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ux(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Lw(Rw());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=qw(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Ww(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Qx="@firebase/storage",Yx="0.13.4",Xx="storage";function Jx(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Vx(e,new ox(t),n)}(e=(0,a.Ku)(e),t,n)}function Zx(e){return Bx(e=(0,a.Ku)(e))}function $x(e){return zx(e=(0,a.Ku)(e))}function eS(e,t){return Wx(e=(0,a.Ku)(e),t)}function tS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,a.Ku)(e);const n=(0,s.j6)(e,Xx).getImmediate({identifier:t}),r=(0,a.yU)("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:(0,a.Fy)(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function nS(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Gx(r,i,o,n,s.MF)}var rS;(0,s.om)(new u.uA(Xx,nS,"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(Qx,Yx,""),(0,s.KO)(Qx,Yx,"esm2017");const iS=["title","titleId"];function oS(){return oS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oS.apply(null,arguments)}function sS(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,iS);return r.createElement("svg",oS({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,rS||(rS=r.createElement("path",{d:"M13.4961 1.2207C13.374 1.22559 13.252 1.24023 13.1299 1.26953H13.1201L3.83789 3.96484C3.03711 4.18945 2.5 4.94141 2.5 5.77637V15.5664C2.5 16.6113 3.3252 17.5146 4.375 17.5146H15.625C16.6699 17.5146 17.5 16.6162 17.5 15.5664V6.96289C17.5 5.9082 16.6748 5.00977 15.625 5.00977H4.72656L13.4326 2.48047H13.4375C13.5645 2.44629 13.5986 2.4707 13.6475 2.51465C13.6914 2.55859 13.75 2.65625 13.75 2.8125V3.75H15V2.8125C15 2.34375 14.8242 1.89453 14.4775 1.58691C14.2236 1.35742 13.8672 1.2207 13.4961 1.2207ZM4.375 6.25977H15.625C15.957 6.25977 16.25 6.54785 16.25 6.96289V15.5664C16.25 15.9766 15.957 16.2646 15.625 16.2646H4.375C4.04297 16.2646 3.75 15.9766 3.75 15.5664V6.96289C3.75 6.54785 4.04297 6.25977 4.375 6.25977ZM13.75 10C13.0615 10 12.5 10.5615 12.5 11.25C12.5 11.9385 13.0615 12.5 13.75 12.5C14.4385 12.5 15 11.9385 15 11.25C15 10.5615 14.4385 10 13.75 10Z"})))}const aS=r.forwardRef(sS);n.p;var lS,cS,uS,dS,hS,fS,pS;const mS=["title","titleId"];function gS(){return gS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gS.apply(null,arguments)}function vS(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,mS);return r.createElement("svg",gS({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,lS||(lS=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.27257 8.59243C2.01159 6.73549 1.88111 5.80702 2.14281 5.04697C2.37302 4.37842 2.80896 3.7999 3.38816 3.39433C4.04663 2.93327 4.9751 2.80278 6.83205 2.5418L8.74779 2.27257C10.6047 2.01159 11.5332 1.88111 12.2932 2.14281C12.9617 2.37301 13.5403 2.80896 13.9458 3.38816C14.1142 3.62858 14.2385 3.90501 14.3411 4.24947C13.9881 4.23987 13.5953 4.23676 13.1542 4.23574C13.1175 4.16174 13.077 4.09307 13.0316 4.02832C12.7612 3.64218 12.3756 3.35156 11.9299 3.19809C11.4232 3.02362 10.8042 3.11061 9.56625 3.28459L6.32424 3.74022C5.08628 3.9142 4.4673 4.0012 4.02832 4.30857C3.64218 4.57895 3.35156 4.96463 3.19809 5.41033C3.02362 5.91703 3.11061 6.53601 3.28459 7.77397L3.74022 11.016C3.87512 11.9758 3.95772 12.5635 4.13127 12.9838C4.13178 13.6663 4.13495 14.2391 4.15498 14.7301C3.86249 14.5152 3.60506 14.253 3.39433 13.952C2.93327 13.2936 2.80278 12.3651 2.5418 10.5081L2.27257 8.59243Z",fill:"#6E6E6E"})),cS||(cS=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8358 3.23994C13.4387 2.73449 12.9034 2.35294 12.2932 2.14281C11.5332 1.88111 10.6048 2.01159 8.7479 2.27255L6.83205 2.5418C4.9751 2.80278 4.04663 2.93327 3.38816 3.39433C2.80896 3.7999 2.37302 4.37842 2.14281 5.04697C1.88111 5.80702 2.01159 6.73549 2.27257 8.59243L2.5418 10.5081C2.74516 11.9551 2.86929 12.8383 3.13233 13.4693C3.20686 13.6481 3.29254 13.8066 3.39433 13.952C3.60506 14.253 3.86249 14.5152 4.15498 14.7301C4.13953 14.3514 4.13411 13.9241 4.13221 13.4354C4.13221 13.4353 4.13221 13.4354 4.13221 13.4354C4.13197 13.3731 4.13178 13.3098 4.13164 13.2456C4.13145 13.1601 4.13134 13.0729 4.13127 12.9838C3.95772 12.5635 3.87512 11.9758 3.74023 11.016L3.28459 7.77397C3.11062 6.53605 3.02362 5.91702 3.19809 5.41033C3.35156 4.96463 3.64218 4.57895 4.02832 4.30857C4.4673 4.0012 5.08628 3.9142 6.32424 3.74022L9.56625 3.28459C10.8042 3.11062 11.4232 3.02362 11.9299 3.19809C12.3756 3.35156 12.7612 3.64218 13.0316 4.02832C13.077 4.09307 13.1175 4.16174 13.1542 4.23574C13.1954 4.23583 13.2362 4.23595 13.2766 4.23608C13.6683 4.2374 14.0211 4.24077 14.3411 4.24947C14.2385 3.90501 14.1142 3.62858 13.9458 3.38816C13.9105 3.33765 13.8738 3.28823 13.8358 3.23994Z",fill:"white"})),uS||(uS=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5429 6.35156H8.59043C7.29353 6.35156 6.24219 7.40291 6.24219 8.6998V14.6522C6.24219 15.9491 7.29353 17.0005 8.59043 17.0005H14.5429C15.8398 17.0005 16.8911 15.9491 16.8911 14.6522V8.6998C16.8911 7.40291 15.8398 6.35156 14.5429 6.35156ZM8.59043 5.35156H14.5429C16.392 5.35156 17.8911 6.85062 17.8911 8.6998V14.6522C17.8911 16.5014 16.392 18.0005 14.5429 18.0005H8.59043C6.74125 18.0005 5.24219 16.5014 5.24219 14.6522V8.6998C5.24219 6.85062 6.74125 5.35156 8.59043 5.35156Z",fill:"white"})),dS||(dS=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.59098 6.65967C7.46421 6.65967 6.55078 7.5731 6.55078 8.69987V14.6523C6.55078 15.7791 7.46421 16.6925 8.59098 16.6925H14.5434C15.6702 16.6925 16.5836 15.7791 16.5836 14.6523V8.69987C16.5836 7.5731 15.6702 6.65967 14.5434 6.65967H8.59098ZM5.05078 8.69987C5.05078 6.74467 6.63578 5.15967 8.59098 5.15967H14.5434C16.4986 5.15967 18.0836 6.74467 18.0836 8.69987V14.6523C18.0836 16.6075 16.4986 18.1925 14.5434 18.1925H8.59098C6.63578 18.1925 5.05078 16.6075 5.05078 14.6523V8.69987Z",fill:"white"})),hS||(hS=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0839 12.2049C14.9409 12.0619 14.709 12.062 14.5662 12.2049L14.5661 12.2049L11.6427 15.1282C11.6427 15.1282 11.6427 15.1282 11.6427 15.1282C11.0771 15.6938 10.1664 15.7137 9.57666 15.1731L9.57664 15.1731L8.20647 13.9171L8.20646 13.9171C8.06201 13.7847 7.83886 13.7895 7.70025 13.9281L7.70023 13.9281L6.25987 15.3685L5.19922 14.3078L6.63956 12.8675C6.63957 12.8675 6.63957 12.8675 6.63958 12.8675C7.34602 12.161 8.48358 12.1362 9.22008 12.8114C9.22008 12.8114 9.22008 12.8114 9.22008 12.8114L10.586 14.0636L13.5054 11.1443C13.5054 11.1443 13.5054 11.1442 13.5055 11.1442C14.2342 10.4154 15.4157 10.4155 16.1444 11.1441L16.1445 11.1442L17.727 12.7267L16.6663 13.7873L15.0839 12.2049Z",fill:"white"})),fS||(fS=r.createElement("path",{d:"M8.77772 9.8157C9.29138 9.8157 9.70779 9.39929 9.70779 8.88563C9.70779 8.37197 9.29138 7.95557 8.77772 7.95557C8.26406 7.95557 7.84766 8.37197 7.84766 8.88563C7.84766 9.39929 8.26406 9.8157 8.77772 9.8157Z",fill:"#6E6E6E"})),pS||(pS=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.77772 8.8157C8.7391 8.8157 8.70779 8.84701 8.70779 8.88563C8.70779 8.92426 8.7391 8.95557 8.77772 8.95557C8.81635 8.95557 8.84766 8.92426 8.84766 8.88563C8.84766 8.84701 8.81635 8.8157 8.77772 8.8157ZM9.70779 8.88563C9.70779 9.39929 9.29138 9.8157 8.77772 9.8157C8.26406 9.8157 7.84766 9.39929 7.84766 8.88563C7.84766 8.37197 8.26406 7.95557 8.77772 7.95557C9.29138 7.95557 9.70779 8.37197 9.70779 8.88563Z",fill:"white"})))}const yS=r.forwardRef(vS);n.p;var bS;const wS=["title","titleId"];function xS(){return xS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xS.apply(null,arguments)}function SS(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,wS);return r.createElement("svg",xS({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,bS||(bS=r.createElement("path",{d:"M11.25 2.5C8.28857 2.5 5.88379 4.9292 5.19531 8.125H3.75V9.375H5.03906C5.02441 9.58008 5 9.79004 5 10C5 10.21 5.02441 10.4199 5.03906 10.625H3.75V11.875H5.19531C5.88379 15.0708 8.28857 17.5 11.25 17.5C12.9419 17.5 14.48 16.6846 15.5859 15.4102L14.6289 14.5898C13.7207 15.6372 12.5439 16.25 11.25 16.25C9.06006 16.25 7.13135 14.4385 6.48438 11.875H11.875V10.625H6.26953C6.25244 10.4175 6.25 10.2124 6.25 10C6.25 9.7876 6.25244 9.58252 6.26953 9.375H11.875V8.125H6.48438C7.13135 5.56152 9.06006 3.75 11.25 3.75C12.5439 3.75 13.7207 4.36279 14.6289 5.41016L15.5859 4.58984C14.48 3.31543 12.9419 2.5 11.25 2.5Z",fill:"white"})))}const ES=r.forwardRef(SS);n.p;var kS;const CS=["title","titleId"];function AS(){return AS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AS.apply(null,arguments)}function TS(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,CS);return r.createElement("svg",AS({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,kS||(kS=r.createElement("path",{d:"M9.375 1.875V3.18359C7.60254 3.48145 6.25 5.03174 6.25 6.875C6.25 7.98584 6.77002 8.84277 7.46094 9.39453C8.15186 9.94629 8.98438 10.2539 9.76562 10.5664C10.5469 10.8789 11.2769 11.1963 11.7578 11.582C12.2388 11.9678 12.5 12.3584 12.5 13.125C12.5 14.4727 11.3794 15.625 10 15.625C8.61328 15.625 7.5 14.5117 7.5 13.125V12.5H6.25V13.125C6.25 14.978 7.60254 16.5186 9.375 16.8164V18.125H10.625V16.8164C12.4023 16.5161 13.75 14.9536 13.75 13.125C13.75 12.0117 13.23 11.1597 12.5391 10.6055C11.8481 10.0513 11.0156 9.72656 10.2344 9.41406C9.45312 9.10156 8.72314 8.80127 8.24219 8.41797C7.76123 8.03467 7.5 7.63672 7.5 6.875C7.5 5.50537 8.61572 4.375 10 4.375C11.3867 4.375 12.5 5.48828 12.5 6.875V7.5H13.75V6.875C13.75 5.02197 12.3975 3.48145 10.625 3.18359V1.875H9.375Z",fill:"white"})))}const _S=r.forwardRef(TS),IS=(n.p,["image/jpeg","image/png","image/gif"]),PS=r.memo((e=>{let{navigate:t}=e;const[n,i]=(0,r.useState)(""),[o,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(null),d=(0,r.useRef)(null),h=(0,r.useRef)(null),f=(0,r.useRef)(null),[p,m]=(0,r.useState)(!1),[g,v]=(0,r.useState)("euro"),y=(0,r.useCallback)((async e=>new Promise(((t,n)=>{const r=new Image;r.onload=()=>{const i=document.createElement("canvas");let o=r.width,s=r.height;if(o>164||s>164){const e=o/s;o>s?(o=164,s=o/e):(s=164,o=s*e)}i.width=o,i.height=s;i.getContext("2d").drawImage(r,0,0,o,s),i.toBlob((r=>{if(r){const n=new File([r],e.name,{type:r.type,lastModified:Date.now()});t(n)}else n(new Error("Failed to compress image."))}),"image/jpeg",.5)},r.onerror=n,r.src=URL.createObjectURL(e)}))),[]),b=(0,r.useCallback)((async e=>{if(e.preventDefault(),l(""),n.trim())try{const e=Rn.currentUser;if(!e)throw new Error("User is not logged in.");m(!0);let r=null;if(c&&"string"!==typeof c){const t=tS(),i=Jx(eS(t,"project-images/".concat(e.uid,"/").concat(n,"-").concat(Date.now())),c);r=await new Promise(((e,t)=>{i.on("state_changed",null,(e=>{console.error("Image upload error:",e),t(new Error("Image upload failed."))}),(async()=>{const t=await Zx(i.snapshot.ref);e(t)}))}))}else"string"===typeof c&&(r=c);await(0,Pn.addDoc)((0,Pn.collection)(Dn,"projects"),{name:n.trim(),userId:e.uid,trackedTime:0,imageUrl:r,hourRate:o?parseInt(o,10):0,currencyId:g}),m(!1),t("home")}catch(r){m(!1),console.error("Error creating project:",r),l("Failed to create project. Please try again.")}else l("Project name is required.")}),[n,c,t,o,g]),w=(0,r.useCallback)((()=>{d.current.click()}),[]),x=(0,r.useCallback)((async e=>{const t=e.target.files[0];if(!t)return;if(!IS.includes(t.type))return alert("Please select a valid image file type: ".concat(IS.join(", "))),void(e.target.value="");if(t.size>4194304)return alert("Image size should be less than ".concat(2048," KB.")),void(e.target.value="");const n=new Image;n.onload=async()=>{if(n.width>5e3||n.height>5e3)return alert("Image dimensions should not exceed ".concat(5e3,"x").concat(5e3," pixels.")),u(null),void(e.target.value="");try{const e=await y(t);u(e)}catch(r){console.error("Image compression error:",r),alert("Failed to process image. Please try again."),u(null),e.target.value=""}},n.onerror=()=>{alert("Error loading image."),u(null),e.target.value=""},n.src=URL.createObjectURL(t)}),[y]),S=(0,r.useCallback)((e=>e.trim().charAt(0).toUpperCase()),[]),E=(0,r.useMemo)((()=>c&&"string"!==typeof c?(0,jn.jsx)("img",{src:URL.createObjectURL(c),alt:"Project",className:"project-image"}):c&&"string"===typeof c?(0,jn.jsx)("img",{src:c,alt:"Project",className:"project-image"}):(0,jn.jsx)("div",{className:"default-project-image",style:{backgroundColor:"#7B7BFF"},children:(0,jn.jsx)("span",{children:S(n||"P")})})),[c,n,S]),k=(0,r.useCallback)((()=>{v((e=>"euro"===e?"dollar":"euro"))}),[]);return(0,jn.jsxs)("div",{className:"create-project-page",children:[(0,jn.jsx)(Zv,{navigate:t,variant:"journalOverview",showBackArrow:!0}),(0,jn.jsxs)("main",{className:"create-project-content",children:[(0,jn.jsx)("section",{className:"motivational-section",children:(0,jn.jsx)(dh,{words:"Every journey \nbegins with one\n moment. Tell me \nabout your project ...",element:"h1"})}),(0,jn.jsxs)("section",{className:"project-details-section",children:[(0,jn.jsx)("h2",{children:"Project details"}),(0,jn.jsxs)("div",{className:"project-input-wrapper",children:[(0,jn.jsx)("div",{className:"project-image-container",onClick:w,children:E}),(0,jn.jsx)("input",{type:"text",placeholder:"Project name",value:n,onChange:e=>i(e.target.value),className:"project-name-input",ref:h,onBlur:()=>{var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})}}),(0,jn.jsx)("input",{type:"file",accept:"image/jpeg, image/png, image/gif",onChange:x,ref:d,style:{display:"none"}}),(0,jn.jsx)("button",{type:"button",className:"icon-button",onClick:w,children:(0,jn.jsx)(yS,{})})]}),(0,jn.jsxs)("div",{className:"project-input-wrapper",children:[(0,jn.jsx)("div",{className:"project-icon-container",children:(0,jn.jsx)(aS,{className:"project-visual",style:{fill:"#FFFFFF"}})}),(0,jn.jsx)("input",{type:"number",placeholder:"Hour rate",value:o,onChange:e=>s(e.target.value),className:"project-name-input",ref:f,onBlur:()=>{var e;null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},inputMode:"numeric"}),(0,jn.jsx)("button",{type:"button",className:"icon-button",onClick:k,children:"euro"===g?(0,jn.jsx)(ES,{}):(0,jn.jsx)(_S,{})})]})]}),a&&(0,jn.jsx)("p",{className:"error-message",children:a}),(0,jn.jsx)("button",{className:"create-project-button sticky-button",onClick:b,disabled:p,children:p?(0,jn.jsx)("div",{className:"spinner"}):(0,jn.jsxs)(jn.Fragment,{children:[(0,jn.jsx)("span",{className:"button-icon",children:"\u271b"})," Create your project"]})})]})]})}));PS.displayName="CreateProjectPage";const NS=PS;var DS;const RS=["title","titleId"];function OS(){return OS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OS.apply(null,arguments)}function jS(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,RS);return r.createElement("svg",OS({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,DS||(DS=r.createElement("path",{d:"M4.16699 10L10.0004 15.8334L15.8338 10",stroke:"#8F89A3",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const MS=r.forwardRef(jS);n.p;var LS;const FS=["title","titleId"];function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VS.apply(null,arguments)}function US(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,FS);return r.createElement("svg",VS({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,LS||(LS=r.createElement("path",{d:"M10.0003 1.6665C9.88553 1.6665 9.81185 1.67463 9.77734 1.67546C9.61414 1.6793 9.45892 1.74684 9.34486 1.86363C9.2308 1.98043 9.16696 2.13721 9.16699 2.30046V3.5415C9.16582 3.62432 9.18112 3.70655 9.21201 3.78341C9.24289 3.86026 9.28874 3.93021 9.34689 3.98919C9.40505 4.04817 9.47434 4.09501 9.55075 4.12698C9.62716 4.15894 9.70916 4.17541 9.79199 4.17541C9.87482 4.17541 9.95682 4.15894 10.0332 4.12698C10.1096 4.09501 10.1789 4.04817 10.2371 3.98919C10.2952 3.93021 10.3411 3.86026 10.372 3.78341C10.4029 3.70655 10.4182 3.62432 10.417 3.5415V2.95801C14.1374 3.17703 17.0837 6.2233 17.0837 9.99984C17.0837 13.9191 13.9196 17.0832 10.0003 17.0832C6.08104 17.0832 2.91699 13.9191 2.91699 9.99984C2.91699 8.04044 3.70912 6.27433 4.99137 4.9917C5.05136 4.93411 5.09924 4.86513 5.13223 4.7888C5.16522 4.71247 5.18265 4.63032 5.18349 4.54717C5.18434 4.46402 5.16859 4.38154 5.13716 4.30456C5.10572 4.22757 5.05925 4.15763 5.00045 4.09883C4.94165 4.04003 4.87171 3.99356 4.79473 3.96213C4.71774 3.9307 4.63526 3.91494 4.55211 3.91579C4.46896 3.91663 4.38682 3.93406 4.31049 3.96705C4.23416 4.00004 4.16518 4.04793 4.10758 4.10791C2.60067 5.61528 1.66699 7.70257 1.66699 9.99984C1.66699 14.5947 5.40545 18.3332 10.0003 18.3332C14.5952 18.3332 18.3337 14.5947 18.3337 9.99984C18.3337 5.40496 14.5952 1.6665 10.0003 1.6665ZM6.45215 5.82666C6.32776 5.82669 6.20622 5.86383 6.10306 5.93333C5.9999 6.00282 5.91982 6.10152 5.87307 6.21678C5.82632 6.33204 5.81502 6.45864 5.84062 6.58036C5.86622 6.70208 5.92755 6.8134 6.01676 6.90006L9.16943 10.0527C9.18287 10.264 9.27624 10.4623 9.43056 10.6072C9.58489 10.7522 9.7886 10.833 10.0003 10.8332C10.215 10.8306 10.4204 10.7452 10.5737 10.5949C10.727 10.4446 10.8164 10.241 10.8232 10.0264C10.83 9.81179 10.7538 9.60285 10.6103 9.44311C10.4669 9.28337 10.2673 9.18516 10.0532 9.16895L6.90055 6.01628C6.8423 5.95628 6.77259 5.90859 6.69557 5.87602C6.61855 5.84345 6.53577 5.82666 6.45215 5.82666Z"})))}const BS=r.forwardRef(US);n.p;var zS;const qS=["title","titleId"];function HS(){return HS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HS.apply(null,arguments)}function WS(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,qS);return r.createElement("svg",HS({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,zS||(zS=r.createElement("path",{d:"M15.0391 2.5293C14.4189 2.5293 13.833 2.83691 13.3447 3.32031L3.20313 13.4082L1.50879 18.4814L6.58203 16.792L6.68945 16.6895L16.7334 6.70898C17.2168 6.2207 17.5195 5.63477 17.5195 5.01465C17.5195 4.39453 17.2168 3.80859 16.7334 3.32031C16.2451 2.83691 15.6592 2.5293 15.0391 2.5293ZM12.5342 5.88867L14.1504 7.50977L5.9082 15.7031L3.48633 16.5088L4.29688 14.082L12.5342 5.88867Z",fill:"white"})))}const KS=r.forwardRef(WS),GS=(n.p,e=>{if(null!=e.startTimeMs){const t=Number(e.startTimeMs),n=new Date(t);if(!isNaN(n.getTime()))return n}if(e.startTime&&"function"===typeof e.startTime.toDate)try{return e.startTime.toDate()}catch(t){console.error("Error converting Timestamp:",t)}if(e.startTime&&null!=e.startTime.seconds&&null!=e.startTime.nanoseconds){const t=Number(e.startTime.seconds),n=Number(e.startTime.nanoseconds),r=new Date(1e3*t+n/1e6);if(!isNaN(r.getTime()))return r}if(e.startTime&&"string"===typeof e.startTime){let t=new Date(e.startTime);if(isNaN(t.getTime())&&(t=new Date(e.startTime.replace(" at "," "))),!isNaN(t.getTime()))return t}return null}),QS=(e,t,n,r,i)=>{const o="projectDetailData_".concat(e,"_").concat(t),s={project:n,sessions:r,lastSessionDoc:i,timestamp:Date.now()};localStorage.setItem(o,JSON.stringify(s))},YS=r.memo((e=>{let{navigate:t,projectId:n}=e;const i=n,[o,s]=(0,r.useState)(null),[a,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)(!0),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)("total"),[x,S]=(0,r.useState)("time"),[E,k]=(0,r.useState)(0),C=(0,r.useRef)(null),A=(0,r.useCallback)((async(e,t)=>{const n=((e,t)=>{const n="projectDetailData_".concat(e,"_").concat(t),r=localStorage.getItem(n);if(r)try{const e=JSON.parse(r);if(Date.now()-e.timestamp<3e4)return e}catch(i){console.error("Error parsing cached project detail data",i)}return null})(e,t);var r;n?(s(n.project||null),l(n.sessions||[]),p(n.lastSessionDoc||null),g((null===(r=n.sessions)||void 0===r?void 0:r.length)>=30),u(!1)):u(!0);try{const n=(0,Pn.doc)(Dn,"projects",t),r=await(0,Pn.getDoc)(n);if(!r.exists()||r.data().userId!==e)return console.error("Project not found or unauthorized."),void s(null);const i=(0,In.A)({id:r.id},r.data());s(i)}catch(i){console.error("Error fetching project details:",i),s(null)}finally{u(!1)}}),[]),T=(0,r.useCallback)((async(e,t)=>{y(!0);try{const n=(0,Pn.collection)(Dn,"sessions"),r=(0,Pn.query)(n,(0,Pn.where)("projectId","==",t),(0,Pn.where)("userId","==",e),(0,Pn.where)("status","==","stopped"),(0,Pn.orderBy)("startTime","desc"),(0,Pn.limit)(30)),i=await(0,Pn.getDocs)(r),s=i.docs.map((e=>(0,In.A)({id:e.id},e.data())));l(s),g(i.docs.length>=30),p(i.docs.length>0?i.docs[i.docs.length-1]:null),QS(e,t,o,s,i.docs[i.docs.length-1]||null)}catch(n){console.error("Error fetching initial sessions:",n)}finally{y(!1)}}),[o]),_=(0,r.useCallback)((async()=>{if(d&&i&&m&&!v){y(!0);try{const e=(0,Pn.collection)(Dn,"sessions"),t=(0,Pn.query)(e,(0,Pn.where)("projectId","==",i),(0,Pn.where)("userId","==",d.uid),(0,Pn.where)("status","==","stopped"),(0,Pn.orderBy)("startTime","desc"),(0,Pn.startAfter)(f||0),(0,Pn.limit)(30)),n=await(0,Pn.getDocs)(t),r=n.docs.map((e=>(0,In.A)({id:e.id},e.data())));l((e=>[...e,...r])),g(n.docs.length>=30),p(n.docs.length>0?n.docs[n.docs.length-1]:f),QS(d.uid,i,o,[...a,...r],n.docs.length>0?n.docs[n.docs.length-1]:f)}catch(e){console.error("Error loading more sessions:",e)}finally{y(!1)}}}),[d,i,f,m,a,o,v]);(0,r.useEffect)((()=>{const e=lt(Rn,(async e=>{e?(h(e),await A(e.uid,i)):t("login")}));return()=>e()}),[A,i,t]),(0,r.useEffect)((()=>{d&&i&&T(d.uid,i)}),[d,i,T]);const I=(0,r.useCallback)((e=>{w(e.target.value)}),[]),P=(0,r.useCallback)((e=>{S(e),k((e=>e+1))}),[]),N=(0,r.useCallback)(((e,t)=>{if("total"===t)return e;const n=new Date;let r;if("week"===t){const e=n.getDay(),t=0===e?6:e-1;r=new Date(n),r.setDate(n.getDate()-t),r.setHours(0,0,0,0)}else"month"===t&&(r=new Date(n.getFullYear(),n.getMonth(),1),r.setHours(0,0,0,0));return e.filter((e=>{const t=GS(e);return t&&t>=r&&t<=n}))}),[]),D=(0,r.useMemo)((()=>N(a,b)),[a,b,N]),R=(0,r.useMemo)((()=>D.reduce(((e,t)=>e+(t.elapsedTime||0)),0)),[D]),O=(0,r.useMemo)((()=>D.reduce(((e,t)=>t.isBillable?e+(t.elapsedTime||0):e),0)),[D]),j=(0,r.useMemo)((()=>{if("earned"===x&&null!==o&&void 0!==o&&o.hourRate){const e=parseFloat(o.hourRate);if(!isNaN(e))return O/3600*e}return 0}),[x,null===o||void 0===o?void 0:o.hourRate,O]),M=(0,r.useCallback)((e=>{if(!o)return"";const t="dollar"===o.currencyId,n=t?"en-US":"en-DE";return"".concat(t?"$":"\u20ac").concat(e.toLocaleString(n,{minimumFractionDigits:2,maximumFractionDigits:2}))}),[o]),L=(0,r.useMemo)((()=>D.reduce(((e,t)=>{let n="Invalid Date";const r=GS(t);if(r)try{n=r.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}catch(i){console.error("Error converting date:",i,t.startTime)}return e[n]||(e[n]=[]),e[n].push(t),e}),{})),[D]),F=(0,r.useMemo)((()=>Object.keys(L).sort(((e,t)=>{if("Invalid Date"===e)return 1;if("Invalid Date"===t)return-1;try{const n=new Date(e);return new Date(t)-n}catch(n){return console.error("Error comparing dates:",n),0}}))),[L]),V=(0,r.useCallback)((e=>{const t=GS(e);if(t){const e=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0");return"".concat(e,":").concat(n)}return"N/A"}),[]);return c?(0,jn.jsx)("div",{className:"homepage-loading",children:(0,jn.jsx)(Ey,{className:"profile-pic souko-logo-header spinning-logo"})}):o?(0,jn.jsxs)("div",{className:"project-container",children:[(0,jn.jsx)(Zv,{variant:"journalOverview",showBackArrow:!0,navigate:t}),(0,jn.jsxs)("div",{className:"project-dropdown-container top-tile",onClick:()=>t("update-project",{projectId:o.id}),children:[null!==o&&void 0!==o&&o.imageUrl?(0,jn.jsx)("img",{src:o.imageUrl,alt:o.name,className:"dropdown-project-image"}):null!==o&&void 0!==o&&o.name?(0,jn.jsx)("div",{className:"dropdown-default-image",children:o.name.charAt(0).toUpperCase()}):null,(0,jn.jsx)("div",{className:"project-name",children:o.name}),(0,jn.jsx)(KS,{className:"edit-icon"})]}),(0,jn.jsxs)("div",{className:"filters-container",children:[(0,jn.jsxs)("div",{className:"time-range-dropdown",children:[(0,jn.jsxs)("select",{className:"time-range-select",value:b,onChange:I,children:[(0,jn.jsx)("option",{value:"total",children:"Total"}),(0,jn.jsx)("option",{value:"week",children:"This week"}),(0,jn.jsx)("option",{value:"month",children:"This month"})]}),(0,jn.jsx)(MS,{className:"dropdown-arrow"})]}),(0,jn.jsxs)("div",{className:"display-mode-toggle",children:[(0,jn.jsx)("button",{className:"display-mode-button ".concat("time"===x?"active":"muted"),onClick:()=>P("time"),children:(0,jn.jsx)(BS,{className:"display-mode-icon"})}),(0,jn.jsx)("button",{className:"display-mode-button ".concat("earned"===x?"active":"muted"),onClick:()=>P("earned"),children:(0,jn.jsx)(aS,{className:"display-mode-icon"})})]})]}),(0,jn.jsx)("div",{className:"project-header-container",ref:C,children:(0,jn.jsx)("h1",{className:"timer project-time",children:"time"===x?(0,jn.jsx)(dh,{words:ey(R)},"time-value-".concat(E)):(0,jn.jsx)(dh,{words:M(j)},"earned-value-".concat(E))})}),(0,jn.jsxs)("div",{className:"sessions-container",children:[Object.keys(L).length>0?(0,jn.jsx)(jn.Fragment,{children:F.map((e=>(0,jn.jsxs)("div",{className:"sessions-by-day",children:[(0,jn.jsx)("h2",{children:"Invalid Date"===e?"Invalid Date":new Date(e).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),(0,jn.jsx)("ul",{className:"sessions-list",children:L[e].map((e=>(0,jn.jsxs)("li",{className:"session-item input-tile",onClick:()=>t("session-detail",{sessionId:e.id}),children:[(0,jn.jsx)("span",{className:"session-start-time",children:V(e)}),(0,jn.jsx)("span",{className:"session-time",style:{color:e.isBillable?"var(--accent-color)":"var(--text-muted)"},children:ey(e.elapsedTime)})]},e.id)))})]},e)))}):(0,jn.jsx)("p",{children:"No sessions tracked for this project yet."}),m&&(0,jn.jsx)("div",{className:"load-more-container",children:(0,jn.jsx)("button",{className:"load-more-button ".concat(v?"loading":""),onClick:_,disabled:v,children:v?"Loading Moments...":"Load More Moments"})})]})]}):(0,jn.jsxs)("div",{className:"project-container",children:[(0,jn.jsx)("h1",{className:"error-title",children:"Project not found"}),(0,jn.jsx)("button",{className:"button",onClick:()=>t("home"),children:"Return to Homepage"})]})}));YS.displayName="ProjectDetailPage";const XS=YS;var JS;const ZS=["title","titleId"];function $S(){return $S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$S.apply(null,arguments)}function eE(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ZS);return r.createElement("svg",$S({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,JS||(JS=r.createElement("path",{d:"M13.4961 1.2207C13.374 1.22559 13.252 1.24023 13.1299 1.26953H13.1201L3.83789 3.96484C3.03711 4.18945 2.5 4.94141 2.5 5.77637V15.5664C2.5 16.6113 3.3252 17.5146 4.375 17.5146H15.625C16.6699 17.5146 17.5 16.6162 17.5 15.5664V6.96289C17.5 5.9082 16.6748 5.00977 15.625 5.00977H4.72656L13.4326 2.48047H13.4375C13.5645 2.44629 13.5986 2.4707 13.6475 2.51465C13.6914 2.55859 13.75 2.65625 13.75 2.8125V3.75H15V2.8125C15 2.34375 14.8242 1.89453 14.4775 1.58691C14.2236 1.35742 13.8672 1.2207 13.4961 1.2207ZM4.375 6.25977H15.625C15.957 6.25977 16.25 6.54785 16.25 6.96289V15.5664C16.25 15.9766 15.957 16.2646 15.625 16.2646H4.375C4.04297 16.2646 3.75 15.9766 3.75 15.5664V6.96289C3.75 6.54785 4.04297 6.25977 4.375 6.25977ZM13.75 10C13.0615 10 12.5 10.5615 12.5 11.25C12.5 11.9385 13.0615 12.5 13.75 12.5C14.4385 12.5 15 11.9385 15 11.25C15 10.5615 14.4385 10 13.75 10Z",fill:"#00FF00"})))}const tE=r.forwardRef(eE);n.p;var nE;const rE=["title","titleId"];function iE(){return iE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iE.apply(null,arguments)}function oE(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,rE);return r.createElement("svg",iE({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,nE||(nE=r.createElement("path",{d:"M13.4961 1.2207C13.374 1.22559 13.252 1.24023 13.1299 1.26953H13.1201L3.83789 3.96484C3.03711 4.18945 2.5 4.94141 2.5 5.77637V15.5664C2.5 16.6113 3.3252 17.5146 4.375 17.5146H15.625C16.6699 17.5146 17.5 16.6162 17.5 15.5664V6.96289C17.5 5.9082 16.6748 5.00977 15.625 5.00977H4.72656L13.4326 2.48047H13.4375C13.5645 2.44629 13.5986 2.4707 13.6475 2.51465C13.6914 2.55859 13.75 2.65625 13.75 2.8125V3.75H15V2.8125C15 2.34375 14.8242 1.89453 14.4775 1.58691C14.2236 1.35742 13.8672 1.2207 13.4961 1.2207ZM4.375 6.25977H15.625C15.957 6.25977 16.25 6.54785 16.25 6.96289V15.5664C16.25 15.9766 15.957 16.2646 15.625 16.2646H4.375C4.04297 16.2646 3.75 15.9766 3.75 15.5664V6.96289C3.75 6.54785 4.04297 6.25977 4.375 6.25977ZM13.75 10C13.0615 10 12.5 10.5615 12.5 11.25C12.5 11.9385 13.0615 12.5 13.75 12.5C14.4385 12.5 15 11.9385 15 11.25C15 10.5615 14.4385 10 13.75 10Z",fill:"#8F89A3"})))}const sE=r.forwardRef(oE);n.p;var aE;const lE=["title","titleId"];function cE(){return cE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cE.apply(null,arguments)}function uE(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,lE);return r.createElement("svg",cE({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,aE||(aE=r.createElement("path",{d:"M10.6512 9.8022V4H13.3488V9.8022H10.6512ZM9.30233 12L4 9.0989L5.34884 6.9011L10.6279 9.8022L9.30233 12ZM14.6512 12L13.3488 9.82418L18.6512 6.9011L20 9.0989L14.6512 12ZM18.6512 17.0989L13.3023 14.1978L14.6512 12.022L20 14.9011L18.6512 17.0989ZM5.34884 17.0989L4 14.9011L9.30233 12.022L10.6512 14.1978L5.34884 17.0989ZM10.6512 20V14.2198H13.3023V20H10.6512Z",fill:"#00FF00"})))}const dE=r.forwardRef(uE);n.p;var hE;const fE=["title","titleId"];function pE(){return pE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pE.apply(null,arguments)}function mE(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,fE);return r.createElement("svg",pE({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,hE||(hE=r.createElement("path",{d:"M16.9378 19.0033L12.3137 14.1325L7.68958 19.0033L5.5933 16.907L10.4949 12.3137L5.62413 7.68959L7.7204 5.59332L12.3445 10.4641L16.907 5.59332L19.0033 7.68959L14.1634 12.2829L19.0341 16.907L16.9378 19.0033ZM12.3445 13.9784L14.0092 12.3137L12.3137 10.6182L10.649 12.2829L12.3445 13.9784Z",fill:"#FE2F00"})))}const gE=r.forwardRef(mE),vE=(n.p,e=>{let{navigate:t,sessionId:n}=e;const i=n,[o,s]=(0,r.useState)(null),[a,l]=(0,r.useState)(null),[c,u]=(0,r.useState)([]),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(!0),[v,y]=(0,r.useState)(!0),[b,w]=(0,r.useState)(!1),[x,S]=(0,r.useState)(!1),E=((0,r.useRef)(null),(0,r.useRef)(!1)),k=(0,r.useCallback)(((e,t)=>{const n=sessionStorage.getItem("sessionDetail-".concat(e,"-").concat(t));if(n){const{session:r,projects:i,selectedProject:o,sessionNotes:s,isBillable:a,timestamp:c}=JSON.parse(n);return Date.now()-c<3e4?(l(r),u(i),h(o),p(s),g(a),console.log("Session details loaded from cache"),!0):(sessionStorage.removeItem("sessionDetail-".concat(e,"-").concat(t)),console.log("Cached data expired, fetching from Firestore"),!1)}return!1}),[]),C=(0,r.useCallback)(((e,t,n,r,i,o,s)=>{const a={session:n,projects:r,selectedProject:i,sessionNotes:o,isBillable:s,timestamp:Date.now()};sessionStorage.setItem("sessionDetail-".concat(e,"-").concat(t),JSON.stringify(a)),console.log("Session details cached")}),[]),A=(0,r.useCallback)((async e=>{try{const t=(0,Pn.collection)(Dn,"projects"),n=(0,Pn.query)(t,(0,Pn.where)("userId","==",e)),r=(await(0,Pn.getDocs)(n)).docs.map((e=>(0,In.A)({id:e.id,name:e.data().name,imageUrl:e.data().imageUrl},e.data())));return u(r),console.log("Projects fetched successfully:",r),r}catch(t){return console.error("Error fetching projects:",t),[]}}),[]),T=(0,r.useCallback)((async e=>{if(!e)return null;try{const t=(0,Pn.doc)(Dn,"sessions",e),n=await(0,Pn.getDoc)(t);if(n.exists()){return n.data()}return console.error("Session not found in Firestore - sessionId:",e),null}catch(t){return console.error("Error fetching session details:",t,e),null}}),[]);(0,r.useEffect)((()=>{if(console.log("Data Loading useEffect (Fetch Projects) - START - User State:",o,"SessionId Prop:",i),o&&i&&!E.current){E.current=!0;k(o.uid,i)?y(!1):(y(!0),A(o.uid))}else console.log("Data Loading useEffect (Fetch Projects) - Skipped: Already loaded or no user/sessionId");console.log("Data Loading useEffect (Fetch Projects) - END")}),[o,i,A,k]),(0,r.useEffect)((()=>{console.log("Data Loading useEffect (Fetch Session & Select Project) - START - Projects State Ready:",c.length>0,"SessionId:",i),c.length>0&&i&&o?T(i).then((e=>{if(e){l(e),p(e.sessionNotes||""),g(e.isBillable);let t=null;e.projectId&&(t=c.find((t=>t.id===e.projectId)),t?console.log("Project found by projectId:",t.name):console.warn("Project ID from session not found in fetched projects. Falling back to project name.")),!t&&e.project&&(t=c.find((t=>t.name===e.project)),t?console.log("Project found by projectName (fallback):",t.name):console.warn("Project Name from session also not found in fetched projects.")),t?(h(t),console.log("Data Loading useEffect - Project pre-selected:",t.name)):(console.warn("Data Loading useEffect - No project matched from session data. Falling back to first project or null."),h(c[0]||null),c[0]?console.log("Data Loading useEffect - Fallback to first project:",c[0].name):(console.log("Data Loading useEffect - No projects available to fallback to."),h(null)))}else l(null)})).catch((e=>{console.error("Data Loading useEffect (Fetch Session & Select Project) - Error:",e),l(null)})).finally((()=>{y(!1)})):0===c.length&&i&&(console.log("Data Loading useEffect (Fetch Session & Select Project) - No projects available yet."),v||y(!1)),console.log("Data Loading useEffect (Fetch Session & Select Project) - END")}),[c,i,o,T]),(0,r.useEffect)((()=>{const e=lt(Rn,(e=>{s(e)}));return()=>e()}),[]),(0,r.useEffect)((()=>{a&&o&&i&&c.length>0&&d&&C(o.uid,i,a,c,d,f,m)}),[o,i,a,c,d,f,m,C]),(0,r.useEffect)((()=>{if(a){const e=(null===d||void 0===d?void 0:d.name)!==a.project||m!==a.isBillable||f!==a.sessionNotes;w(e)}}),[null===d||void 0===d?void 0:d.name,m,f,a]);return v?(0,jn.jsx)("div",{className:"homepage-loading",children:(0,jn.jsx)(Ey,{className:"profile-pic souko-logo-header spinning-logo"})}):a?(0,jn.jsxs)("div",{className:"session-detail-page",children:[(0,jn.jsx)(Zv,{variant:"journalOverview",showBackArrow:!0,navigate:t}),(0,jn.jsx)("div",{className:"timer-quote",children:"This moment was yours"}),(0,jn.jsx)("div",{className:"timer",children:new Date(1e3*a.elapsedTime).toISOString().substr(11,8)}),(0,jn.jsx)("h2",{className:"projects-label",children:"Details"}),(0,jn.jsxs)("div",{className:"project-dropdown-container",children:[null!==d&&void 0!==d&&d.imageUrl?(0,jn.jsx)("img",{src:d.imageUrl,alt:d.name,className:"dropdown-project-image"}):null!==d&&void 0!==d&&d.name?(0,jn.jsx)("div",{className:"dropdown-default-image",children:d.name.charAt(0).toUpperCase()}):null,(0,jn.jsxs)("select",{className:"project-dropdown",value:(null===d||void 0===d?void 0:d.name)||"",onChange:e=>{const t=e.target.value,n=c.find((e=>e.name===t));h(n)},children:[(0,jn.jsx)("option",{value:"",disabled:!0,children:"Select Project"}),c.map((e=>(0,jn.jsx)("option",{value:e.name,children:e.name},e.id)))]}),(0,jn.jsx)(MS,{className:"dropdown-arrow"})]}),(0,jn.jsxs)("div",{className:"input-tile billable-tile",onClick:()=>{g(!m),w(!0)},style:{cursor:"pointer"},children:[(0,jn.jsx)("span",{className:"input-label billable-label",children:m?"Billable":"Non-billable"}),(0,jn.jsx)("div",{className:"billable-radio",children:m?(0,jn.jsx)(tE,{}):(0,jn.jsx)(sE,{})})]}),(0,jn.jsxs)("div",{className:"input-tile notes-input-tile",children:[(0,jn.jsx)("textarea",{id:"session-notes",className:"notes-textarea",placeholder:"Add notes for this session",value:f,onChange:e=>{p(e.target.value),w(!0)}}),(0,jn.jsx)(KS,{className:"notes-edit-icon"})]}),(0,jn.jsxs)("button",{className:"save-button sticky-button-top ".concat(b?"active":""),onClick:async()=>{if(b&&a&&d)try{const e=(0,Pn.doc)(Dn,"sessions",i);await(0,Pn.updateDoc)(e,{project:d.name,projectId:d.id,isBillable:m,sessionNotes:f});const t=(0,In.A)((0,In.A)({},a),{},{project:d.name,projectId:d.id,isBillable:m,sessionNotes:f});l(t),w(!1),console.log("Session updated successfully!")}catch(e){console.error("Error updating session:",e)}},disabled:!b,children:[(0,jn.jsx)(dE,{className:"button-icon",style:{fill:b?"var(--text-color)":"var(--text-muted)"}}),"Save this moment"]}),(0,jn.jsxs)("button",{className:"erase-button sticky-button",onClick:()=>{S(!0)},children:[(0,jn.jsx)(gE,{className:"button-icon"}),"Erase your moment"]}),(0,jn.jsx)(vw,{show:x,onHide:()=>{S(!1)},title:"Erase this moment?",body:"Are you sure you want to delete this session? This action cannot be undone.",onConfirm:async()=>{try{const e=(0,Pn.doc)(Dn,"sessions",i),n=await(0,Pn.getDoc)(e);let r=null;n.exists()&&(r=n.data().projectId),await(0,Pn.deleteDoc)((0,Pn.doc)(Dn,"sessions",i)),console.log("Session deleted successfully!"),r?t("project-detail",{projectId:r}):(t("projects"),console.warn("Project ID not found for deleted session, navigating to projects overview."))}catch(e){console.error("Error deleting session:",e)}finally{S(!1)}},confirmText:"Yes, Erase",cancelText:"Cancel"})]}):(0,jn.jsx)("p",{className:"error",children:"Session not found."})}),yE=r.memo((e=>{let{navigate:t,totalTime:n,projectId:i}=e;const o=(0,r.useMemo)((()=>ey(n)),[n]),s=(0,r.useCallback)((()=>{t("time-tracker-setup")}),[t]),a=(0,r.useCallback)((()=>{t("home")}),[t]),l=((0,r.useCallback)((()=>{i?t("project-detail",{projectId:i}):console.warn("Project ID not available to open details.")}),[t,i]),(0,r.useCallback)((()=>{console.log("Share functionality is disabled.")}),[]));return(0,jn.jsxs)("div",{className:"session-overview-page",children:[(0,jn.jsx)(Zv,{variant:"journalOverview",showBackArrow:!0,navigate:t}),(0,jn.jsx)("section",{className:"motivational-section",children:(0,jn.jsx)(dh,{words:'For <span class="accent-text">'.concat(o,"</span>, you lived the\n now! Honoring the simplicity\n of being.")})}),(0,jn.jsxs)("div",{className:"overview-actions sticky-button",children:[(0,jn.jsx)("button",{className:"button secondary-button",onClick:s,children:"Start a new session"}),(0,jn.jsx)("button",{className:"button secondary-button",onClick:a,children:"Return home"}),(0,jn.jsx)("button",{className:"button secondary-button disabled",disabled:!0,onClick:l,children:"Share"})]})]})}));yE.displayName="SessionOverviewPage";const bE=yE,wE=(e,t)=>{if(!e&&!t)return null;if(null!=t){const e=Number(t),n=new Date(e);return isNaN(n.getTime())?null:n}if("string"===typeof e){let t=new Date(e);if(isNaN(t.getTime())){const n=e.replace(" at "," ");t=new Date(n)}return isNaN(t.getTime())?null:t}if("function"===typeof e.toDate)return e.toDate();if(null!=e.seconds&&null!=e.nanoseconds){const t=Number(e.seconds),n=Number(e.nanoseconds);if(!isNaN(t)&&!isNaN(n)){const e=new Date(1e3*t+n/1e6);return isNaN(e.getTime())?null:e}}const n=new Date(e);return isNaN(n.getTime())?null:n},xE=e=>{let{navigate:t}=e;const[n,i]=(0,r.useState)(null),[o,s]=(0,r.useState)([]),[a,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(0),[f,p]=(0,r.useState)("tracked");(0,r.useEffect)((()=>{const e=lt(Rn,(e=>{if(e){i(e),((e,t,n)=>{const r=localStorage.getItem("projectOverviewData_".concat(e));if(r)try{const e=JSON.parse(r);if(Date.now()-e.timestamp<3e4)return t(e.projects||[]),n(e.sessions||[]),!0}catch(i){console.error("Error parsing cached project overview data",i)}return!1})(e.uid,s,l)&&u(!1);const t=(0,Pn.query)((0,Pn.collection)(Dn,"projects"),(0,Pn.where)("userId","==",e.uid)),n=(0,Pn.query)((0,Pn.collection)(Dn,"sessions"),(0,Pn.where)("userId","==",e.uid),(0,Pn.where)("status","==","stopped"));let r,o;const a=e=>{const t=e.docs.map((e=>({id:e.id,name:e.data().name,imageUrl:e.data().imageUrl})));s(t),h((e=>e+1))},c=e=>{const t=e.docs.map((e=>e.data()));l(t),h((e=>e+1))};return r=(0,Pn.onSnapshot)(t,a,(e=>{console.error("Projects onSnapshot Error:",e),h((e=>e+1))})),o=(0,Pn.onSnapshot)(n,c,(e=>{console.error("Sessions onSnapshot Error:",e),h((e=>e+1))})),()=>{r&&r(),o&&o()}}t("login")}));return()=>e()}),[t]),(0,r.useEffect)((()=>{d>=2&&n&&(((e,t,n)=>{const r={projects:t,sessions:n,timestamp:Date.now()};localStorage.setItem("projectOverviewData_".concat(e),JSON.stringify(r))})(n.uid,o,a),u(!1),h(0))}),[d,n,o,a]);const m=(0,r.useMemo)((()=>{const e={};return o.forEach((t=>{const n=a.filter((e=>e.projectId===t.id)).reduce(((e,t)=>e+(t.elapsedTime||0)),0);e[t.id]=n})),e}),[o,a]),g=(0,r.useMemo)((()=>a.reduce(((e,t)=>e+(t.elapsedTime||0)),0)),[a]),v=(0,r.useCallback)((e=>{const t=ey(e),n=t.split(" ");return 2===n.length?"".concat(n[0]," ").concat(n[1]):4===n.length&&"days"===n[1]?"".concat(n[0],"d ").concat(n[2],"h"):t}),[]),y=(0,r.useMemo)((()=>v(g)),[g,v]),b=(0,r.useCallback)((()=>{p((e=>"tracked"===e?"recent":"tracked"))}),[]),w=(0,r.useMemo)((()=>"tracked"===f?[...o].sort(((e,t)=>{const n=m[e.id]||0;return(m[t.id]||0)-n})):[...o].sort(((e,t)=>{const n=a.filter((t=>t.projectId===e.id&&t.startTime)),r=a.filter((e=>e.projectId===t.id&&e.startTime)),i=n.length?Math.max(...n.map((e=>{const t=wE(e.startTime,e.startTimeMs);return t?t.getTime():0}))):0;return(r.length?Math.max(...r.map((e=>{const t=wE(e.startTime,e.startTimeMs);return t?t.getTime():0}))):0)-i}))),[o,a,f,m]),x=(0,r.useCallback)((e=>e.imageUrl?(0,jn.jsx)("img",{src:e.imageUrl,alt:e.name,className:"project-image"}):(0,jn.jsx)("div",{className:"default-project-image",style:{backgroundColor:"#FE2F00"},children:(0,jn.jsx)("span",{children:(e.name||"P").charAt(0).toUpperCase()})})),[]),S=(0,r.useMemo)((()=>o.length?(0,jn.jsx)("ul",{className:"projects-list",children:w.map((e=>(0,jn.jsxs)("li",{className:"project-item",onClick:()=>t("project-detail",{projectId:e.id}),children:[(0,jn.jsx)("div",{className:"project-image-container",children:x(e)}),(0,jn.jsx)("div",{className:"project-name",children:e.name}),(0,jn.jsx)("div",{className:"project-total-time",children:m[e.id]?ey(m[e.id]):ey(0)})]},e.id)))}):(0,jn.jsx)("p",{children:"No projects found. Start tracking to see results here!"})),[o,w,m,t,x]);return c?(0,jn.jsx)("div",{className:"homepage-loading",children:(0,jn.jsx)(Ey,{className:"profile-pic souko-logo-header spinning-logo"})}):(0,jn.jsxs)("div",{className:"project-container",children:[(0,jn.jsx)(Zv,{variant:"projectOverview",showBackArrow:!0,onBack:()=>t("home"),navigate:t,onActionClick:()=>t("create-project")}),(0,jn.jsx)("section",{className:"motivational-section",children:(0,jn.jsx)(dh,{words:'You tracked <span class="accent-text">'.concat(y,"</span> hours.\nTime flows where focus leads.")})}),(0,jn.jsx)("main",{className:"homepage-content",children:(0,jn.jsxs)("section",{className:"projects-section",children:[(0,jn.jsxs)("div",{className:"projects-header",children:[(0,jn.jsx)("h2",{className:"projects-label",children:"All Projects"}),(0,jn.jsx)("div",{className:"projects-actions",children:(0,jn.jsx)("span",{onClick:b,className:"projects-label sort-toggle-label",children:"tracked"===f?"Most recent":"Most tracked"})})]}),S]})})]})},SE=e=>{let{navigate:t}=e;const[n,i]=(0,r.useState)(null),[o,s]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)(0),d=(0,r.useCallback)((e=>e&&"function"===typeof e.toDate?e.toDate():null),[]),h=(0,r.useCallback)((e=>{const t=localStorage.getItem("journalOverviewData_".concat(e));if(t)try{const e=JSON.parse(t);if(Date.now()-e.timestamp<3e4)return s(e.journalEntries||[]),!0}catch(n){console.error("Error parsing cached journal data",n)}return!1}),[]),f=(0,r.useCallback)(((e,t)=>{const n={journalEntries:t,timestamp:Date.now()};localStorage.setItem("journalOverviewData_".concat(e),JSON.stringify(n))}),[]),p=(0,r.useCallback)((async e=>{h(e)?l(!1):l(!0);const t=(0,Pn.query)((0,Pn.collection)(Dn,"journalEntries"),(0,Pn.where)("userId","==",e),(0,Pn.orderBy)("createdAt","desc"));let n;return n=(0,Pn.onSnapshot)(t,(e=>{const t=e.docs.map((e=>(0,In.A)((0,In.A)({id:e.id},e.data()),{},{createdAt:d(e.data().createdAt)})));s(t),u((e=>e+1))}),(e=>{console.error("Journal entries onSnapshot error:",e),u((e=>e+1))})),()=>{n&&n()}}),[d,h]);(0,r.useEffect)((()=>{c>=1&&n&&(f(n.uid,o),l(!1),u(0))}),[c,n,o,f]),(0,r.useEffect)((()=>{const e=lt(Rn,(async e=>{e?(i(e),p(e.uid)):t("login")}));return()=>e()}),[t,p]);const m=(0,r.useMemo)((()=>o.length),[o]),g=(0,r.useMemo)((()=>{if(a)return(0,jn.jsx)("p",{children:"Loading journal entries..."});if(o.length>0){const e=o.reduce(((e,t)=>{if(!t.createdAt)return e;const n=t.createdAt.toLocaleString("en-US",{month:"long",year:"numeric"});return e[n]||(e[n]=[]),e[n].push(t),e}),{});return Object.entries(e).map((e=>{let[t,n]=e;return(0,jn.jsxs)("section",{className:"month-section",children:[(0,jn.jsx)("h2",{className:"month-header",children:t}),(0,jn.jsx)("ul",{className:"journal-entries-list",children:n.map((e=>(0,jn.jsxs)("li",{className:"journal-entry-item",children:[(0,jn.jsx)("div",{className:"entry-date",children:e.createdAt.toLocaleString("en-US",{weekday:"short",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,day:"numeric"}).replace(/,/g,".")}),(0,jn.jsx)("div",{className:"entry-mood",children:e.mood})]},e.id)))})]},t)}))}return(0,jn.jsx)("p",{children:"No journal entries found."})}),[a,o]);return(0,jn.jsxs)("div",{className:"journal-overview-container",children:[(0,jn.jsx)(Zv,{navigate:t,variant:"journalOverview",showBackArrow:!0,onBack:()=>t("home")}),(0,jn.jsx)("section",{className:"motivational-section",children:!a&&(0,jn.jsx)(dh,{words:'You logged <span class="accent-text">'.concat(m," moments</span>. Progress blooms where focus takes root.")})}),(0,jn.jsx)("main",{className:"journal-overview-content",children:(0,jn.jsx)("section",{className:"journal-entries-section",children:g})})]})},EE=r.memo((e=>{let{navigate:t}=e;const n=(0,r.useCallback)((()=>{const e=new Date,t=new Date(e);t.setHours(18,0,0,0),e.getHours()>=18&&t.setDate(t.getDate()+1);const n=t.getTime()-e.getTime();if(n<=0)return{hours:0,minutes:0,seconds:0};return{hours:Math.floor(n/36e5),minutes:Math.floor(n/1e3/60%60),seconds:Math.floor(n/1e3%60)}}),[]),[i,o]=(0,r.useState)(n());(0,r.useEffect)((()=>{const e=setInterval((()=>{o(n())}),1e3);return()=>clearInterval(e)}),[n]);const s=(0,r.useCallback)((()=>{t("home")}),[t]),a=(0,r.useCallback)((()=>{alert("Reminder set for 6 PM!")}),[]),l=(0,r.useMemo)((()=>"".concat(String(i.hours).padStart(2,"0"),"h ").concat(String(i.minutes).padStart(2,"0"),"m ").concat(String(i.seconds).padStart(2,"0"),"s")),[i]);return(0,jn.jsxs)("div",{className:"journal-countdown-page",children:[(0,jn.jsx)(Zv,{variant:"journalOverview",showBackArrow:!0,navigate:t}),(0,jn.jsxs)("main",{className:"journal-countdown-content",children:[(0,jn.jsxs)("section",{className:"motivational-section",children:[(0,jn.jsx)(dh,{words:"The song of your roots is the song of now.",className:"journal-countdown-quote"}),(0,jn.jsx)("p",{className:"journal-countdown-quote-description",children:"Revisit Souko in"}),(0,jn.jsxs)("span",{id:"countdown-timer",className:"countdown-timer journal-countdown-quote",children:[" ",l," "]})]}),(0,jn.jsxs)("div",{className:"journal-countdown-buttons sticky-button",children:[" ",(0,jn.jsx)("button",{className:"journal-countdown-button",onClick:s,children:"Return home"}),(0,jn.jsx)("button",{className:"journal-countdown-button",onClick:a,children:"Set reminder"})]})]})]})}));EE.displayName="JournalCountdown";const kE=EE,CE=async(e,t)=>{try{const n=Rn.currentUser,r=(0,Pn.collection)(Dn,"appLogs");await(0,Pn.addDoc)(r,{userId:n?n.uid:"anonymous",timestamp:(0,Pn.serverTimestamp)(),eventName:e,eventDetails:t}),console.log('Event "'.concat(e,'" logged successfully.'))}catch(n){console.error("Error logging event:",e,n)}};function AE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{!function(e,t){"function"===typeof e?e(t):e&&(e.current=t)}(t,e)}))}),t)}const TE=function(e){return"string"===typeof e};const _E=function(e,t,n){return void 0===e||TE(e)?t:(0,In.A)((0,In.A)({},t),{},{ownerState:(0,In.A)((0,In.A)({},t.ownerState),n)})};const IE=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const PE=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const NE=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=gd(null===n||void 0===n?void 0:n.className,o,null===i||void 0===i?void 0:i.className,null===r||void 0===r?void 0:r.className),t=(0,In.A)((0,In.A)((0,In.A)({},null===n||void 0===n?void 0:n.style),null===i||void 0===i?void 0:i.style),null===r||void 0===r?void 0:r.style),s=(0,In.A)((0,In.A)((0,In.A)({},n),i),r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=IE((0,In.A)((0,In.A)({},i),r)),a=PE(r),l=PE(i),c=t(s),u=gd(null===c||void 0===c?void 0:c.className,null===n||void 0===n?void 0:n.className,o,null===i||void 0===i?void 0:i.className,null===r||void 0===r?void 0:r.className),d=(0,In.A)((0,In.A)((0,In.A)((0,In.A)({},null===c||void 0===c?void 0:c.style),null===n||void 0===n?void 0:n.style),null===i||void 0===i?void 0:i.style),null===r||void 0===r?void 0:r.style),h=(0,In.A)((0,In.A)((0,In.A)((0,In.A)({},c),n),l),a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}};const DE=function(e,t,n){return"function"===typeof e?e(t,n):e},RE=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const OE=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=er(e,RE),a=o?{}:DE(r,i),{props:l,internalRef:c}=NE((0,In.A)((0,In.A)({},s),{},{externalSlotProps:a})),u=AE(c,null===a||void 0===a?void 0:a.ref,null===(t=e.additionalProps)||void 0===t?void 0:t.ref);return _E(n,(0,In.A)((0,In.A)({},l),{},{ref:u}),i)};function jE(e){return e&&e.ownerDocument||document}function ME(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}const LE="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;const FE=function(e){const t=r.useRef(e);return LE((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current},VE={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};const UE=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))};function BE(e,t,n,r,i){return 1===n?Math.min(e+t,i):Math.max(e-t,r)}function zE(e,t){return e-t}function qE(e,t){var n;const{index:r}=null!==(n=e.reduce(((e,n,r)=>{const i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null))&&void 0!==n?n:{};return r}function HE(e,t){if(void 0!==t.current&&e.changedTouches){const n=e;for(let e=0;e<n.changedTouches.length;e+=1){const r=n.changedTouches[e];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function WE(e,t,n){return 100*(e-t)/(n-t)}function KE(e,t,n){const r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){const t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}(t)))}function GE(e){let{values:t,newValue:n,index:r}=e;const i=t.slice();return i[r]=n,i.sort(zE)}function QE(e){var t,n;let{sliderRef:r,activeIndex:i,setActive:o}=e;const s=jE(r.current);var a;null!==(t=r.current)&&void 0!==t&&t.contains(s.activeElement)&&Number(null===s||void 0===s||null===(n=s.activeElement)||void 0===n?void 0:n.getAttribute("data-index"))===i||(null===(a=r.current)||void 0===a||a.querySelector('[type="range"][data-index="'.concat(i,'"]')).focus());o&&o(i)}function YE(e,t){return"number"===typeof e&&"number"===typeof t?e===t:"object"===typeof e&&"object"===typeof t&&UE(e,t)}const XE={horizontal:{offset:e=>({left:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},"horizontal-reverse":{offset:e=>({right:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},vertical:{offset:e=>({bottom:"".concat(e,"%")}),leap:e=>({height:"".concat(e,"%")})}},JE=e=>e;let ZE;function $E(){return void 0===ZE&&(ZE="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),ZE}function ek(e){const{"aria-labelledby":t,defaultValue:n,disabled:i=!1,disableSwap:o=!1,isRtl:s=!1,marks:a=!1,max:l=100,min:c=0,name:u,onChange:d,onChangeCommitted:h,orientation:f="horizontal",rootRef:p,scale:m=JE,step:g=1,shiftStep:v=10,tabIndex:y,value:b}=e,w=r.useRef(void 0),[x,S]=r.useState(-1),[E,k]=r.useState(-1),[C,A]=r.useState(!1),T=r.useRef(0),_=r.useRef(null),[I,P]=function(e){let{controlled:t,default:n,name:i,state:o="value"}=e;const{current:s}=r.useRef(void 0!==t),[a,l]=r.useState(n);return[s?t:a,r.useCallback((e=>{s||l(e)}),[])]}({controlled:b,default:null!==n&&void 0!==n?n:c,name:"Slider"}),N=d&&((e,t,n)=>{const r=e.nativeEvent||e,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:t,name:u}}),_.current=t,d(i,t,n)}),D=Array.isArray(I);let R=D?I.slice().sort(zE):[I];R=R.map((e=>null==e?c:kh(e,c,l)));const O=!0===a&&null!==g?[...Array(Math.floor((l-c)/g)+1)].map(((e,t)=>({value:c+g*t}))):a||[],j=O.map((e=>e.value)),[M,L]=r.useState(-1),F=r.useRef(null),V=AE(p,F),U=e=>t=>{var n;const r=Number(t.currentTarget.getAttribute("data-index"));ME(t.target)&&L(r),k(r),null===e||void 0===e||null===(n=e.onFocus)||void 0===n||n.call(e,t)},B=e=>t=>{var n;ME(t.target)||L(-1),k(-1),null===e||void 0===e||null===(n=e.onBlur)||void 0===n||n.call(e,t)},z=(e,t)=>{const n=Number(e.currentTarget.getAttribute("data-index")),r=R[n],i=j.indexOf(r);let s=t;if(O&&null==g){const e=j[j.length-1];s=s>=e?e:s<=j[0]?j[0]:s<r?j[i-1]:j[i+1]}if(s=kh(s,c,l),D){o&&(s=kh(s,R[n-1]||-1/0,R[n+1]||1/0));const e=s;s=GE({values:R,newValue:s,index:n});let t=n;o||(t=s.indexOf(e)),QE({sliderRef:F,activeIndex:t})}var a;(P(s),L(n),N&&!YE(s,I)&&N(e,s,n),h)&&h(e,null!==(a=_.current)&&void 0!==a?a:s)},q=e=>t=>{var n;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(t.key)){t.preventDefault();const e=Number(t.currentTarget.getAttribute("data-index")),n=R[e];let r=null;if(null!=g){const e=t.shiftKey?v:g;switch(t.key){case"ArrowUp":r=BE(n,e,1,c,l);break;case"ArrowRight":r=BE(n,e,s?-1:1,c,l);break;case"ArrowDown":r=BE(n,e,-1,c,l);break;case"ArrowLeft":r=BE(n,e,s?1:-1,c,l);break;case"PageUp":r=BE(n,v,1,c,l);break;case"PageDown":r=BE(n,v,-1,c,l);break;case"Home":r=c;break;case"End":r=l}}else if(O){const e=j[j.length-1],i=j.indexOf(n),o=[s?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];[s?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"].includes(t.key)?r=0===i?j[0]:j[i-1]:o.includes(t.key)&&(r=i===j.length-1?e:j[i+1])}null!=r&&z(t,r)}null===e||void 0===e||null===(n=e.onKeyDown)||void 0===n||n.call(e,t)};LE((()=>{var e;i&&F.current.contains(document.activeElement)&&(null===(e=document.activeElement)||void 0===e||e.blur())}),[i]),i&&-1!==x&&S(-1),i&&-1!==M&&L(-1);const H=r.useRef(void 0);let W=f;s&&"horizontal"===f&&(W+="-reverse");const K=e=>{let{finger:t,move:n=!1}=e;const{current:r}=F,{width:i,height:s,bottom:a,left:u}=r.getBoundingClientRect();let d,h;if(d=W.startsWith("vertical")?(a-t.y)/s:(t.x-u)/i,W.includes("-reverse")&&(d=1-d),h=function(e,t,n){return(n-t)*e+t}(d,c,l),g)h=KE(h,g,c);else{const e=qE(j,h);h=j[e]}h=kh(h,c,l);let f=0;if(D){f=n?H.current:qE(R,h),o&&(h=kh(h,R[f-1]||-1/0,R[f+1]||1/0));const e=h;h=GE({values:R,newValue:h,index:f}),o&&n||(f=h.indexOf(e),H.current=f)}return{newValue:h,activeIndex:f}},G=FE((e=>{const t=HE(e,w);if(!t)return;if(T.current+=1,"mousemove"===e.type&&0===e.buttons)return void Q(e);const{newValue:n,activeIndex:r}=K({finger:t,move:!0});QE({sliderRef:F,activeIndex:r,setActive:S}),P(n),!C&&T.current>2&&A(!0),N&&!YE(n,I)&&N(e,n,r)})),Q=FE((e=>{const t=HE(e,w);if(A(!1),!t)return;const{newValue:n}=K({finger:t,move:!0});var r;(S(-1),"touchend"===e.type&&k(-1),h)&&h(e,null!==(r=_.current)&&void 0!==r?r:n);w.current=void 0,X()})),Y=FE((e=>{if(i)return;$E()||e.preventDefault();const t=e.changedTouches[0];null!=t&&(w.current=t.identifier);const n=HE(e,w);if(!1!==n){const{newValue:t,activeIndex:r}=K({finger:n});QE({sliderRef:F,activeIndex:r,setActive:S}),P(t),N&&!YE(t,I)&&N(e,t,r)}T.current=0;const r=jE(F.current);r.addEventListener("touchmove",G,{passive:!0}),r.addEventListener("touchend",Q,{passive:!0})})),X=r.useCallback((()=>{const e=jE(F.current);e.removeEventListener("mousemove",G),e.removeEventListener("mouseup",Q),e.removeEventListener("touchmove",G),e.removeEventListener("touchend",Q)}),[Q,G]);r.useEffect((()=>{const{current:e}=F;return e.addEventListener("touchstart",Y,{passive:$E()}),()=>{e.removeEventListener("touchstart",Y),X()}}),[X,Y]),r.useEffect((()=>{i&&X()}),[i,X]);const J=WE(D?R[0]:c,c,l),Z=WE(R[R.length-1],c,l)-J,$=e=>t=>{var n;null===(n=e.onMouseLeave)||void 0===n||n.call(e,t),k(-1)};let ee;"vertical"===f&&(ee=s?"vertical-rl":"vertical-lr");return{active:x,axis:W,axisProps:XE,dragging:C,focusedThumbIndex:M,getHiddenInputProps:function(){var n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=IE(r),a={onChange:(d=o||{},e=>{var t;null===(t=d.onChange)||void 0===t||t.call(d,e),z(e,e.target.valueAsNumber)}),onFocus:U(o||{}),onBlur:B(o||{}),onKeyDown:q(o||{})};var d;const h=(0,In.A)((0,In.A)({},o),a);return(0,In.A)((0,In.A)((0,In.A)({tabIndex:y,"aria-labelledby":t,"aria-orientation":f,"aria-valuemax":m(l),"aria-valuemin":m(c),name:u,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":null!==(n=e.step)&&void 0!==n?n:void 0,disabled:i},r),h),{},{style:(0,In.A)((0,In.A)({},VE),{},{direction:s?"rtl":"ltr",width:"100%",height:"100%",writingMode:ee})})},getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=IE(e),n={onMouseDown:(r=t||{},e=>{var t;if(null===(t=r.onMouseDown)||void 0===t||t.call(r,e),i)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const n=HE(e,w);if(!1!==n){const{newValue:t,activeIndex:r}=K({finger:n});QE({sliderRef:F,activeIndex:r,setActive:S}),P(t),N&&!YE(t,I)&&N(e,t,r)}T.current=0;const o=jE(F.current);o.addEventListener("mousemove",G,{passive:!0}),o.addEventListener("mouseup",Q)})};var r;const o=(0,In.A)((0,In.A)({},t),n);return(0,In.A)((0,In.A)({},e),{},{ref:V},o)},getThumbProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=IE(e),n={onMouseOver:(r=t||{},e=>{var t;null===(t=r.onMouseOver)||void 0===t||t.call(r,e);const n=Number(e.currentTarget.getAttribute("data-index"));k(n)}),onMouseLeave:$(t||{})};var r;return(0,In.A)((0,In.A)((0,In.A)({},e),t),n)},marks:O,open:E,range:D,rootRef:V,trackLeap:Z,trackOffset:J,values:R,getThumbStyle:e=>({pointerEvents:-1!==x&&x!==e?"none":void 0})}}const tk=function(e){return"string"===typeof e},nk=e=>!e||!tk(e);function rk(e){return uv("MuiSlider",e)}const ik=dv("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);const ok=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function sk(e){return e}const ak=Jg("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(gv(n.color))],"medium"!==n.size&&t["size".concat(gv(n.size))],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})(nv((e=>{let{theme:t}=e;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},["&.".concat(ik.disabled)]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},["&.".concat(ik.dragging)]:{["& .".concat(ik.thumb,", & .").concat(ik.track)]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(Ev()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}))),lk=Jg("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),ck=Jg("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(nv((e=>{let{theme:t}=e;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(Ev()).map((e=>{let[n]=e;return{props:{color:n,track:"inverted"},style:(0,In.A)({},t.vars?{backgroundColor:t.vars.palette.Slider["".concat(n,"Track")],borderColor:t.vars.palette.Slider["".concat(n,"Track")]}:(0,In.A)((0,In.A)({backgroundColor:jh(t.palette[n].main,.62),borderColor:jh(t.palette[n].main,.62)},t.applyStyles("dark",{backgroundColor:Rh(t.palette[n].main,.5)})),t.applyStyles("dark",{borderColor:Rh(t.palette[n].main,.5)})))}}))]}}))),uk=Jg("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t["thumbColor".concat(gv(n.color))],"medium"!==n.size&&t["thumbSize".concat(gv(n.size))]]}})(nv((e=>{let{theme:t}=e;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},["&.".concat(ik.disabled)]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(Ev()).map((e=>{let[n]=e;return{props:{color:n},style:{["&:hover, &.".concat(ik.focusVisible)]:(0,In.A)((0,In.A)({},t.vars?{boxShadow:"0px 0px 0px 8px rgba(".concat(t.vars.palette[n].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 8px ".concat(Nh(t.palette[n].main,.16))}),{},{"@media (hover: none)":{boxShadow:"none"}}),["&.".concat(ik.active)]:(0,In.A)({},t.vars?{boxShadow:"0px 0px 0px 14px rgba(".concat(t.vars.palette[n].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 14px ".concat(Nh(t.palette[n].main,.16))})}}}))]}}))),dk=Jg((function(e){const{children:t,className:n,value:i}=e,o=(e=>{const{open:t}=e;return{offset:gd(t&&ik.valueLabelOpen),circle:ik.valueLabelCircle,label:ik.valueLabelLabel}})(e);return t?r.cloneElement(t,{className:gd(t.props.className)},(0,jn.jsxs)(r.Fragment,{children:[t.props.children,(0,jn.jsx)("span",{className:gd(o.offset,n),"aria-hidden":!0,children:(0,jn.jsx)("span",{className:o.circle,children:(0,jn.jsx)("span",{className:o.label,children:i})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(nv((e=>{let{theme:t}=e;return(0,In.A)((0,In.A)({zIndex:1,whiteSpace:"nowrap"},t.typography.body2),{},{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},["&.".concat(ik.valueLabelOpen)]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},["&.".concat(ik.valueLabelOpen)]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})}))),hk=Jg("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Xg(e)&&"markActive"!==e,overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(nv((e=>{let{theme:t}=e;return{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}}))),fk=Jg("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Xg(e)&&"markLabelActive"!==e,overridesResolver:(e,t)=>t.markLabel})(nv((e=>{let{theme:t}=e;return(0,In.A)((0,In.A)({},t.typography.body2),{},{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})}))),pk=e=>{let{children:t}=e;return t},mk=r.forwardRef((function(e,t){var n,i,o,s,a,l,c,u,d,h,f,p,m,g,v,y,b,w,x,S,E,k,C,A;const T=sv({props:e,name:"MuiSlider"}),_=bv(),{"aria-label":I,"aria-valuetext":P,"aria-labelledby":N,component:D="span",components:R={},componentsProps:O={},color:j="primary",classes:M,className:L,disableSwap:F=!1,disabled:V=!1,getAriaLabel:U,getAriaValueText:B,marks:z=!1,max:q=100,min:H=0,name:W,onChange:K,onChangeCommitted:G,orientation:Q="horizontal",shiftStep:Y=10,size:X="medium",step:J=1,scale:Z=sk,slotProps:$,slots:ee,tabIndex:te,track:ne="normal",value:re,valueLabelDisplay:ie="off",valueLabelFormat:oe=sk}=T,se=er(T,ok),ae=(0,In.A)((0,In.A)({},T),{},{isRtl:_,max:q,min:H,classes:M,disabled:V,disableSwap:F,orientation:Q,marks:z,color:j,size:X,step:J,shiftStep:Y,scale:Z,track:ne,valueLabelDisplay:ie,valueLabelFormat:oe}),{axisProps:le,getRootProps:ce,getHiddenInputProps:ue,getThumbProps:de,open:he,active:fe,axis:pe,focusedThumbIndex:me,range:ge,dragging:ve,marks:ye,values:be,trackOffset:we,trackLeap:xe,getThumbStyle:Se}=ek((0,In.A)((0,In.A)({},ae),{},{rootRef:t}));ae.marked=ye.length>0&&ye.some((e=>e.label)),ae.dragging=ve,ae.focusedThumbIndex=me;const Ee=(e=>{const{disabled:t,dragging:n,marked:r,orientation:i,track:o,classes:s,color:a,size:l}=e;return Sh({root:["root",t&&"disabled",n&&"dragging",r&&"marked","vertical"===i&&"vertical","inverted"===o&&"trackInverted",!1===o&&"trackFalse",a&&"color".concat(gv(a)),l&&"size".concat(gv(l))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&"thumbSize".concat(gv(l)),a&&"thumbColor".concat(gv(a))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]},rk,s)})(ae),ke=null!==(n=null!==(i=null===ee||void 0===ee?void 0:ee.root)&&void 0!==i?i:R.Root)&&void 0!==n?n:ak,Ce=null!==(o=null!==(s=null===ee||void 0===ee?void 0:ee.rail)&&void 0!==s?s:R.Rail)&&void 0!==o?o:lk,Ae=null!==(a=null!==(l=null===ee||void 0===ee?void 0:ee.track)&&void 0!==l?l:R.Track)&&void 0!==a?a:ck,Te=null!==(c=null!==(u=null===ee||void 0===ee?void 0:ee.thumb)&&void 0!==u?u:R.Thumb)&&void 0!==c?c:uk,_e=null!==(d=null!==(h=null===ee||void 0===ee?void 0:ee.valueLabel)&&void 0!==h?h:R.ValueLabel)&&void 0!==d?d:dk,Ie=null!==(f=null!==(p=null===ee||void 0===ee?void 0:ee.mark)&&void 0!==p?p:R.Mark)&&void 0!==f?f:hk,Pe=null!==(m=null!==(g=null===ee||void 0===ee?void 0:ee.markLabel)&&void 0!==g?g:R.MarkLabel)&&void 0!==m?m:fk,Ne=null!==(v=null!==(y=null===ee||void 0===ee?void 0:ee.input)&&void 0!==y?y:R.Input)&&void 0!==v?v:"input",De=null!==(b=null===$||void 0===$?void 0:$.root)&&void 0!==b?b:O.root,Re=null!==(w=null===$||void 0===$?void 0:$.rail)&&void 0!==w?w:O.rail,Oe=null!==(x=null===$||void 0===$?void 0:$.track)&&void 0!==x?x:O.track,je=null!==(S=null===$||void 0===$?void 0:$.thumb)&&void 0!==S?S:O.thumb,Me=null!==(E=null===$||void 0===$?void 0:$.valueLabel)&&void 0!==E?E:O.valueLabel,Le=null!==(k=null===$||void 0===$?void 0:$.mark)&&void 0!==k?k:O.mark,Fe=null!==(C=null===$||void 0===$?void 0:$.markLabel)&&void 0!==C?C:O.markLabel,Ve=null!==(A=null===$||void 0===$?void 0:$.input)&&void 0!==A?A:O.input,Ue=OE({elementType:ke,getSlotProps:ce,externalSlotProps:De,externalForwardedProps:se,additionalProps:(0,In.A)({},nk(ke)&&{as:D}),ownerState:(0,In.A)((0,In.A)({},ae),null===De||void 0===De?void 0:De.ownerState),className:[Ee.root,L]}),Be=OE({elementType:Ce,externalSlotProps:Re,ownerState:ae,className:Ee.rail}),ze=OE({elementType:Ae,externalSlotProps:Oe,additionalProps:{style:(0,In.A)((0,In.A)({},le[pe].offset(we)),le[pe].leap(xe))},ownerState:(0,In.A)((0,In.A)({},ae),null===Oe||void 0===Oe?void 0:Oe.ownerState),className:Ee.track}),qe=OE({elementType:Te,getSlotProps:de,externalSlotProps:je,ownerState:(0,In.A)((0,In.A)({},ae),null===je||void 0===je?void 0:je.ownerState),className:Ee.thumb}),He=OE({elementType:_e,externalSlotProps:Me,ownerState:(0,In.A)((0,In.A)({},ae),null===Me||void 0===Me?void 0:Me.ownerState),className:Ee.valueLabel}),We=OE({elementType:Ie,externalSlotProps:Le,ownerState:ae,className:Ee.mark}),Ke=OE({elementType:Pe,externalSlotProps:Fe,ownerState:ae,className:Ee.markLabel}),Ge=OE({elementType:Ne,getSlotProps:ue,externalSlotProps:Ve,ownerState:ae});return(0,jn.jsxs)(ke,(0,In.A)((0,In.A)({},Ue),{},{children:[(0,jn.jsx)(Ce,(0,In.A)({},Be)),(0,jn.jsx)(Ae,(0,In.A)({},ze)),ye.filter((e=>e.value>=H&&e.value<=q)).map(((e,t)=>{const n=WE(e.value,H,q),i=le[pe].offset(n);let o;return o=!1===ne?be.includes(e.value):"normal"===ne&&(ge?e.value>=be[0]&&e.value<=be[be.length-1]:e.value<=be[0])||"inverted"===ne&&(ge?e.value<=be[0]||e.value>=be[be.length-1]:e.value>=be[0]),(0,jn.jsxs)(r.Fragment,{children:[(0,jn.jsx)(Ie,(0,In.A)((0,In.A)((0,In.A)({"data-index":t},We),!tk(Ie)&&{markActive:o}),{},{style:(0,In.A)((0,In.A)({},i),We.style),className:gd(We.className,o&&Ee.markActive)})),null!=e.label?(0,jn.jsx)(Pe,(0,In.A)((0,In.A)((0,In.A)({"aria-hidden":!0,"data-index":t},Ke),!tk(Pe)&&{markLabelActive:o}),{},{style:(0,In.A)((0,In.A)({},i),Ke.style),className:gd(Ee.markLabel,Ke.className,o&&Ee.markLabelActive),children:e.label})):null]},t)})),be.map(((e,t)=>{const n=WE(e,H,q),r=le[pe].offset(n),i="off"===ie?pk:_e;return(0,jn.jsx)(i,(0,In.A)((0,In.A)((0,In.A)({},!tk(i)&&{valueLabelFormat:oe,valueLabelDisplay:ie,value:"function"===typeof oe?oe(Z(e),t):oe,index:t,open:he===t||fe===t||"on"===ie,disabled:V}),He),{},{children:(0,jn.jsx)(Te,(0,In.A)((0,In.A)({"data-index":t},qe),{},{className:gd(Ee.thumb,qe.className,fe===t&&Ee.active,me===t&&Ee.focusVisible),style:(0,In.A)((0,In.A)((0,In.A)({},r),Se(t)),qe.style),children:(0,jn.jsx)(Ne,(0,In.A)({"data-index":t,"aria-label":U?U(t):I,"aria-valuenow":Z(e),"aria-labelledby":N,"aria-valuetext":B?B(Z(e),t):P,value:be[t]},Ge))}))}),t)}))]}))}));var gk,vk;const yk=["title","titleId"];function bk(){return bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bk.apply(null,arguments)}function wk(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,yk);return r.createElement("svg",bk({width:35,height:35,viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,gk||(gk=r.createElement("circle",{cx:17.5,cy:17.5,r:15.5,stroke:"url(#paint0_conic_3247_86)",strokeWidth:4})),vk||(vk=r.createElement("defs",null,r.createElement("conicGradient",{id:"paint0_conic_3247_86",cx:17.5,cy:17.5},r.createElement("stop",{offset:0,stopColor:"#E682FF"}),r.createElement("stop",{offset:1,stopColor:"#FE2F00"})))))}const xk=r.forwardRef(wk);n.p;var Sk,Ek;const kk=["title","titleId"];function Ck(){return Ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ck.apply(null,arguments)}function Ak(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,kk);return r.createElement("svg",Ck({width:35,height:35,viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,Sk||(Sk=r.createElement("circle",{cx:17.5,cy:17.5,r:15.5,stroke:"url(#paint0_conic_3247_84)",strokeWidth:4})),Ek||(Ek=r.createElement("defs",null,r.createElement("conicGradient",{id:"paint0_conic_3247_84",cx:17.5,cy:17.5},r.createElement("stop",{stopColor:"#00FF00"}),r.createElement("stop",{offset:.505,stopColor:"#8ADAFF"}),r.createElement("stop",{offset:1,stopColor:"#93FF8A"})))))}const Tk=r.forwardRef(Ak);n.p;var _k,Ik;const Pk=["title","titleId"];function Nk(){return Nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nk.apply(null,arguments)}function Dk(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Pk);return r.createElement("svg",Nk({width:35,height:35,viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,_k||(_k=r.createElement("circle",{cx:17.5,cy:17.5,r:15.5,stroke:"url(#paint0_conic_3247_81)",strokeWidth:4})),Ik||(Ik=r.createElement("defs",null,r.createElement("conicGradient",{id:"paint0_conic_3247_81",cx:17.5,cy:17.5},r.createElement("stop",{stopColor:"#7B7BFF"}),r.createElement("stop",{offset:.495,stopColor:"#E682FF"}),r.createElement("stop",{offset:1,stopColor:"#00FF00"})))))}const Rk=r.forwardRef(Dk);n.p;var Ok,jk;const Mk=["title","titleId"];function Lk(){return Lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lk.apply(null,arguments)}function Fk(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Mk);return r.createElement("svg",Lk({width:35,height:35,viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,Ok||(Ok=r.createElement("circle",{cx:17.5,cy:17.5,r:15.5,stroke:"url(#paint0_conic_3247_82)",strokeWidth:4})),jk||(jk=r.createElement("defs",null,r.createElement("conicGradient",{id:"paint0_conic_3247_82",cx:17.5,cy:17.5},r.createElement("stop",{stopColor:"#E682FF"}),r.createElement("stop",{offset:.46,stopColor:"#FFD9FB"}),r.createElement("stop",{offset:1,stopColor:"#EFE6D0"})))))}const Vk=r.forwardRef(Fk);n.p;var Uk,Bk;const zk=["title","titleId"];function qk(){return qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qk.apply(null,arguments)}function Hk(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,zk);return r.createElement("svg",qk({width:35,height:35,viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,Uk||(Uk=r.createElement("circle",{cx:17.5,cy:17.5,r:15.5,stroke:"url(#paint0_conic_3247_83)",strokeWidth:4})),Bk||(Bk=r.createElement("defs",null,r.createElement("conicGradient",{id:"paint0_conic_3247_83",cx:17.5,cy:17.5},r.createElement("stop",{stopColor:"#00FF00"}),r.createElement("stop",{offset:.505,stopColor:"#8ADAFF"}),r.createElement("stop",{offset:1,stopColor:"#93FF8A"})))))}const Wk=r.forwardRef(Hk),Kk=(n.p,[{value:"frustrated",label:"Frustrated",icon:xk},{value:"unmotivated",label:"Unmotivated",icon:Tk},{value:"neutral",label:"Neutral",icon:Rk},{value:"focused",label:"Focused",icon:Vk},{value:"inspired",label:"Inspired",icon:Wk}]),Gk=[0,25,50,75,100],Qk=e=>{let t=-1;for(let n=0;n<Gk.length;n++)if(e<=Gk[n]){t=n;break}return-1===t&&(t=Gk.length-1),t},Yk=e=>Gk[e]||0,Xk=r.memo((e=>{let{navigate:t,selectedDate:n}=e;const[i,o]=(0,r.useState)("focused"),[s,a]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),u=n,[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),v=(0,r.useCallback)((async(e,t)=>{g(!0);try{return await(async(e,t)=>{if(!e||!t)throw new Error("User ID and date are required to fetch journal entry by date.");try{const n=(0,Pn.collection)(Dn,"journalEntries"),r=new Date(t);r.setHours(0,0,0,0);const i=new Date(t);i.setHours(23,59,59,999),console.log("getJournalEntryByDate - userId:",e),console.log("getJournalEntryByDate - date (input):",t),console.log("getJournalEntryByDate - startOfDay:",r),console.log("getJournalEntryByDate - endOfDay:",i);const o=(0,Pn.query)(n,(0,Pn.where)("userId","==",e),(0,Pn.where)("createdAt",">=",r),(0,Pn.where)("createdAt","<=",i)),s=await(0,Pn.getDocs)(o);if(s.empty)return console.log("getJournalEntryByDate - No entry found for date:",t),null;{const e=s.docs[0],t=(0,In.A)({id:e.id},e.data());return console.log("getJournalEntryByDate - Entry found:",t),t}}catch(n){return console.error("Error fetching journal entry by date:",n),null}})(e,t)}catch(n){return console.error("Error fetching journal entry:",n),null}finally{g(!1)}}),[]);(0,r.useEffect)((()=>{(async()=>{if(console.log("JournalForm useEffect triggered, selectedDate:",u),u){const e=Rn.currentUser;if(e){g(!0);const t=await v(e.uid,u);g(!1),t?(o(t.mood),a(t.reflection),c(t.futureStep),h(t.id),console.log("Journal entry loaded successfully for date:",u)):(console.log("No journal entry found for ".concat(u,", creating new.")),h(null))}}else o("focused"),a(""),c(""),h(null),console.log("No selectedDate prop received, resetting form for new entry.")})()}),[u,v]);const y=(0,r.useCallback)(((e,t)=>{let n=Qk(t);n>=0&&n<Kk.length&&o(Kk[n].value)}),[]),b=(0,r.useCallback)((e=>{a(e.target.value)}),[]),w=(0,r.useCallback)((e=>{c(e.target.value)}),[]),x=(0,r.useCallback)((async()=>{try{const e=Rn.currentUser;if(!e)return void console.error("User not logged in.");const n=s,r=l;d?(await(async(e,t,n,r)=>{if(!e)throw new Error("Journal entry ID is required to update.");try{const i=(0,Pn.doc)(Dn,"journalEntries",e);await(0,Pn.updateDoc)(i,{mood:t,reflection:n||"",futureStep:r||"",lastUpdated:(0,Pn.serverTimestamp)()}),console.log("Journal entry updated with ID:",e)}catch(i){throw console.error("Error updating journal entry:",i),i}})(d,i,n,r),console.log("Journal entry updated in Firestore:",{mood:i,textField1:s,textField2:l,journalEntryId:d}),CE("journal_updated_firestore",{mood:i,textField1Length:s.length,textField2Length:l.length,journalEntryId:d})):(await(async(e,t,n,r)=>{if(!e||!t)throw new Error("User ID and mood are required for a journal entry.");try{const i=await(0,Pn.addDoc)((0,Pn.collection)(Dn,"journalEntries"),{userId:e,mood:t,reflection:n||"",futureStep:r||"",createdAt:(0,Pn.serverTimestamp)()});return console.log("Journal entry added with ID:",i.id),i.id}catch(i){throw console.error("Error adding journal entry:",i),i}})(e.uid,i,n,r),console.log("Journal entry saved to Firestore:",{mood:i,textField1:s,textField2:l,selectedDate:u}),CE("journal_saved_firestore",{mood:i,textField1Length:s.length,textField2Length:l.length})),t("home")}catch(e){console.error("Error saving/updating journal entry to Firestore:",e),CE("journal_save_failed",{mood:i,error:e.message})}}),[i,s,l,t,d,u]),S=(0,r.useCallback)((()=>{p(!0)}),[]),E=(0,r.useCallback)((async()=>{if(p(!1),d)try{await(async e=>{if(!e)throw new Error("Journal entry ID is required to delete.");try{const t=(0,Pn.doc)(Dn,"journalEntries",e);await(0,Pn.deleteDoc)(t),console.log("Journal entry deleted with ID:",e)}catch(t){throw console.error("Error deleting journal entry:",t),t}})(d),console.log("Journal entry deleted from Firestore:",d),CE("journal_deleted_firestore",{journalEntryId:d}),t("home")}catch(e){console.error("Error deleting journal entry:",e),CE("journal_delete_failed",{journalEntryId:d,error:e.message}),alert("Failed to delete journal entry.")}else console.log("No journal entry ID to delete."),t("home")}),[d,t]),k=(0,r.useCallback)((()=>{p(!1)}),[]),C=(0,r.useCallback)((e=>{let t=Qk(e);const n=Kk[t];return n?n.label:""}),[]),A=(0,r.useCallback)((e=>{let t=Qk(e);const n=Kk[t];return n?n.label:""}),[]),T=(0,r.useMemo)((()=>{var e;return(null===(e=Kk.find((e=>e.value===i)))||void 0===e?void 0:e.label)||"Focused"}),[i]),_=(0,r.useMemo)((()=>Kk.map(((e,t)=>({value:Yk(t),label:""})))),[]);return(0,jn.jsxs)("div",{className:"journal-form-page",children:[(0,jn.jsx)(Zv,{variant:"journalOverview",showBackArrow:!0,navigate:t}),(0,jn.jsxs)("main",{className:"journal-form-content journal-form-single-page",children:[(0,jn.jsx)(dh,{words:"In stillness, \n progress takes \nits form.",className:"journal-form-title"}),(0,jn.jsxs)("div",{className:"journal-form-section journal-form-section-mood",children:[(0,jn.jsxs)("div",{className:"mood-header",children:["Mood: ",T]}),(0,jn.jsx)("div",{className:"mood-slider-container",children:(0,jn.jsx)(mk,{"aria-label":"mood",defaultValue:Yk(Kk.findIndex((e=>e.value===i))),getAriaValueText:C,step:null,marks:_,min:0,max:100,valueLabelDisplay:"off",valueLabelFormat:A,onChange:y,scale:Qk,sx:{color:"var(--accent-color)","& .MuiSlider-track":{background:"linear-gradient(to right, #E682FF, #18A2FD, #7B7BFF)",border:"none"},"& .MuiSlider-rail":{backgroundColor:"#1D1B25",height:"4px"},"& .MuiSlider-thumb":{width:"8px",height:"8px",backgroundColor:"#00FF00","&:hover, &.Mui-focusVisible, &.Mui-active":{boxShadow:"0px 0px 0px 8px rgba(0, 255, 0, 0.16)"},"&.Mui-active":{width:"16px",height:"16px"}},"& .MuiSlider-valueLabel":{backgroundColor:"var(--card-background)",color:"var(--text-color)",fontFamily:"var(--font-commit-mono)",borderRadius:"8px",padding:"4px 8px"}}})})]}),(0,jn.jsxs)("div",{className:"journal-form-section journal-form-section-text1",children:[(0,jn.jsxs)("label",{htmlFor:"textField1",className:"journal-form-label",children:["Which moment made you feel ","<".concat(T.toLowerCase(),">"),"?"]}),(0,jn.jsxs)("div",{className:"journal-input-tile",children:[(0,jn.jsx)("textarea",{type:"text",id:"textField1",placeholder:"Find the root of this feeling in your day.",value:s,onChange:b,className:"journal-input journal-textarea journal-text-input-style"}),(0,jn.jsx)(KS,{className:"journal-edit-icon"})]})]}),(0,jn.jsxs)("div",{className:"journal-form-section journal-form-section-text2",children:[(0,jn.jsx)("label",{htmlFor:"textField2",className:"journal-form-label",children:"What's one step for tomorrow?"}),(0,jn.jsxs)("div",{className:"journal-input-tile",children:[(0,jn.jsx)("textarea",{type:"text",id:"textField2",placeholder:"One small action to shape your path.",value:l,onChange:w,className:"journal-input journal-textarea journal-text-input-style"}),(0,jn.jsx)(KS,{className:"journal-edit-icon"})]})]}),(0,jn.jsxs)("div",{className:"form-navigation form-navigation-single-page",children:[(0,jn.jsxs)("button",{className:"save-button",onClick:x,disabled:m,children:[" ",(0,jn.jsx)(dE,{className:"button-icon"}),"Save this note"]}),(0,jn.jsxs)("button",{className:"erase-button",onClick:S,disabled:m,children:[" ",(0,jn.jsx)(gE,{className:"button-icon"}),"Erase your thought"]})]})]}),(0,jn.jsx)(vw,{show:f,onHide:k,title:"Erase Journal Entry?",body:"Are you sure you want to erase this journal entry? This action cannot be undone.",onConfirm:E,cancelText:"Cancel"})]})}));Xk.displayName="JournalForm";const Jk=Xk,Zk=r.memo((e=>{let{navigate:t}=e;const n=(0,r.useCallback)((()=>{t("home")}),[t]),i=(0,r.useCallback)((()=>{t("journal-overview")}),[t]);return(0,jn.jsxs)("div",{className:"journal-confirmation-page",children:[" ",(0,jn.jsx)(Zv,{variant:"journalConfirmation",showBackArrow:!0,navigate:t})," ",(0,jn.jsxs)("div",{className:"motivational-section",children:[" ","Embrace the rhythm of your journey."]}),(0,jn.jsxs)("div",{className:"journal-confirmation-buttons sticky-button-container",children:[" ",(0,jn.jsx)("button",{onClick:n,className:"journal-confirmation-button return-home-button",children:"Return home"}),(0,jn.jsx)("button",{onClick:i,className:"journal-confirmation-button journal-overview-button",children:"Open your journal"})]})]})}));Zk.displayName="JournalConfirmation";const $k=Zk;var eC;const tC=["title","titleId"];function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nC.apply(null,arguments)}function rC(e,t){let{title:n,titleId:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tC);return r.createElement("svg",nC({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,eC||(eC=r.createElement("path",{d:"M10.6512 9.8022V4H13.3488V9.8022H10.6512ZM9.30233 12L4 9.0989L5.34884 6.9011L10.6279 9.8022L9.30233 12ZM14.6512 12L13.3488 9.82418L18.6512 6.9011L20 9.0989L14.6512 12ZM18.6512 17.0989L13.3023 14.1978L14.6512 12.022L20 14.9011L18.6512 17.0989ZM5.34884 17.0989L4 14.9011L9.30233 12.022L10.6512 14.1978L5.34884 17.0989ZM10.6512 20V14.2198H13.3023V20H10.6512Z",fill:"#00FF00"})))}const iC=r.forwardRef(rC),oC=(n.p,["image/jpeg","image/png","image/gif"]),sC=r.memo((e=>{let{navigate:t,projectId:n}=e;const i=n,[o,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(null),f=(0,r.useRef)(null),p=(0,r.useRef)(null),m=(0,r.useRef)(null),[g,v]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[w,x]=(0,r.useState)(""),[S,E]=(0,r.useState)(""),[k,C]=(0,r.useState)(null),[A,T]=(0,r.useState)("euro"),[_,I]=(0,r.useState)("euro"),[P,N]=(0,r.useState)(!1),[D,R]=(0,r.useState)(!0),O=(0,r.useCallback)((async()=>{R(!0);try{if(!Rn.currentUser)return void u("User not authenticated. Please sign in.");const e=(0,Pn.doc)(Dn,"projects",i),t=await(0,Pn.getDoc)(e);if(t.exists()){const e=t.data();s(e.name),l(e.hourRate?String(e.hourRate):""),h(e.imageUrl||null),T(e.currencyId||"euro"),x(e.name),E(e.hourRate?String(e.hourRate):""),C(e.imageUrl||null),I(e.currencyId||"euro")}else u("Project not found.")}catch(e){console.error("Error fetching project:",e),u("Failed to load project details.")}finally{R(!1)}}),[i]);(0,r.useEffect)((()=>{O()}),[O]),(0,r.useEffect)((()=>{N(o!==w||a!==S||d!==k||A!==_)}),[o,a,d,A,w,S,k,_]);const j=(0,r.useCallback)((async e=>new Promise(((t,n)=>{const r=new Image;r.onload=()=>{const i=document.createElement("canvas");let o=r.width,s=r.height;if(o>164||s>164){const e=o/s;o>s?(o=164,s=o/e):(s=164,o=s*e)}i.width=o,i.height=s;i.getContext("2d").drawImage(r,0,0,o,s),i.toBlob((r=>{if(r){const n=new File([r],e.name,{type:r.type,lastModified:Date.now()});t(n)}else n(new Error("Failed to compress image."))}),"image/jpeg",.5)},r.onerror=n,r.src=URL.createObjectURL(e)}))),[]),M=(0,r.useCallback)((async e=>{if(e.preventDefault(),u(""),o.trim()){v(!0);try{const e=(0,Pn.doc)(Dn,"projects",i);let r=(await(0,Pn.getDoc)(e)).data(),s=r.imageUrl;if(d&&"string"!==typeof d&&d!==r.imageUrl){const e=tS();if(s&&!s.startsWith("default-")){const t=eS(e,s);try{await $x(t),console.log("Old image deleted")}catch(n){console.error("Error deleting old image:",n)}}const t=Jx(eS(e,"project-images/".concat(Rn.currentUser.uid,"/").concat(o,"-").concat(Date.now())),d);s=await new Promise(((e,n)=>{t.on("state_changed",null,(e=>{v(!1),u("Failed to upload new image."),console.error("Image upload error:",e),n(e)}),(async()=>{const n=await Zx(t.snapshot.ref);e(n)}))}))}else"string"===typeof d&&(s=d);await(0,Pn.updateDoc)(e,{name:o.trim(),imageUrl:s,hourRate:a?parseInt(a,10):0,currencyId:A}),localStorage.removeItem("projectDetailData_".concat(Rn.currentUser.uid,"_").concat(i)),v(!1),t("project-detail",{projectId:i})}catch(r){v(!1),console.error("Error updating project:",r),u("Failed to update the project. Please try again.")}}else u("Project name is required.")}),[i,o,d,t,a,A]),L=(0,r.useCallback)((()=>{b(!0)}),[]),F=(0,r.useCallback)((async()=>{b(!1),R(!0);try{const n=(0,Pn.doc)(Dn,"projects",i),r=await(0,Pn.getDoc)(n),o=r.data().imageUrl;if(o&&!o.startsWith("default-")){const t=eS(tS(),o);try{await $x(t),console.log("Project image deleted from storage")}catch(e){console.error("Error deleting project image from storage:",e)}}const s=(0,Pn.query)((0,Pn.collection)(Dn,"sessions"),(0,Pn.where)("projectId","==",i)),a=await(0,Pn.getDocs)(s),l=Dn.batch();a.forEach((e=>{l.delete(e.ref)})),await l.commit(),console.log("Related sessions deleted"),await(0,Pn.deleteDoc)(n),t("projects")}catch(n){R(!1),console.error("Error deleting project:",n),u("Failed to delete the project.")}}),[i,t]),V=(0,r.useCallback)((()=>{b(!1)}),[]),U=(0,r.useCallback)((()=>{f.current.click()}),[]),B=(0,r.useCallback)((async e=>{const t=e.target.files[0];if(!t)return;if(!oC.includes(t.type))return alert("Please select a valid image file type: ".concat(oC.join(", "))),void(e.target.value="");if(t.size>4194304)return alert("Image size should be less than ".concat(2048," KB.")),void(e.target.value="");const n=new Image;n.onload=async()=>{if(n.width>5e3||n.height>5e3)return alert("Image dimensions should not exceed ".concat(5e3,"x").concat(5e3," pixels.")),h(null),void(e.target.value="");try{const e=await j(t);h(e)}catch(r){console.error("Image compression error:",r),alert("Failed to process image. Please try again."),h(null),e.target.value=""}},n.onerror=()=>{alert("Error loading image."),h(null),e.target.value=""},n.src=URL.createObjectURL(t)}),[j]),z=(0,r.useCallback)((e=>e.trim().charAt(0).toUpperCase()),[]),q=(0,r.useMemo)((()=>d&&"string"!==typeof d?(0,jn.jsx)("img",{src:URL.createObjectURL(d),alt:"Project",className:"project-image"}):d&&"string"===typeof d?(0,jn.jsx)("img",{src:d,alt:"Project",className:"project-image"}):(0,jn.jsx)("div",{className:"default-project-image",style:{backgroundColor:"#7B7BFF"},children:(0,jn.jsx)("span",{children:z(o||"P")})})),[d,o,z]),H=(0,r.useCallback)((()=>{T((e=>"euro"===e?"dollar":"euro"))}),[]),W=(0,r.useMemo)((()=>D||g?(0,jn.jsx)("div",{className:"spinner"}):(0,jn.jsxs)(jn.Fragment,{children:[(0,jn.jsx)(iC,{className:"button-icon"}),"Update Project"]})),[D,g]);return D?(0,jn.jsx)("div",{className:"homepage-loading",children:(0,jn.jsx)(Ey,{className:"profile-pic souko-logo-header spinning-logo"})}):(0,jn.jsxs)("div",{className:"update-project-page",children:[(0,jn.jsx)(Zv,{variant:"journalOverview",showBackArrow:!0,navigate:t})," ",(0,jn.jsxs)("main",{className:"update-project-content",children:[(0,jn.jsx)("section",{className:"motivational-section",children:(0,jn.jsx)(dh,{words:'Precision fuels \n progress set it\n up <span class="accent-text"> your way.</span>',element:"h1"})}),(0,jn.jsxs)("section",{className:"project-details-section",children:[(0,jn.jsx)("h2",{children:"Project details"}),(0,jn.jsxs)("div",{className:"project-input-wrapper",children:[(0,jn.jsx)("div",{className:"project-image-container",onClick:U,children:q}),(0,jn.jsx)("input",{type:"text",placeholder:"Project name",value:o,onChange:e=>s(e.target.value),className:"project-name-input",ref:p,onBlur:()=>{var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})}}),(0,jn.jsx)("input",{type:"file",accept:"image/jpeg, image/png, image/gif",onChange:B,ref:f,style:{display:"none"}}),(0,jn.jsx)("button",{type:"button",className:"icon-button",onClick:U,children:(0,jn.jsx)(yS,{})})]}),(0,jn.jsxs)("div",{className:"project-input-wrapper",children:[(0,jn.jsx)("div",{className:"project-icon-container",children:(0,jn.jsx)(aS,{className:"project-visual",style:{fill:"#FFFFFF"}})}),(0,jn.jsx)("input",{type:"number",placeholder:"Hour rate",value:a,onChange:e=>l(e.target.value),className:"project-name-input",ref:m,onBlur:()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},inputMode:"numeric"}),(0,jn.jsx)("button",{type:"button",className:"icon-button",onClick:H,children:"euro"===A?(0,jn.jsx)(ES,{}):(0,jn.jsx)(_S,{})})]})]}),c&&(0,jn.jsx)("p",{className:"error-message",children:c}),(0,jn.jsx)("button",{className:"save-button sticky-button-top ".concat(P?"":"disabled"),onClick:M,disabled:g||!P,children:W}),(0,jn.jsxs)("button",{className:"erase-button sticky-button",onClick:L,children:[(0,jn.jsx)(gE,{className:"button-icon"}),"Delete Project"]}),y&&(0,jn.jsxs)("div",{className:"delete-confirmation-dialog",children:[(0,jn.jsx)("p",{children:"Are you sure you want to delete this project and all its sessions?"}),(0,jn.jsxs)("div",{className:"dialog-buttons",children:[(0,jn.jsx)("button",{onClick:F,className:"confirm-delete",children:"Yes, Delete"}),(0,jn.jsx)("button",{onClick:V,className:"cancel-delete",children:"Cancel"})]})]})]})]})}));sC.displayName="UpdateProjectPage";const aC=sC;const lC=function(e){let{navigate:t}=e;return(0,jn.jsxs)("div",{className:"onboarding-step1",children:[(0,jn.jsx)(Zv,{variant:"onboarding",currentStep:1,navigate:t})," ",(0,jn.jsx)("main",{className:"onboarding-step1-content",children:(0,jn.jsxs)("section",{className:"motivational-section",children:[(0,jn.jsx)(dh,{words:"Mastery isn't rushed; it's\n built. Welcome to <span class=\"accent-text\">Souko</span>.Track your\n projects,refine your flow.",element:"h1"}),(0,jn.jsx)("p",{className:"onboarding-description",children:"Let\u2019s set up your first project so you can start tracking your time effortlessly."})]})}),(0,jn.jsx)("button",{className:"average-onboarding sticky-button-top",disabled:!0,children:"Average onboarding in 43.2 seconds"}),(0,jn.jsxs)("button",{className:"get-started-button sticky-button",onClick:()=>{t("onboarding-step2")},children:[(0,jn.jsx)(dE,{className:"button-icon",style:{fill:"var(--text-color)"}}),"Get started"]})]})},cC=(0,r.createContext)(),uC=()=>(0,r.useContext)(cC),dC=e=>{let{children:t}=e;console.log("OnboardingProvider - RENDER START");const[n,i]=(0,r.useState)(""),[o,s]=(0,r.useState)(""),[a,l]=(0,r.useState)("euro"),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)("focused"),f=(0,r.useMemo)((()=>({projectName:n,setProjectName:i,hourRate:o,setHourRate:s,currencyId:a,setCurrencyId:l,projectImage:c,setProjectImage:u,mood:d,setMood:h})),[n,o,a,c,d]),p=(0,r.useRef)(null);return(0,r.useEffect)((()=>{if(p.current){const e=p.current,t=f,n=e.projectName!==t.projectName||e.hourRate!==t.hourRate||e.currencyId!==t.currencyId||e.projectImage!==t.projectImage||e.mood!==t.mood;console.log("OnboardingProvider - Context Value Changed:",n),n||console.log("OnboardingProvider - CONTEXT VALUE OBJECT REFERENCE CHANGED BUT DATA UNCHANGED")}else console.log("OnboardingProvider - Initial Render - Context Value Set");p.current=f,console.log("OnboardingProvider - Context Value:",f)})),console.log("OnboardingProvider - RENDER END"),(0,jn.jsx)(cC.Provider,{value:f,children:t})},hC=["image/jpeg","image/png","image/gif"];const fC=function(e){let{navigate:t}=e;const{projectName:n,setProjectName:i,hourRate:o,setHourRate:s,currencyId:a,setCurrencyId:l,projectImage:c,setProjectImage:u}=uC(),[d,h]=(0,r.useState)(""),f=(0,r.useRef)(null),p=(0,r.useRef)(null),m=(0,r.useRef)(null),g=(0,r.useCallback)((async e=>new Promise(((t,n)=>{const r=new Image;r.onload=()=>{const i=document.createElement("canvas");let o=r.width,s=r.height;if(o>164||s>164){const e=o/s;o>s?(o=164,s=o/e):(s=164,o=s*e)}i.width=o,i.height=s;i.getContext("2d").drawImage(r,0,0,o,s),i.toBlob((r=>{if(r){const n=new File([r],e.name,{type:r.type,lastModified:Date.now()});t(n)}else n(new Error("Failed to compress image."))}),"image/jpeg",.5)},r.onerror=n,r.src=URL.createObjectURL(e)}))),[]),v=(0,r.useCallback)((()=>{f.current.click()}),[]),y=(0,r.useCallback)((async e=>{const t=e.target.files[0];if(!t)return;if(!hC.includes(t.type))return alert("Please select a valid image file type: ".concat(hC.join(", "))),void(e.target.value="");if(t.size>2097152)return alert("Image size should be less than ".concat(2048," KB.")),void(e.target.value="");const n=new Image;n.onload=async()=>{if(n.width>5e3||n.height>5e3)return alert("Image dimensions should not exceed ".concat(5e3,"x").concat(5e3," pixels.")),u(null),void(e.target.value="");try{const e=await g(t);u(e)}catch(r){console.error("Image compression error:",r),alert("Failed to process image. Please try again."),u(null),e.target.value=""}},n.onerror=()=>{alert("Error loading image."),u(null),e.target.value=""},n.src=URL.createObjectURL(t)}),[g,u]),b=(0,r.useCallback)((e=>e.trim().charAt(0).toUpperCase()),[]),w=(0,r.useMemo)((()=>c&&"string"!==typeof c?(0,jn.jsx)("img",{src:URL.createObjectURL(c),alt:"Project",className:"project-image"}):c&&"string"===typeof c?(0,jn.jsx)("img",{src:c,alt:"Project",className:"project-image"}):(0,jn.jsx)("div",{className:"default-project-image",style:{backgroundColor:"#7B7BFF"},children:(0,jn.jsx)("span",{children:b(n||"P")})})),[c,n,b]),x=(0,r.useCallback)((()=>{l((e=>"euro"===e?"dollar":"euro"))}),[l]),S=(0,r.useCallback)((async e=>{e.preventDefault(),n.trim()?(h(""),t("onboarding-step3")):h("Project name is required.")}),[n,t]);return(0,jn.jsxs)("div",{className:"onboarding-step2",children:[(0,jn.jsx)(Zv,{variant:"onboarding",currentStep:2,navigate:t})," ",(0,jn.jsxs)("main",{className:"onboarding-step2-content",children:[(0,jn.jsx)("section",{className:"motivational-section",children:(0,jn.jsx)(dh,{words:"Every journey\nbegins with one\nmoment.\nTell me about your project ...",element:"h1"})}),(0,jn.jsxs)("section",{className:"project-details-section",children:[(0,jn.jsx)("h2",{children:"Project details"}),(0,jn.jsxs)("div",{className:"project-input-wrapper",children:[(0,jn.jsx)("div",{className:"project-image-container",onClick:v,children:w}),(0,jn.jsx)("input",{type:"text",placeholder:"Project name",value:n,onChange:e=>i(e.target.value),className:"project-name-input",ref:p,onBlur:()=>{var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})}}),(0,jn.jsx)("input",{type:"file",accept:"image/jpeg, image/png, image/gif",onChange:y,ref:f,style:{display:"none"}}),(0,jn.jsx)("button",{type:"button",className:"icon-button",onClick:v,children:(0,jn.jsx)(yS,{})})]}),(0,jn.jsxs)("div",{className:"project-input-wrapper",children:[(0,jn.jsx)("div",{className:"project-icon-container",children:(0,jn.jsx)(aS,{className:"project-visual",style:{fill:"#FFFFFF"}})}),(0,jn.jsx)("input",{type:"number",placeholder:"Hour rate",value:o,onChange:e=>s(e.target.value),className:"project-name-input",ref:m,onBlur:()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},inputMode:"numeric"}),(0,jn.jsx)("button",{type:"button",className:"icon-button",onClick:x,children:"euro"===a?(0,jn.jsx)(ES,{}):(0,jn.jsx)(_S,{})})]})]}),d&&(0,jn.jsx)("p",{className:"error-message",children:d})]}),(0,jn.jsxs)("button",{className:"create-project-button sticky-button",onClick:S,children:[(0,jn.jsx)("span",{className:"button-icon",children:"\u271b"})," Next"]})]})},pC=[0,25,50,75,100],mC=[{value:"frustrated",label:"Frustrated"},{value:"unmotivated",label:"Unmotivated"},{value:"neutral",label:"Neutral"},{value:"focused",label:"Focused"},{value:"inspired",label:"Inspired"}],gC=e=>{let t=-1;for(let n=0;n<pC.length;n++)if(e<=pC[n]){t=n;break}return-1===t&&(t=pC.length-1),t},vC=e=>pC[e]||0,yC=mC.map(((e,t)=>({value:vC(t),label:""})));const bC=function(e){var t;let{navigate:n}=e;const{mood:i,setMood:o}=uC(),[s,a]=(0,r.useState)(75),l=(0,r.useCallback)(((e,t)=>{let n=gC(t);n>=0&&n<mC.length&&o(mC[n].value),a(t)}),[o]),c=(null===(t=mC.find((e=>e.value===i)))||void 0===t?void 0:t.label)||"Focused";return(0,jn.jsxs)("div",{className:"onboarding-step3",children:[(0,jn.jsx)(Zv,{variant:"onboarding",currentStep:3,navigate:n})," ",(0,jn.jsxs)("main",{className:"onboarding-step3-content",children:[(0,jn.jsx)("section",{className:"motivational-section",children:(0,jn.jsx)(dh,{words:'In stillness,\nprogress takes its <span class="accent-text">form</span>.\nReflect on your process\n<span class="accent-text">from 18:00</span> to refine your flow.',element:"h1"})}),(0,jn.jsxs)("div",{className:"mood-container",children:[(0,jn.jsxs)("p",{className:"mood-label",children:["Mood: ",(0,jn.jsx)("span",{className:"mood-value",children:c})]}),(0,jn.jsx)("div",{className:"mood-slider-container",children:(0,jn.jsx)(mk,{"aria-label":"mood-slider",defaultValue:vC(mC.findIndex((e=>e.value===i))),step:null,marks:yC,min:0,max:100,value:s,onChange:l,valueLabelDisplay:"off",scale:gC,sx:{color:"var(--accent-color)","& .MuiSlider-track":{background:"linear-gradient(to right, #E682FF, #18A2FD, #7B7BFF)",border:"none"},"& .MuiSlider-rail":{backgroundColor:"#1D1B25",height:"4px"},"& .MuiSlider-thumb":{width:"8px",height:"8px",backgroundColor:"#00FF00","&:hover, &.Mui-focusVisible, &.Mui-active":{boxShadow:"0px 0px 0px 8px rgba(0, 255, 0, 0.16)"},"&.Mui-active":{width:"16px",height:"16px"}}}})})]}),(0,jn.jsxs)("button",{className:"log-mood-button sticky-button",onClick:()=>{n("onboarding-step4")},children:[(0,jn.jsx)(dE,{className:"button-icon",style:{fill:"var(--text-color)"}}),"Log your mood"]})]})]})};const wC=function(e){let{navigate:t}=e;const[n,i]=(0,r.useState)(""),{projectName:o,hourRate:s,currencyId:a,projectImage:l,mood:c}=uC();return(0,jn.jsxs)("div",{className:"onboarding-step4",children:[(0,jn.jsx)(Zv,{variant:"onboarding",currentStep:4,navigate:t}),(0,jn.jsxs)("main",{className:"onboarding-step4-content",children:[(0,jn.jsxs)("section",{className:"motivational-section",children:[(0,jn.jsx)(dh,{words:'The song of your\nroots is the song\nof now. Tap <span class="accent-text">play</span>\nto discover the\ntime tracker.',element:"h1"}),(0,jn.jsx)("p",{className:"onboarding-description",children:"You\u2019re all set. Use Souko your way! Track time, refine your flow, enjoy the moments!"})]}),n&&(0,jn.jsx)("p",{className:"error-message",children:n})]}),(0,jn.jsx)("button",{className:"fab",onClick:async()=>{try{const e=Rn.currentUser;if(!e)throw new Error("User not logged in.");await(0,Pn.setDoc)((0,Pn.doc)(Dn,"profiles",e.uid),{uid:e.uid,featureAccessLevel:"free",displayName:e.displayName||"",email:e.email||"",onboardingComplete:!0,createdAt:(0,Pn.serverTimestamp)()},{merge:!0});let n=null;if(l&&"string"!==typeof l){const t=tS(),r=Jx(eS(t,"project-images/".concat(e.uid,"/").concat(o,"-").concat(Date.now())),l);await new Promise(((e,t)=>{r.on("state_changed",(()=>{}),(e=>t(e)),(async()=>{n=await Zx(r.snapshot.ref),e()}))}))}const r=await(0,Pn.addDoc)((0,Pn.collection)(Dn,"projects"),{userId:e.uid,name:o.trim(),hourRate:s?parseInt(s,10):0,currencyId:a,imageUrl:n||null,trackedTime:0,createdAt:(0,Pn.serverTimestamp)()});await(0,Pn.addDoc)((0,Pn.collection)(Dn,"journalEntries"),{userId:e.uid,projectId:r.id,mood:c,reflection:"",createdAt:(0,Pn.serverTimestamp)()}),t("time-tracker-setup")}catch(e){console.error("Error finalizing onboarding:",e),i("Failed to finish onboarding. Please try again.")}},children:(0,jn.jsx)(cy,{className:"fab-icon"})})]})},xC={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let SC;const EC=new Uint8Array(16);const kC=[];for(let RC=0;RC<256;++RC)kC.push((RC+256).toString(16).slice(1));function CC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(kC[e[t+0]]+kC[e[t+1]]+kC[e[t+2]]+kC[e[t+3]]+"-"+kC[e[t+4]]+kC[e[t+5]]+"-"+kC[e[t+6]]+kC[e[t+7]]+"-"+kC[e[t+8]]+kC[e[t+9]]+"-"+kC[e[t+10]]+kC[e[t+11]]+kC[e[t+12]]+kC[e[t+13]]+kC[e[t+14]]+kC[e[t+15]]).toLowerCase()}const AC=function(e,t,n){var r,i,o,s;if(xC.randomUUID&&!t&&!e)return xC.randomUUID();const a=null!==(r=null!==(i=(e=e||{}).random)&&void 0!==i?i:null===(o=(s=e).rng)||void 0===o?void 0:o.call(s))&&void 0!==r?r:function(){if(!SC){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");SC=crypto.getRandomValues.bind(crypto)}return SC(EC)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError("UUID byte range ".concat(n,":").concat(n+15," is out of buffer bounds"));for(let e=0;e<16;++e)t[n+e]=a[e];return t}return CC(a)},TC=r.memo((e=>{let{navigate:t}=e;const[n,i]=(0,r.useState)(!0),[o,s]=(0,r.useState)([]),[a,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)("euro"),[f,p]=(0,r.useState)(!0),[m,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=lt(Rn,(async e=>{if(e){i(!0);try{const t=(0,Pn.collection)(Dn,"projects"),n=(0,Pn.query)(t,(0,Pn.where)("userId","==",e.uid)),r=(await(0,Pn.getDocs)(n)).docs.map((e=>(0,In.A)({id:e.id},e.data())));if(r.length>0){r.sort(((e,t)=>{var n,r,i,o;const s=e.lastTrackedTime?null===(n=(r=e.lastTrackedTime).toMillis)||void 0===n?void 0:n.call(r):0;return(t.lastTrackedTime?null===(i=(o=t.lastTrackedTime).toMillis)||void 0===i?void 0:i.call(o):0)-s})),s(r);const e=r[0];l(e),e.hourRate&&u(e.hourRate),e.currencyId&&h(e.currencyId)}}catch(n){console.error("Error loading projects for time tracker setup:",n)}finally{i(!1)}}else t("login")}));return()=>e()}),[t]);const b=(0,r.useCallback)((e=>{const t=e.target.value,n=o.find((e=>e.name===t));n&&(l(n),n.hourRate&&u(n.hourRate),n.currencyId&&h(n.currencyId))}),[o]),w=(0,r.useCallback)((e=>{u(e.target.value)}),[]),x=(0,r.useCallback)((e=>{h(e.target.value)}),[]),S=(0,r.useCallback)((()=>{p((e=>!e))}),[]),E=(0,r.useCallback)((async()=>{if(a)try{const e=(0,Pn.doc)((0,Pn.collection)(Dn,"sessions")),n=AC();localStorage.setItem("sessionToken",n),await(0,Pn.setDoc)(e,{userId:Rn.currentUser.uid,project:a.name,projectId:a.id,hourRate:Number(c)||0,currencyId:d||"euro",isBillable:f,startTime:(0,Pn.serverTimestamp)(),startTimeMs:Date.now(),clientStartTime:Date.now(),endTime:null,elapsedTime:0,paused:!1,status:"running",pauseEvents:[],activeToken:n,activeInstanceId:null}),t("time-tracker",{sessionId:e.id})}catch(e){console.error("Error creating session:",e)}else alert("Please select a project first.")}),[a,c,d,f,t]);return n?(0,jn.jsx)("div",{className:"homepage-loading",children:(0,jn.jsx)(Ey,{className:"profile-pic souko-logo-header spinning-logo"})}):(0,jn.jsxs)("div",{className:"time-tracker-page",children:[(0,jn.jsx)(Zv,{variant:"journalOverview",showBackArrow:!0,onBack:()=>t("home",{skipAutoRedirect:!0}),navigate:t,onProfileClick:()=>g(!0)}),(0,jn.jsx)("div",{className:"motivational-section",children:"Every journey begins with one moment."}),(0,jn.jsx)("h2",{className:"projects-label",children:"Define your time session"}),(0,jn.jsxs)("div",{className:"project-dropdown-container",children:[null!==a&&void 0!==a&&a.imageUrl?(0,jn.jsx)("img",{src:a.imageUrl,alt:a.name,className:"dropdown-project-image"}):null!==a&&void 0!==a&&a.name?(0,jn.jsx)("div",{className:"dropdown-default-image",children:a.name.charAt(0).toUpperCase()}):null,(0,jn.jsx)("select",{className:"project-dropdown",value:(null===a||void 0===a?void 0:a.name)||"",onChange:b,children:o.map((e=>(0,jn.jsx)("option",{value:e.name,children:e.name},e.id)))}),(0,jn.jsx)(MS,{className:"dropdown-arrow"})]}),(0,jn.jsxs)("div",{className:"project-dropdown-container",onClick:S,children:[(0,jn.jsx)("span",{className:"input-label billable-label",children:f?"Billable":"Non-billable"}),(0,jn.jsx)("div",{className:"billable-radio",children:f?(0,jn.jsx)(tE,{}):(0,jn.jsx)(sE,{})})]}),(0,jn.jsxs)("div",{className:"hour-rate-currency-container",children:[(0,jn.jsx)("input",{type:"number",min:"0",className:"project-dropdown",placeholder:"Hour Rate",value:c,onChange:w}),(0,jn.jsxs)("select",{className:"currency-select",value:d,onChange:x,children:[(0,jn.jsx)("option",{value:"euro",children:"\u20ac"}),(0,jn.jsx)("option",{value:"usd",children:"$"}),(0,jn.jsx)("option",{value:"gbp",children:"\xa3"})]})]}),(0,jn.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"40px"},children:(0,jn.jsx)("button",{className:"control-button fab-like",onClick:E,children:(0,jn.jsx)(cy,{style:{width:"64px",height:"64px"}})})}),(0,jn.jsx)(Iy,{isOpen:m,onClose:()=>g(!1),onLogout:()=>{y(!0)}}),m&&(0,jn.jsx)("div",{className:"sidebar-overlay",onClick:()=>g(!1)}),(0,jn.jsx)(vw,{show:v,onHide:()=>y(!1),title:"Confirm Sign Out",body:"Are you sure you want to sign out?",onConfirm:()=>{}})]})}));TC.displayName="TimeTrackerSetupPage";const _C=TC,IC=(0,r.memo)((()=>{console.log("App - RENDER START");const[e,t]=(0,r.useState)("login"),[n,i]=(0,r.useState)({});(0,r.useEffect)((()=>{var e,t;(e=Rn,t=gt,(0,a.Ku)(e).setPersistence(t)).then((()=>{console.log("Firebase persistence set to browserSessionPersistence")})).catch((e=>{console.error("Error setting auth persistence:",e)}))}),[]);const o=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(e),i(n),console.log("Navigating to: ".concat(e," with params:"),n)};return console.log("App - RENDER END"),(0,jn.jsx)(dC,{children:(0,jn.jsx)("div",{className:"app-container",children:(0,jn.jsx)(Jn,{mode:"wait",initial:!1,children:(0,jn.jsx)(Bu.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"motion-container",children:(()=>{switch(e){case"login":return(0,jn.jsx)($v,{navigate:o});case"home":return(0,jn.jsx)(Xb,{navigate:o,currentPage:e,skipAutoRedirect:n.skipAutoRedirect});case"projects":return(0,jn.jsx)(xE,{navigate:o});case"time-tracker-setup":return(0,jn.jsx)(_C,{navigate:o});case"time-tracker":return(0,jn.jsx)(bw,{navigate:o,sessionId:n.sessionId});case"create-project":return(0,jn.jsx)(NS,{navigate:o});case"project-detail":return(0,jn.jsx)(XS,{navigate:o,projectId:n.projectId});case"session-detail":return(0,jn.jsx)(vE,{navigate:o,sessionId:n.sessionId});case"session-overview":return(0,jn.jsx)(bE,{navigate:o,totalTime:n.totalTime,projectId:n.projectId});case"journal-countdown":return(0,jn.jsx)(kE,{navigate:o});case"journal-overview":return(0,jn.jsx)(SE,{navigate:o});case"journal-form":return(0,jn.jsx)(Jk,{navigate:o,selectedDate:n.selectedDate});case"journal-confirmation":return(0,jn.jsx)($k,{navigate:o});case"update-project":return(0,jn.jsx)(aC,{navigate:o,projectId:n.projectId});case"onboarding-step1":return(0,jn.jsx)(lC,{navigate:o});case"onboarding-step2":return(0,jn.jsx)(fC,{navigate:o});case"onboarding-step3":return(0,jn.jsx)(bC,{navigate:o});case"onboarding-step4":return(0,jn.jsx)(wC,{navigate:o});default:return(0,jn.jsx)("div",{children:"Page Not Found"})}})()},e)})})})})),PC=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function NC(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}o.createRoot(document.getElementById("root")).render((0,jn.jsx)(r.StrictMode,{children:(0,jn.jsx)(IC,{})})),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t="".concat("","/service-worker.js");PC?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((n=>{const r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):NC(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):NC(t,e)}))}}()})();
//# sourceMappingURL=main.b307d7ca.js.map